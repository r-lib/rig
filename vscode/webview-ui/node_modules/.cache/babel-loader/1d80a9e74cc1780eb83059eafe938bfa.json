{"ast":null,"code":"import _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _get from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { __decorate } from \"tslib\";\nimport { attr, DOM, observable } from \"@microsoft/fast-element\";\nimport { getDisplayedNodes, isHTMLElement, keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnd, keyEnter, keyHome } from \"@microsoft/fast-web-utilities\";\nimport { isTreeItemElement, TreeItem } from \"../tree-item/tree-item.js\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A Tree view Custom HTML Element.\n * Implements the {@link https://w3c.github.io/aria-practices/#TreeView | ARIA TreeView }.\n *\n * @slot - The default slot for tree items\n *\n * @public\n */\n\nexport var TreeView = /*#__PURE__*/function (_FoundationElement) {\n  _inherits(TreeView, _FoundationElement);\n\n  var _super = _createSuper(TreeView);\n\n  function TreeView() {\n    var _this;\n\n    _classCallCheck(this, TreeView);\n\n    _this = _super.apply(this, arguments);\n    /**\n     * The tree item that is designated to be in the tab queue.\n     *\n     * @internal\n     */\n\n    _this.currentFocused = null;\n    /**\n     * Handle focus events\n     *\n     * @internal\n     */\n\n    _this.handleFocus = function (e) {\n      if (_this.slottedTreeItems.length < 1) {\n        // no child items, nothing to do\n        return;\n      }\n\n      if (e.target === _assertThisInitialized(_this)) {\n        if (_this.currentFocused === null) {\n          _this.currentFocused = _this.getValidFocusableItem();\n        }\n\n        if (_this.currentFocused !== null) {\n          TreeItem.focusItem(_this.currentFocused);\n        }\n\n        return;\n      }\n\n      if (_this.contains(e.target)) {\n        _this.setAttribute(\"tabindex\", \"-1\");\n\n        _this.currentFocused = e.target;\n      }\n    };\n    /**\n     * Handle blur events\n     *\n     * @internal\n     */\n\n\n    _this.handleBlur = function (e) {\n      if (e.target instanceof HTMLElement && (e.relatedTarget === null || !_this.contains(e.relatedTarget))) {\n        _this.setAttribute(\"tabindex\", \"0\");\n      }\n    };\n    /**\n     * KeyDown handler\n     *\n     *  @internal\n     */\n\n\n    _this.handleKeyDown = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (_this.slottedTreeItems.length < 1) {\n        return true;\n      }\n\n      var treeItems = _this.getVisibleNodes();\n\n      switch (e.key) {\n        case keyHome:\n          if (treeItems.length) {\n            TreeItem.focusItem(treeItems[0]);\n          }\n\n          return;\n\n        case keyEnd:\n          if (treeItems.length) {\n            TreeItem.focusItem(treeItems[treeItems.length - 1]);\n          }\n\n          return;\n\n        case keyArrowLeft:\n          if (e.target && _this.isFocusableElement(e.target)) {\n            var item = e.target;\n\n            if (item instanceof TreeItem && item.childItemLength() > 0 && item.expanded) {\n              item.expanded = false;\n            } else if (item instanceof TreeItem && item.parentElement instanceof TreeItem) {\n              TreeItem.focusItem(item.parentElement);\n            }\n          }\n\n          return false;\n\n        case keyArrowRight:\n          if (e.target && _this.isFocusableElement(e.target)) {\n            var _item = e.target;\n\n            if (_item instanceof TreeItem && _item.childItemLength() > 0 && !_item.expanded) {\n              _item.expanded = true;\n            } else if (_item instanceof TreeItem && _item.childItemLength() > 0) {\n              _this.focusNextNode(1, e.target);\n            }\n          }\n\n          return;\n\n        case keyArrowDown:\n          if (e.target && _this.isFocusableElement(e.target)) {\n            _this.focusNextNode(1, e.target);\n          }\n\n          return;\n\n        case keyArrowUp:\n          if (e.target && _this.isFocusableElement(e.target)) {\n            _this.focusNextNode(-1, e.target);\n          }\n\n          return;\n\n        case keyEnter:\n          // In single-select trees where selection does not follow focus (see note below),\n          // the default action is typically to select the focused node.\n          _this.handleClick(e);\n\n          return;\n      } // don't prevent default if we took no action\n\n\n      return true;\n    };\n    /**\n     * Handles the selected-changed events bubbling up\n     * from child tree items\n     *\n     *  @internal\n     */\n\n\n    _this.handleSelectedChange = function (e) {\n      if (e.defaultPrevented) {\n        return;\n      }\n\n      if (!(e.target instanceof Element) || !isTreeItemElement(e.target)) {\n        return true;\n      }\n\n      var item = e.target;\n\n      if (item.selected) {\n        if (_this.currentSelected && _this.currentSelected !== item) {\n          _this.currentSelected.selected = false;\n        } // new selected item\n\n\n        _this.currentSelected = item;\n      } else if (!item.selected && _this.currentSelected === item) {\n        // selected item deselected\n        _this.currentSelected = null;\n      }\n\n      return;\n    };\n    /**\n     * Updates the tree view when slottedTreeItems changes\n     */\n\n\n    _this.setItems = function () {\n      // force single selection\n      // defaults to first one found\n      var selectedItem = _this.treeView.querySelector(\"[aria-selected='true']\");\n\n      _this.currentSelected = selectedItem; // invalidate the current focused item if it is no longer valid\n\n      if (_this.currentFocused === null || !_this.contains(_this.currentFocused)) {\n        _this.currentFocused = _this.getValidFocusableItem();\n      } // toggle properties on child elements\n\n\n      _this.nested = _this.checkForNestedItems();\n\n      var treeItems = _this.getVisibleNodes();\n\n      treeItems.forEach(function (node) {\n        if (isTreeItemElement(node)) {\n          node.nested = _this.nested;\n        }\n      });\n    };\n    /**\n     * check if the item is focusable\n     */\n\n\n    _this.isFocusableElement = function (el) {\n      return isTreeItemElement(el);\n    };\n\n    _this.isSelectedElement = function (el) {\n      return el.selected;\n    };\n\n    return _this;\n  }\n\n  _createClass(TreeView, [{\n    key: \"slottedTreeItemsChanged\",\n    value: function slottedTreeItemsChanged() {\n      if (this.$fastController.isConnected) {\n        // update for slotted children change\n        this.setItems();\n      }\n    }\n  }, {\n    key: \"connectedCallback\",\n    value: function connectedCallback() {\n      var _this2 = this;\n\n      _get(_getPrototypeOf(TreeView.prototype), \"connectedCallback\", this).call(this);\n\n      this.setAttribute(\"tabindex\", \"0\");\n      DOM.queueUpdate(function () {\n        _this2.setItems();\n      });\n    }\n    /**\n     * Handles click events bubbling up\n     *\n     *  @internal\n     */\n\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      if (e.defaultPrevented) {\n        // handled, do nothing\n        return;\n      }\n\n      if (!(e.target instanceof Element) || !isTreeItemElement(e.target)) {\n        // not a tree item, ignore\n        return true;\n      }\n\n      var item = e.target;\n\n      if (!item.disabled) {\n        item.selected = !item.selected;\n      }\n\n      return;\n    }\n    /**\n     * Move focus to a tree item based on its offset from the provided item\n     */\n\n  }, {\n    key: \"focusNextNode\",\n    value: function focusNextNode(delta, item) {\n      var visibleNodes = this.getVisibleNodes();\n\n      if (!visibleNodes) {\n        return;\n      }\n\n      var focusItem = visibleNodes[visibleNodes.indexOf(item) + delta];\n\n      if (isHTMLElement(focusItem)) {\n        TreeItem.focusItem(focusItem);\n      }\n    }\n    /**\n     * checks if there are any nested tree items\n     */\n\n  }, {\n    key: \"getValidFocusableItem\",\n    value: function getValidFocusableItem() {\n      var treeItems = this.getVisibleNodes(); // default to selected element if there is one\n\n      var focusIndex = treeItems.findIndex(this.isSelectedElement);\n\n      if (focusIndex === -1) {\n        // otherwise first focusable tree item\n        focusIndex = treeItems.findIndex(this.isFocusableElement);\n      }\n\n      if (focusIndex !== -1) {\n        return treeItems[focusIndex];\n      }\n\n      return null;\n    }\n    /**\n     * checks if there are any nested tree items\n     */\n\n  }, {\n    key: \"checkForNestedItems\",\n    value: function checkForNestedItems() {\n      return this.slottedTreeItems.some(function (node) {\n        return isTreeItemElement(node) && node.querySelector(\"[role='treeitem']\");\n      });\n    }\n  }, {\n    key: \"getVisibleNodes\",\n    value: function getVisibleNodes() {\n      return getDisplayedNodes(this, \"[role='treeitem']\") || [];\n    }\n  }]);\n\n  return TreeView;\n}(FoundationElement);\n\n__decorate([attr({\n  attribute: \"render-collapsed-nodes\"\n})], TreeView.prototype, \"renderCollapsedNodes\", void 0);\n\n__decorate([observable], TreeView.prototype, \"currentSelected\", void 0);\n\n__decorate([observable], TreeView.prototype, \"slottedTreeItems\", void 0);","map":{"version":3,"names":["__decorate","attr","DOM","observable","getDisplayedNodes","isHTMLElement","keyArrowDown","keyArrowLeft","keyArrowRight","keyArrowUp","keyEnd","keyEnter","keyHome","isTreeItemElement","TreeItem","FoundationElement","TreeView","arguments","currentFocused","handleFocus","e","slottedTreeItems","length","target","getValidFocusableItem","focusItem","contains","setAttribute","handleBlur","HTMLElement","relatedTarget","handleKeyDown","defaultPrevented","treeItems","getVisibleNodes","key","isFocusableElement","item","childItemLength","expanded","parentElement","focusNextNode","handleClick","handleSelectedChange","Element","selected","currentSelected","setItems","selectedItem","treeView","querySelector","nested","checkForNestedItems","forEach","node","el","isSelectedElement","$fastController","isConnected","queueUpdate","disabled","delta","visibleNodes","indexOf","focusIndex","findIndex","some","attribute","prototype"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/tree-view/tree-view.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { attr, DOM, observable } from \"@microsoft/fast-element\";\nimport { getDisplayedNodes, isHTMLElement, keyArrowDown, keyArrowLeft, keyArrowRight, keyArrowUp, keyEnd, keyEnter, keyHome, } from \"@microsoft/fast-web-utilities\";\nimport { isTreeItemElement, TreeItem } from \"../tree-item/tree-item.js\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A Tree view Custom HTML Element.\n * Implements the {@link https://w3c.github.io/aria-practices/#TreeView | ARIA TreeView }.\n *\n * @slot - The default slot for tree items\n *\n * @public\n */\nexport class TreeView extends FoundationElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The tree item that is designated to be in the tab queue.\n         *\n         * @internal\n         */\n        this.currentFocused = null;\n        /**\n         * Handle focus events\n         *\n         * @internal\n         */\n        this.handleFocus = (e) => {\n            if (this.slottedTreeItems.length < 1) {\n                // no child items, nothing to do\n                return;\n            }\n            if (e.target === this) {\n                if (this.currentFocused === null) {\n                    this.currentFocused = this.getValidFocusableItem();\n                }\n                if (this.currentFocused !== null) {\n                    TreeItem.focusItem(this.currentFocused);\n                }\n                return;\n            }\n            if (this.contains(e.target)) {\n                this.setAttribute(\"tabindex\", \"-1\");\n                this.currentFocused = e.target;\n            }\n        };\n        /**\n         * Handle blur events\n         *\n         * @internal\n         */\n        this.handleBlur = (e) => {\n            if (e.target instanceof HTMLElement &&\n                (e.relatedTarget === null || !this.contains(e.relatedTarget))) {\n                this.setAttribute(\"tabindex\", \"0\");\n            }\n        };\n        /**\n         * KeyDown handler\n         *\n         *  @internal\n         */\n        this.handleKeyDown = (e) => {\n            if (e.defaultPrevented) {\n                return;\n            }\n            if (this.slottedTreeItems.length < 1) {\n                return true;\n            }\n            const treeItems = this.getVisibleNodes();\n            switch (e.key) {\n                case keyHome:\n                    if (treeItems.length) {\n                        TreeItem.focusItem(treeItems[0]);\n                    }\n                    return;\n                case keyEnd:\n                    if (treeItems.length) {\n                        TreeItem.focusItem(treeItems[treeItems.length - 1]);\n                    }\n                    return;\n                case keyArrowLeft:\n                    if (e.target && this.isFocusableElement(e.target)) {\n                        const item = e.target;\n                        if (item instanceof TreeItem &&\n                            item.childItemLength() > 0 &&\n                            item.expanded) {\n                            item.expanded = false;\n                        }\n                        else if (item instanceof TreeItem &&\n                            item.parentElement instanceof TreeItem) {\n                            TreeItem.focusItem(item.parentElement);\n                        }\n                    }\n                    return false;\n                case keyArrowRight:\n                    if (e.target && this.isFocusableElement(e.target)) {\n                        const item = e.target;\n                        if (item instanceof TreeItem &&\n                            item.childItemLength() > 0 &&\n                            !item.expanded) {\n                            item.expanded = true;\n                        }\n                        else if (item instanceof TreeItem && item.childItemLength() > 0) {\n                            this.focusNextNode(1, e.target);\n                        }\n                    }\n                    return;\n                case keyArrowDown:\n                    if (e.target && this.isFocusableElement(e.target)) {\n                        this.focusNextNode(1, e.target);\n                    }\n                    return;\n                case keyArrowUp:\n                    if (e.target && this.isFocusableElement(e.target)) {\n                        this.focusNextNode(-1, e.target);\n                    }\n                    return;\n                case keyEnter:\n                    // In single-select trees where selection does not follow focus (see note below),\n                    // the default action is typically to select the focused node.\n                    this.handleClick(e);\n                    return;\n            }\n            // don't prevent default if we took no action\n            return true;\n        };\n        /**\n         * Handles the selected-changed events bubbling up\n         * from child tree items\n         *\n         *  @internal\n         */\n        this.handleSelectedChange = (e) => {\n            if (e.defaultPrevented) {\n                return;\n            }\n            if (!(e.target instanceof Element) || !isTreeItemElement(e.target)) {\n                return true;\n            }\n            const item = e.target;\n            if (item.selected) {\n                if (this.currentSelected && this.currentSelected !== item) {\n                    this.currentSelected.selected = false;\n                }\n                // new selected item\n                this.currentSelected = item;\n            }\n            else if (!item.selected && this.currentSelected === item) {\n                // selected item deselected\n                this.currentSelected = null;\n            }\n            return;\n        };\n        /**\n         * Updates the tree view when slottedTreeItems changes\n         */\n        this.setItems = () => {\n            // force single selection\n            // defaults to first one found\n            const selectedItem = this.treeView.querySelector(\"[aria-selected='true']\");\n            this.currentSelected = selectedItem;\n            // invalidate the current focused item if it is no longer valid\n            if (this.currentFocused === null || !this.contains(this.currentFocused)) {\n                this.currentFocused = this.getValidFocusableItem();\n            }\n            // toggle properties on child elements\n            this.nested = this.checkForNestedItems();\n            const treeItems = this.getVisibleNodes();\n            treeItems.forEach(node => {\n                if (isTreeItemElement(node)) {\n                    node.nested = this.nested;\n                }\n            });\n        };\n        /**\n         * check if the item is focusable\n         */\n        this.isFocusableElement = (el) => {\n            return isTreeItemElement(el);\n        };\n        this.isSelectedElement = (el) => {\n            return el.selected;\n        };\n    }\n    slottedTreeItemsChanged() {\n        if (this.$fastController.isConnected) {\n            // update for slotted children change\n            this.setItems();\n        }\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.setAttribute(\"tabindex\", \"0\");\n        DOM.queueUpdate(() => {\n            this.setItems();\n        });\n    }\n    /**\n     * Handles click events bubbling up\n     *\n     *  @internal\n     */\n    handleClick(e) {\n        if (e.defaultPrevented) {\n            // handled, do nothing\n            return;\n        }\n        if (!(e.target instanceof Element) || !isTreeItemElement(e.target)) {\n            // not a tree item, ignore\n            return true;\n        }\n        const item = e.target;\n        if (!item.disabled) {\n            item.selected = !item.selected;\n        }\n        return;\n    }\n    /**\n     * Move focus to a tree item based on its offset from the provided item\n     */\n    focusNextNode(delta, item) {\n        const visibleNodes = this.getVisibleNodes();\n        if (!visibleNodes) {\n            return;\n        }\n        const focusItem = visibleNodes[visibleNodes.indexOf(item) + delta];\n        if (isHTMLElement(focusItem)) {\n            TreeItem.focusItem(focusItem);\n        }\n    }\n    /**\n     * checks if there are any nested tree items\n     */\n    getValidFocusableItem() {\n        const treeItems = this.getVisibleNodes();\n        // default to selected element if there is one\n        let focusIndex = treeItems.findIndex(this.isSelectedElement);\n        if (focusIndex === -1) {\n            // otherwise first focusable tree item\n            focusIndex = treeItems.findIndex(this.isFocusableElement);\n        }\n        if (focusIndex !== -1) {\n            return treeItems[focusIndex];\n        }\n        return null;\n    }\n    /**\n     * checks if there are any nested tree items\n     */\n    checkForNestedItems() {\n        return this.slottedTreeItems.some((node) => {\n            return isTreeItemElement(node) && node.querySelector(\"[role='treeitem']\");\n        });\n    }\n    getVisibleNodes() {\n        return getDisplayedNodes(this, \"[role='treeitem']\") || [];\n    }\n}\n__decorate([\n    attr({ attribute: \"render-collapsed-nodes\" })\n], TreeView.prototype, \"renderCollapsedNodes\", void 0);\n__decorate([\n    observable\n], TreeView.prototype, \"currentSelected\", void 0);\n__decorate([\n    observable\n], TreeView.prototype, \"slottedTreeItems\", void 0);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}