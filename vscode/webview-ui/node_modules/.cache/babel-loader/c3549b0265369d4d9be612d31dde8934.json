{"ast":null,"code":"// A singleton Range instance used to efficiently remove ranges of DOM nodes.\n// See the implementation of HTMLView below for further details.\nconst range = document.createRange();\n/**\n * The standard View implementation, which also implements ElementView and SyntheticView.\n * @public\n */\n\nexport class HTMLView {\n  /**\n   * Constructs an instance of HTMLView.\n   * @param fragment - The html fragment that contains the nodes for this view.\n   * @param behaviors - The behaviors to be applied to this view.\n   */\n  constructor(fragment, behaviors) {\n    this.fragment = fragment;\n    this.behaviors = behaviors;\n    /**\n     * The data that the view is bound to.\n     */\n\n    this.source = null;\n    /**\n     * The execution context the view is running within.\n     */\n\n    this.context = null;\n    this.firstChild = fragment.firstChild;\n    this.lastChild = fragment.lastChild;\n  }\n  /**\n   * Appends the view's DOM nodes to the referenced node.\n   * @param node - The parent node to append the view's DOM nodes to.\n   */\n\n\n  appendTo(node) {\n    node.appendChild(this.fragment);\n  }\n  /**\n   * Inserts the view's DOM nodes before the referenced node.\n   * @param node - The node to insert the view's DOM before.\n   */\n\n\n  insertBefore(node) {\n    if (this.fragment.hasChildNodes()) {\n      node.parentNode.insertBefore(this.fragment, node);\n    } else {\n      const end = this.lastChild;\n      if (node.previousSibling === end) return;\n      const parentNode = node.parentNode;\n      let current = this.firstChild;\n      let next;\n\n      while (current !== end) {\n        next = current.nextSibling;\n        parentNode.insertBefore(current, node);\n        current = next;\n      }\n\n      parentNode.insertBefore(end, node);\n    }\n  }\n  /**\n   * Removes the view's DOM nodes.\n   * The nodes are not disposed and the view can later be re-inserted.\n   */\n\n\n  remove() {\n    const fragment = this.fragment;\n    const end = this.lastChild;\n    let current = this.firstChild;\n    let next;\n\n    while (current !== end) {\n      next = current.nextSibling;\n      fragment.appendChild(current);\n      current = next;\n    }\n\n    fragment.appendChild(end);\n  }\n  /**\n   * Removes the view and unbinds its behaviors, disposing of DOM nodes afterward.\n   * Once a view has been disposed, it cannot be inserted or bound again.\n   */\n\n\n  dispose() {\n    const parent = this.firstChild.parentNode;\n    const end = this.lastChild;\n    let current = this.firstChild;\n    let next;\n\n    while (current !== end) {\n      next = current.nextSibling;\n      parent.removeChild(current);\n      current = next;\n    }\n\n    parent.removeChild(end);\n    const behaviors = this.behaviors;\n    const oldSource = this.source;\n\n    for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n      behaviors[i].unbind(oldSource);\n    }\n  }\n  /**\n   * Binds a view's behaviors to its binding source.\n   * @param source - The binding source for the view's binding behaviors.\n   * @param context - The execution context to run the behaviors within.\n   */\n\n\n  bind(source, context) {\n    const behaviors = this.behaviors;\n\n    if (this.source === source) {\n      return;\n    } else if (this.source !== null) {\n      const oldSource = this.source;\n      this.source = source;\n      this.context = context;\n\n      for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n        const current = behaviors[i];\n        current.unbind(oldSource);\n        current.bind(source, context);\n      }\n    } else {\n      this.source = source;\n      this.context = context;\n\n      for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n        behaviors[i].bind(source, context);\n      }\n    }\n  }\n  /**\n   * Unbinds a view's behaviors from its binding source.\n   */\n\n\n  unbind() {\n    if (this.source === null) {\n      return;\n    }\n\n    const behaviors = this.behaviors;\n    const oldSource = this.source;\n\n    for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n      behaviors[i].unbind(oldSource);\n    }\n\n    this.source = null;\n  }\n  /**\n   * Efficiently disposes of a contiguous range of synthetic view instances.\n   * @param views - A contiguous range of views to be disposed.\n   */\n\n\n  static disposeContiguousBatch(views) {\n    if (views.length === 0) {\n      return;\n    }\n\n    range.setStartBefore(views[0].firstChild);\n    range.setEndAfter(views[views.length - 1].lastChild);\n    range.deleteContents();\n\n    for (let i = 0, ii = views.length; i < ii; ++i) {\n      const view = views[i];\n      const behaviors = view.behaviors;\n      const oldSource = view.source;\n\n      for (let j = 0, jj = behaviors.length; j < jj; ++j) {\n        behaviors[j].unbind(oldSource);\n      }\n    }\n  }\n\n}","map":{"version":3,"names":["range","document","createRange","HTMLView","constructor","fragment","behaviors","source","context","firstChild","lastChild","appendTo","node","appendChild","insertBefore","hasChildNodes","parentNode","end","previousSibling","current","next","nextSibling","remove","dispose","parent","removeChild","oldSource","i","ii","length","unbind","bind","disposeContiguousBatch","views","setStartBefore","setEndAfter","deleteContents","view","j","jj"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-element/dist/esm/templating/view.js"],"sourcesContent":["// A singleton Range instance used to efficiently remove ranges of DOM nodes.\n// See the implementation of HTMLView below for further details.\nconst range = document.createRange();\n/**\n * The standard View implementation, which also implements ElementView and SyntheticView.\n * @public\n */\nexport class HTMLView {\n    /**\n     * Constructs an instance of HTMLView.\n     * @param fragment - The html fragment that contains the nodes for this view.\n     * @param behaviors - The behaviors to be applied to this view.\n     */\n    constructor(fragment, behaviors) {\n        this.fragment = fragment;\n        this.behaviors = behaviors;\n        /**\n         * The data that the view is bound to.\n         */\n        this.source = null;\n        /**\n         * The execution context the view is running within.\n         */\n        this.context = null;\n        this.firstChild = fragment.firstChild;\n        this.lastChild = fragment.lastChild;\n    }\n    /**\n     * Appends the view's DOM nodes to the referenced node.\n     * @param node - The parent node to append the view's DOM nodes to.\n     */\n    appendTo(node) {\n        node.appendChild(this.fragment);\n    }\n    /**\n     * Inserts the view's DOM nodes before the referenced node.\n     * @param node - The node to insert the view's DOM before.\n     */\n    insertBefore(node) {\n        if (this.fragment.hasChildNodes()) {\n            node.parentNode.insertBefore(this.fragment, node);\n        }\n        else {\n            const end = this.lastChild;\n            if (node.previousSibling === end)\n                return;\n            const parentNode = node.parentNode;\n            let current = this.firstChild;\n            let next;\n            while (current !== end) {\n                next = current.nextSibling;\n                parentNode.insertBefore(current, node);\n                current = next;\n            }\n            parentNode.insertBefore(end, node);\n        }\n    }\n    /**\n     * Removes the view's DOM nodes.\n     * The nodes are not disposed and the view can later be re-inserted.\n     */\n    remove() {\n        const fragment = this.fragment;\n        const end = this.lastChild;\n        let current = this.firstChild;\n        let next;\n        while (current !== end) {\n            next = current.nextSibling;\n            fragment.appendChild(current);\n            current = next;\n        }\n        fragment.appendChild(end);\n    }\n    /**\n     * Removes the view and unbinds its behaviors, disposing of DOM nodes afterward.\n     * Once a view has been disposed, it cannot be inserted or bound again.\n     */\n    dispose() {\n        const parent = this.firstChild.parentNode;\n        const end = this.lastChild;\n        let current = this.firstChild;\n        let next;\n        while (current !== end) {\n            next = current.nextSibling;\n            parent.removeChild(current);\n            current = next;\n        }\n        parent.removeChild(end);\n        const behaviors = this.behaviors;\n        const oldSource = this.source;\n        for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n            behaviors[i].unbind(oldSource);\n        }\n    }\n    /**\n     * Binds a view's behaviors to its binding source.\n     * @param source - The binding source for the view's binding behaviors.\n     * @param context - The execution context to run the behaviors within.\n     */\n    bind(source, context) {\n        const behaviors = this.behaviors;\n        if (this.source === source) {\n            return;\n        }\n        else if (this.source !== null) {\n            const oldSource = this.source;\n            this.source = source;\n            this.context = context;\n            for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n                const current = behaviors[i];\n                current.unbind(oldSource);\n                current.bind(source, context);\n            }\n        }\n        else {\n            this.source = source;\n            this.context = context;\n            for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n                behaviors[i].bind(source, context);\n            }\n        }\n    }\n    /**\n     * Unbinds a view's behaviors from its binding source.\n     */\n    unbind() {\n        if (this.source === null) {\n            return;\n        }\n        const behaviors = this.behaviors;\n        const oldSource = this.source;\n        for (let i = 0, ii = behaviors.length; i < ii; ++i) {\n            behaviors[i].unbind(oldSource);\n        }\n        this.source = null;\n    }\n    /**\n     * Efficiently disposes of a contiguous range of synthetic view instances.\n     * @param views - A contiguous range of views to be disposed.\n     */\n    static disposeContiguousBatch(views) {\n        if (views.length === 0) {\n            return;\n        }\n        range.setStartBefore(views[0].firstChild);\n        range.setEndAfter(views[views.length - 1].lastChild);\n        range.deleteContents();\n        for (let i = 0, ii = views.length; i < ii; ++i) {\n            const view = views[i];\n            const behaviors = view.behaviors;\n            const oldSource = view.source;\n            for (let j = 0, jj = behaviors.length; j < jj; ++j) {\n                behaviors[j].unbind(oldSource);\n            }\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}