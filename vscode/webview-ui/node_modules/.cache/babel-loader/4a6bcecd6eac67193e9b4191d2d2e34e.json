{"ast":null,"code":"import _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { ElementStyles } from \"@microsoft/fast-element\";\nimport { DI, Registration } from \"../di/di.js\";\n\nfunction presentationKeyFromTag(tagName) {\n  return \"\".concat(tagName.toLowerCase(), \":presentation\");\n}\n\nvar presentationRegistry = new Map();\n/**\n * An API gateway to component presentation features.\n * @public\n */\n\nexport var ComponentPresentation = Object.freeze({\n  /**\n   * Defines a component presentation for an element.\n   * @param tagName - The element name to define the presentation for.\n   * @param presentation - The presentation that will be applied to matching elements.\n   * @param container - The dependency injection container to register the configuration in.\n   * @public\n   */\n  define: function define(tagName, presentation, container) {\n    var key = presentationKeyFromTag(tagName);\n    var existing = presentationRegistry.get(key);\n\n    if (existing === void 0) {\n      presentationRegistry.set(key, presentation);\n    } else {\n      // false indicates that we have more than one presentation\n      // registered for a tagName and we must resolve through DI\n      presentationRegistry.set(key, false);\n    }\n\n    container.register(Registration.instance(key, presentation));\n  },\n\n  /**\n   * Finds a component presentation for the specified element name,\n   * searching the DOM hierarchy starting from the provided element.\n   * @param tagName - The name of the element to locate the presentation for.\n   * @param element - The element to begin the search from.\n   * @returns The component presentation or null if none is found.\n   * @public\n   */\n  forTag: function forTag(tagName, element) {\n    var key = presentationKeyFromTag(tagName);\n    var existing = presentationRegistry.get(key);\n\n    if (existing === false) {\n      var container = DI.findResponsibleContainer(element);\n      return container.get(key);\n    }\n\n    return existing || null;\n  }\n});\n/**\n * The default implementation of ComponentPresentation, used by FoundationElement.\n * @public\n */\n\nexport var DefaultComponentPresentation = /*#__PURE__*/function () {\n  /**\n   * Creates an instance of DefaultComponentPresentation.\n   * @param template - The template to apply to the element.\n   * @param styles - The styles to apply to the element.\n   * @public\n   */\n  function DefaultComponentPresentation(template, styles) {\n    _classCallCheck(this, DefaultComponentPresentation);\n\n    this.template = template || null;\n    this.styles = styles === void 0 ? null : Array.isArray(styles) ? ElementStyles.create(styles) : styles instanceof ElementStyles ? styles : ElementStyles.create([styles]);\n  }\n  /**\n   * Applies the presentation details to the specified element.\n   * @param element - The element to apply the presentation details to.\n   * @public\n   */\n\n\n  _createClass(DefaultComponentPresentation, [{\n    key: \"applyTo\",\n    value: function applyTo(element) {\n      var controller = element.$fastController;\n\n      if (controller.template === null) {\n        controller.template = this.template;\n      }\n\n      if (controller.styles === null) {\n        controller.styles = this.styles;\n      }\n    }\n  }]);\n\n  return DefaultComponentPresentation;\n}();","map":{"version":3,"names":["ElementStyles","DI","Registration","presentationKeyFromTag","tagName","toLowerCase","presentationRegistry","Map","ComponentPresentation","Object","freeze","define","presentation","container","key","existing","get","set","register","instance","forTag","element","findResponsibleContainer","DefaultComponentPresentation","template","styles","Array","isArray","create","controller","$fastController"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/design-system/component-presentation.js"],"sourcesContent":["import { ElementStyles, } from \"@microsoft/fast-element\";\nimport { DI, Registration } from \"../di/di.js\";\nfunction presentationKeyFromTag(tagName) {\n    return `${tagName.toLowerCase()}:presentation`;\n}\nconst presentationRegistry = new Map();\n/**\n * An API gateway to component presentation features.\n * @public\n */\nexport const ComponentPresentation = Object.freeze({\n    /**\n     * Defines a component presentation for an element.\n     * @param tagName - The element name to define the presentation for.\n     * @param presentation - The presentation that will be applied to matching elements.\n     * @param container - The dependency injection container to register the configuration in.\n     * @public\n     */\n    define(tagName, presentation, container) {\n        const key = presentationKeyFromTag(tagName);\n        const existing = presentationRegistry.get(key);\n        if (existing === void 0) {\n            presentationRegistry.set(key, presentation);\n        }\n        else {\n            // false indicates that we have more than one presentation\n            // registered for a tagName and we must resolve through DI\n            presentationRegistry.set(key, false);\n        }\n        container.register(Registration.instance(key, presentation));\n    },\n    /**\n     * Finds a component presentation for the specified element name,\n     * searching the DOM hierarchy starting from the provided element.\n     * @param tagName - The name of the element to locate the presentation for.\n     * @param element - The element to begin the search from.\n     * @returns The component presentation or null if none is found.\n     * @public\n     */\n    forTag(tagName, element) {\n        const key = presentationKeyFromTag(tagName);\n        const existing = presentationRegistry.get(key);\n        if (existing === false) {\n            const container = DI.findResponsibleContainer(element);\n            return container.get(key);\n        }\n        return existing || null;\n    },\n});\n/**\n * The default implementation of ComponentPresentation, used by FoundationElement.\n * @public\n */\nexport class DefaultComponentPresentation {\n    /**\n     * Creates an instance of DefaultComponentPresentation.\n     * @param template - The template to apply to the element.\n     * @param styles - The styles to apply to the element.\n     * @public\n     */\n    constructor(template, styles) {\n        this.template = template || null;\n        this.styles =\n            styles === void 0\n                ? null\n                : Array.isArray(styles)\n                    ? ElementStyles.create(styles)\n                    : styles instanceof ElementStyles\n                        ? styles\n                        : ElementStyles.create([styles]);\n    }\n    /**\n     * Applies the presentation details to the specified element.\n     * @param element - The element to apply the presentation details to.\n     * @public\n     */\n    applyTo(element) {\n        const controller = element.$fastController;\n        if (controller.template === null) {\n            controller.template = this.template;\n        }\n        if (controller.styles === null) {\n            controller.styles = this.styles;\n        }\n    }\n}\n"],"mappings":";;AAAA,SAASA,aAAT,QAA+B,yBAA/B;AACA,SAASC,EAAT,EAAaC,YAAb,QAAiC,aAAjC;;AACA,SAASC,sBAAT,CAAgCC,OAAhC,EAAyC;EACrC,iBAAUA,OAAO,CAACC,WAAR,EAAV;AACH;;AACD,IAAMC,oBAAoB,GAAG,IAAIC,GAAJ,EAA7B;AACA;AACA;AACA;AACA;;AACA,OAAO,IAAMC,qBAAqB,GAAGC,MAAM,CAACC,MAAP,CAAc;EAC/C;AACJ;AACA;AACA;AACA;AACA;AACA;EACIC,MAR+C,kBAQxCP,OARwC,EAQ/BQ,YAR+B,EAQjBC,SARiB,EAQN;IACrC,IAAMC,GAAG,GAAGX,sBAAsB,CAACC,OAAD,CAAlC;IACA,IAAMW,QAAQ,GAAGT,oBAAoB,CAACU,GAArB,CAAyBF,GAAzB,CAAjB;;IACA,IAAIC,QAAQ,KAAK,KAAK,CAAtB,EAAyB;MACrBT,oBAAoB,CAACW,GAArB,CAAyBH,GAAzB,EAA8BF,YAA9B;IACH,CAFD,MAGK;MACD;MACA;MACAN,oBAAoB,CAACW,GAArB,CAAyBH,GAAzB,EAA8B,KAA9B;IACH;;IACDD,SAAS,CAACK,QAAV,CAAmBhB,YAAY,CAACiB,QAAb,CAAsBL,GAAtB,EAA2BF,YAA3B,CAAnB;EACH,CApB8C;;EAqB/C;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACIQ,MA7B+C,kBA6BxChB,OA7BwC,EA6B/BiB,OA7B+B,EA6BtB;IACrB,IAAMP,GAAG,GAAGX,sBAAsB,CAACC,OAAD,CAAlC;IACA,IAAMW,QAAQ,GAAGT,oBAAoB,CAACU,GAArB,CAAyBF,GAAzB,CAAjB;;IACA,IAAIC,QAAQ,KAAK,KAAjB,EAAwB;MACpB,IAAMF,SAAS,GAAGZ,EAAE,CAACqB,wBAAH,CAA4BD,OAA5B,CAAlB;MACA,OAAOR,SAAS,CAACG,GAAV,CAAcF,GAAd,CAAP;IACH;;IACD,OAAOC,QAAQ,IAAI,IAAnB;EACH;AArC8C,CAAd,CAA9B;AAuCP;AACA;AACA;AACA;;AACA,WAAaQ,4BAAb;EACI;AACJ;AACA;AACA;AACA;AACA;EACI,sCAAYC,QAAZ,EAAsBC,MAAtB,EAA8B;IAAA;;IAC1B,KAAKD,QAAL,GAAgBA,QAAQ,IAAI,IAA5B;IACA,KAAKC,MAAL,GACIA,MAAM,KAAK,KAAK,CAAhB,GACM,IADN,GAEMC,KAAK,CAACC,OAAN,CAAcF,MAAd,IACIzB,aAAa,CAAC4B,MAAd,CAAqBH,MAArB,CADJ,GAEIA,MAAM,YAAYzB,aAAlB,GACIyB,MADJ,GAEIzB,aAAa,CAAC4B,MAAd,CAAqB,CAACH,MAAD,CAArB,CAPlB;EAQH;EACD;AACJ;AACA;AACA;AACA;;;EAtBA;IAAA;IAAA,OAuBI,iBAAQJ,OAAR,EAAiB;MACb,IAAMQ,UAAU,GAAGR,OAAO,CAACS,eAA3B;;MACA,IAAID,UAAU,CAACL,QAAX,KAAwB,IAA5B,EAAkC;QAC9BK,UAAU,CAACL,QAAX,GAAsB,KAAKA,QAA3B;MACH;;MACD,IAAIK,UAAU,CAACJ,MAAX,KAAsB,IAA1B,EAAgC;QAC5BI,UAAU,CAACJ,MAAX,GAAoB,KAAKA,MAAzB;MACH;IACJ;EA/BL;;EAAA;AAAA"},"metadata":{},"sourceType":"module"}