{"ast":null,"code":"import { FASTElementDefinition, Observable } from \"@microsoft/fast-element\";\nimport { FoundationElementRegistry } from \"@microsoft/fast-foundation\";\nconst reservedReactProperties = new Set([\"children\", \"localName\", \"ref\", \"style\", \"className\"]);\nconst emptyProps = Object.freeze(Object.create(null));\nconst DEFAULT_CACHE_NAME = \"_default\"; // This will be a two levels cache Map<type, Map<name, ReactWrapper>>\n// to distinguish components of same type but different tag name.\n// Default name: '_default'\n\nconst wrappersCache = new Map(); // There are 2 kinds of refs and there's no built in React API to set one.\n\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else {\n    ref.current = value;\n  }\n}\n\nfunction getTagName(type, config) {\n  if (!config.name) {\n    /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n    const definition = FASTElementDefinition.forType(type);\n\n    if (definition) {\n      config.name = definition.name;\n    } else {\n      throw new Error(\"React wrappers must wrap a FASTElement or be configured with a name.\");\n    }\n  }\n\n  return config.name;\n}\n\nfunction getElementEvents(config) {\n  return config.events || (config.events = {});\n}\n\nfunction keyIsValid(type, config, name) {\n  if (reservedReactProperties.has(name)) {\n    console.warn(`${getTagName(type, config)} contains property ${name} which is a React ` + `reserved property. It will be used by React and not set on ` + `the element.`);\n    return false;\n  }\n\n  return true;\n}\n\nfunction getElementKeys(type, config) {\n  if (!config.keys) {\n    if (config.properties) {\n      config.keys = new Set(config.properties.concat(Object.keys(getElementEvents(config))));\n    } else {\n      const keys = new Set(Object.keys(getElementEvents(config)));\n      const accessors = Observable.getAccessors(type.prototype);\n\n      if (accessors.length > 0) {\n        for (const a of accessors) {\n          if (keyIsValid(type, config, a.name)) {\n            keys.add(a.name);\n          }\n        }\n      } else {\n        for (const p in type.prototype) {\n          if (!(p in HTMLElement.prototype) && keyIsValid(type, config, p)) {\n            keys.add(p);\n          }\n        }\n      }\n\n      config.keys = keys;\n    }\n  }\n\n  return config.keys;\n}\n/**\n * @param React - The React module, typically imported from the `react` npm\n * package\n * @param designSystem - A design system to register the components with.\n * @public\n */\n\n\nexport function provideReactWrapper(React, designSystem) {\n  let registrations = [];\n  const registry = {\n    register(container) {\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      registrations.forEach(x => x.register(container, ...rest));\n      registrations = [];\n    }\n\n  };\n\n  function wrap(type) {\n    let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _a, _b;\n\n    if (type instanceof FoundationElementRegistry) {\n      if (designSystem) {\n        designSystem.register(type);\n      } else {\n        registrations.push(type);\n      }\n\n      type = type.type;\n    }\n\n    const cachedCandidates = wrappersCache.get(type);\n\n    if (cachedCandidates) {\n      const cachedWrapper = cachedCandidates.get((_a = config.name) !== null && _a !== void 0 ? _a : DEFAULT_CACHE_NAME);\n\n      if (cachedWrapper) {\n        return cachedWrapper;\n      }\n    }\n\n    class ReactComponent extends React.Component {\n      constructor() {\n        super(...arguments);\n        this._element = null;\n      }\n\n      _updateElement(oldProps) {\n        const element = this._element;\n\n        if (element === null) {\n          return;\n        }\n\n        const currentProps = this.props;\n        const previousProps = oldProps || emptyProps;\n        const events = getElementEvents(config);\n\n        for (const key in this._elementProps) {\n          const newValue = currentProps[key];\n          const event = events[key];\n\n          if (event === undefined) {\n            element[key] = newValue;\n          } else {\n            const oldValue = previousProps[key];\n\n            if (newValue === oldValue) {\n              continue;\n            }\n\n            if (oldValue !== undefined) {\n              element.removeEventListener(event, oldValue);\n            }\n\n            if (newValue !== undefined) {\n              element.addEventListener(event, newValue);\n            }\n          }\n        }\n      }\n\n      componentDidMount() {\n        this._updateElement();\n      }\n\n      componentDidUpdate(old) {\n        this._updateElement(old);\n      }\n\n      render() {\n        // Since refs only get fulfilled once, pass a new one if the user's\n        // ref changed. This allows refs to be fulfilled as expected, going from\n        // having a value to null.\n        const userRef = this.props.__forwardedRef;\n\n        if (this._ref === undefined || this._userRef !== userRef) {\n          this._ref = value => {\n            if (this._element === null) {\n              this._element = value;\n            }\n\n            if (userRef !== null) {\n              setRef(userRef, value);\n            }\n\n            this._userRef = userRef;\n          };\n        } // Filter class properties and pass the remaining attributes to React.\n        // This allows attributes to use framework rules\n        // for setting attributes and render correctly under SSR.\n\n\n        const newReactProps = {\n          ref: this._ref\n        };\n        const newElementProps = this._elementProps = {};\n        const elementKeys = getElementKeys(type, config);\n        const currentProps = this.props;\n\n        for (const k in currentProps) {\n          const v = currentProps[k];\n\n          if (elementKeys.has(k)) {\n            newElementProps[k] = v;\n          } else {\n            // React does *not* handle `className` for custom elements so\n            // coerce it to `class` so it's handled correctly.\n            newReactProps[k === \"className\" ? \"class\" : k] = v;\n          }\n        }\n\n        return React.createElement(getTagName(type, config), newReactProps);\n      }\n\n    }\n\n    const reactComponent = React.forwardRef((props, ref) => React.createElement(ReactComponent, Object.assign(Object.assign({}, props), {\n      __forwardedRef: ref\n    }), props === null || props === void 0 ? void 0 : props.children));\n\n    if (!wrappersCache.has(type)) {\n      wrappersCache.set(type, new Map());\n    } // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n\n    wrappersCache.get(type).set((_b = config.name) !== null && _b !== void 0 ? _b : DEFAULT_CACHE_NAME, reactComponent);\n    return reactComponent;\n  }\n\n  return {\n    wrap,\n    registry\n  };\n}","map":{"version":3,"names":["FASTElementDefinition","Observable","FoundationElementRegistry","reservedReactProperties","Set","emptyProps","Object","freeze","create","DEFAULT_CACHE_NAME","wrappersCache","Map","setRef","ref","value","current","getTagName","type","config","name","definition","forType","Error","getElementEvents","events","keyIsValid","has","console","warn","getElementKeys","keys","properties","concat","accessors","getAccessors","prototype","length","a","add","p","HTMLElement","provideReactWrapper","React","designSystem","registrations","registry","register","container","rest","forEach","x","wrap","_a","_b","push","cachedCandidates","get","cachedWrapper","ReactComponent","Component","constructor","arguments","_element","_updateElement","oldProps","element","currentProps","props","previousProps","key","_elementProps","newValue","event","undefined","oldValue","removeEventListener","addEventListener","componentDidMount","componentDidUpdate","old","render","userRef","__forwardedRef","_ref","_userRef","newReactProps","newElementProps","elementKeys","k","v","createElement","reactComponent","forwardRef","assign","children","set"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-react-wrapper/dist/esm/index.js"],"sourcesContent":["import { FASTElementDefinition, Observable, } from \"@microsoft/fast-element\";\nimport { FoundationElementRegistry, } from \"@microsoft/fast-foundation\";\nconst reservedReactProperties = new Set([\n    \"children\",\n    \"localName\",\n    \"ref\",\n    \"style\",\n    \"className\",\n]);\nconst emptyProps = Object.freeze(Object.create(null));\nconst DEFAULT_CACHE_NAME = \"_default\";\n// This will be a two levels cache Map<type, Map<name, ReactWrapper>>\n// to distinguish components of same type but different tag name.\n// Default name: '_default'\nconst wrappersCache = new Map();\n// There are 2 kinds of refs and there's no built in React API to set one.\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    }\n    else {\n        ref.current = value;\n    }\n}\nfunction getTagName(type, config) {\n    if (!config.name) {\n        /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n        const definition = FASTElementDefinition.forType(type);\n        if (definition) {\n            config.name = definition.name;\n        }\n        else {\n            throw new Error(\"React wrappers must wrap a FASTElement or be configured with a name.\");\n        }\n    }\n    return config.name;\n}\nfunction getElementEvents(config) {\n    return config.events || (config.events = {});\n}\nfunction keyIsValid(type, config, name) {\n    if (reservedReactProperties.has(name)) {\n        console.warn(`${getTagName(type, config)} contains property ${name} which is a React ` +\n            `reserved property. It will be used by React and not set on ` +\n            `the element.`);\n        return false;\n    }\n    return true;\n}\nfunction getElementKeys(type, config) {\n    if (!config.keys) {\n        if (config.properties) {\n            config.keys = new Set(config.properties.concat(Object.keys(getElementEvents(config))));\n        }\n        else {\n            const keys = new Set(Object.keys(getElementEvents(config)));\n            const accessors = Observable.getAccessors(type.prototype);\n            if (accessors.length > 0) {\n                for (const a of accessors) {\n                    if (keyIsValid(type, config, a.name)) {\n                        keys.add(a.name);\n                    }\n                }\n            }\n            else {\n                for (const p in type.prototype) {\n                    if (!(p in HTMLElement.prototype) && keyIsValid(type, config, p)) {\n                        keys.add(p);\n                    }\n                }\n            }\n            config.keys = keys;\n        }\n    }\n    return config.keys;\n}\n/**\n * @param React - The React module, typically imported from the `react` npm\n * package\n * @param designSystem - A design system to register the components with.\n * @public\n */\nexport function provideReactWrapper(React, designSystem) {\n    let registrations = [];\n    const registry = {\n        register(container, ...rest) {\n            registrations.forEach(x => x.register(container, ...rest));\n            registrations = [];\n        },\n    };\n    function wrap(type, config = {}) {\n        var _a, _b;\n        if (type instanceof FoundationElementRegistry) {\n            if (designSystem) {\n                designSystem.register(type);\n            }\n            else {\n                registrations.push(type);\n            }\n            type = type.type;\n        }\n        const cachedCandidates = wrappersCache.get(type);\n        if (cachedCandidates) {\n            const cachedWrapper = cachedCandidates.get((_a = config.name) !== null && _a !== void 0 ? _a : DEFAULT_CACHE_NAME);\n            if (cachedWrapper) {\n                return cachedWrapper;\n            }\n        }\n        class ReactComponent extends React.Component {\n            constructor() {\n                super(...arguments);\n                this._element = null;\n            }\n            _updateElement(oldProps) {\n                const element = this._element;\n                if (element === null) {\n                    return;\n                }\n                const currentProps = this.props;\n                const previousProps = oldProps || emptyProps;\n                const events = getElementEvents(config);\n                for (const key in this._elementProps) {\n                    const newValue = currentProps[key];\n                    const event = events[key];\n                    if (event === undefined) {\n                        element[key] = newValue;\n                    }\n                    else {\n                        const oldValue = previousProps[key];\n                        if (newValue === oldValue) {\n                            continue;\n                        }\n                        if (oldValue !== undefined) {\n                            element.removeEventListener(event, oldValue);\n                        }\n                        if (newValue !== undefined) {\n                            element.addEventListener(event, newValue);\n                        }\n                    }\n                }\n            }\n            componentDidMount() {\n                this._updateElement();\n            }\n            componentDidUpdate(old) {\n                this._updateElement(old);\n            }\n            render() {\n                // Since refs only get fulfilled once, pass a new one if the user's\n                // ref changed. This allows refs to be fulfilled as expected, going from\n                // having a value to null.\n                const userRef = this.props.__forwardedRef;\n                if (this._ref === undefined || this._userRef !== userRef) {\n                    this._ref = (value) => {\n                        if (this._element === null) {\n                            this._element = value;\n                        }\n                        if (userRef !== null) {\n                            setRef(userRef, value);\n                        }\n                        this._userRef = userRef;\n                    };\n                }\n                // Filter class properties and pass the remaining attributes to React.\n                // This allows attributes to use framework rules\n                // for setting attributes and render correctly under SSR.\n                const newReactProps = { ref: this._ref };\n                const newElementProps = (this._elementProps = {});\n                const elementKeys = getElementKeys(type, config);\n                const currentProps = this.props;\n                for (const k in currentProps) {\n                    const v = currentProps[k];\n                    if (elementKeys.has(k)) {\n                        newElementProps[k] = v;\n                    }\n                    else {\n                        // React does *not* handle `className` for custom elements so\n                        // coerce it to `class` so it's handled correctly.\n                        newReactProps[k === \"className\" ? \"class\" : k] = v;\n                    }\n                }\n                return React.createElement(getTagName(type, config), newReactProps);\n            }\n        }\n        const reactComponent = React.forwardRef((props, ref) => React.createElement(ReactComponent, Object.assign(Object.assign({}, props), { __forwardedRef: ref }), props === null || props === void 0 ? void 0 : props.children));\n        if (!wrappersCache.has(type)) {\n            wrappersCache.set(type, new Map());\n        }\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        wrappersCache.get(type).set((_b = config.name) !== null && _b !== void 0 ? _b : DEFAULT_CACHE_NAME, reactComponent);\n        return reactComponent;\n    }\n    return { wrap, registry };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}