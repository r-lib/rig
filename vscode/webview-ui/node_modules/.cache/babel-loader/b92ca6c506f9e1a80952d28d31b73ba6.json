{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport { DesignToken } from '@microsoft/fast-foundation';\nimport { initThemeChangeListener } from '../theme/applyTheme.js';\n/**\n * A mapping of all the Visual Studio Code theme CSS variables mapped to the\n * toolkit design tokens.\n */\n\nexport const tokenMappings = new Map();\n/**\n * Boolean flag that ensures the VS Code theme listener is initialized once.\n */\n\nlet isThemeListenerInitialized = false;\n/**\n * Given a design token name, return a new FAST CSSDesignToken.\n *\n * @remarks A VS Code theme CSS variable can be optionally passed to be\n * associated with the design token.\n *\n * @remarks On the first execution the VS Code theme listener will also be\n * initialized.\n *\n * @param name A design token name.\n * @param vscodeThemeVar A VS Code theme CSS variable name to be associated with\n * the design token.\n * @returns A FAST CSSDesignToken that emits a CSS custom property.\n */\n\nexport function create(name, vscodeThemeVar) {\n  const designToken = DesignToken.create(name);\n\n  if (vscodeThemeVar) {\n    // If the fake vscode token is passed in, attach a unique ID to it so that it can\n    // be added to the tokenMappings map without overriding a previous fake token value\n    if (vscodeThemeVar.includes('--fake-vscode-token')) {\n      const uniqueId = 'id' + Math.random().toString(16).slice(2);\n      vscodeThemeVar = `${vscodeThemeVar}-${uniqueId}`;\n    }\n\n    tokenMappings.set(vscodeThemeVar, designToken);\n  }\n\n  if (!isThemeListenerInitialized) {\n    initThemeChangeListener(tokenMappings);\n    isThemeListenerInitialized = true;\n  }\n\n  return designToken;\n}","map":{"version":3,"names":["DesignToken","initThemeChangeListener","tokenMappings","Map","isThemeListenerInitialized","create","name","vscodeThemeVar","designToken","includes","uniqueId","Math","random","toString","slice","set"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@vscode/webview-ui-toolkit/dist/utilities/design-tokens/create.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport { DesignToken } from '@microsoft/fast-foundation';\nimport { initThemeChangeListener } from '../theme/applyTheme.js';\n/**\n * A mapping of all the Visual Studio Code theme CSS variables mapped to the\n * toolkit design tokens.\n */\nexport const tokenMappings = new Map();\n/**\n * Boolean flag that ensures the VS Code theme listener is initialized once.\n */\nlet isThemeListenerInitialized = false;\n/**\n * Given a design token name, return a new FAST CSSDesignToken.\n *\n * @remarks A VS Code theme CSS variable can be optionally passed to be\n * associated with the design token.\n *\n * @remarks On the first execution the VS Code theme listener will also be\n * initialized.\n *\n * @param name A design token name.\n * @param vscodeThemeVar A VS Code theme CSS variable name to be associated with\n * the design token.\n * @returns A FAST CSSDesignToken that emits a CSS custom property.\n */\nexport function create(name, vscodeThemeVar) {\n    const designToken = DesignToken.create(name);\n    if (vscodeThemeVar) {\n        // If the fake vscode token is passed in, attach a unique ID to it so that it can\n        // be added to the tokenMappings map without overriding a previous fake token value\n        if (vscodeThemeVar.includes('--fake-vscode-token')) {\n            const uniqueId = 'id' + Math.random().toString(16).slice(2);\n            vscodeThemeVar = `${vscodeThemeVar}-${uniqueId}`;\n        }\n        tokenMappings.set(vscodeThemeVar, designToken);\n    }\n    if (!isThemeListenerInitialized) {\n        initThemeChangeListener(tokenMappings);\n        isThemeListenerInitialized = true;\n    }\n    return designToken;\n}\n"],"mappings":"AAAA;AACA;AACA,SAASA,WAAT,QAA4B,4BAA5B;AACA,SAASC,uBAAT,QAAwC,wBAAxC;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,aAAa,GAAG,IAAIC,GAAJ,EAAtB;AACP;AACA;AACA;;AACA,IAAIC,0BAA0B,GAAG,KAAjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,MAAT,CAAgBC,IAAhB,EAAsBC,cAAtB,EAAsC;EACzC,MAAMC,WAAW,GAAGR,WAAW,CAACK,MAAZ,CAAmBC,IAAnB,CAApB;;EACA,IAAIC,cAAJ,EAAoB;IAChB;IACA;IACA,IAAIA,cAAc,CAACE,QAAf,CAAwB,qBAAxB,CAAJ,EAAoD;MAChD,MAAMC,QAAQ,GAAG,OAAOC,IAAI,CAACC,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,KAA3B,CAAiC,CAAjC,CAAxB;MACAP,cAAc,GAAI,GAAEA,cAAe,IAAGG,QAAS,EAA/C;IACH;;IACDR,aAAa,CAACa,GAAd,CAAkBR,cAAlB,EAAkCC,WAAlC;EACH;;EACD,IAAI,CAACJ,0BAAL,EAAiC;IAC7BH,uBAAuB,CAACC,aAAD,CAAvB;IACAE,0BAA0B,GAAG,IAA7B;EACH;;EACD,OAAOI,WAAP;AACH"},"metadata":{},"sourceType":"module"}