{"ast":null,"code":"import _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _createForOfIteratorHelper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport { FASTElementDefinition, Observable } from \"@microsoft/fast-element\";\nimport { FoundationElementRegistry } from \"@microsoft/fast-foundation\";\nvar reservedReactProperties = new Set([\"children\", \"localName\", \"ref\", \"style\", \"className\"]);\nvar emptyProps = Object.freeze(Object.create(null));\nvar DEFAULT_CACHE_NAME = \"_default\"; // This will be a two levels cache Map<type, Map<name, ReactWrapper>>\n// to distinguish components of same type but different tag name.\n// Default name: '_default'\n\nvar wrappersCache = new Map(); // There are 2 kinds of refs and there's no built in React API to set one.\n\nfunction setRef(ref, value) {\n  if (typeof ref === \"function\") {\n    ref(value);\n  } else {\n    ref.current = value;\n  }\n}\n\nfunction getTagName(type, config) {\n  if (!config.name) {\n    /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n    var definition = FASTElementDefinition.forType(type);\n\n    if (definition) {\n      config.name = definition.name;\n    } else {\n      throw new Error(\"React wrappers must wrap a FASTElement or be configured with a name.\");\n    }\n  }\n\n  return config.name;\n}\n\nfunction getElementEvents(config) {\n  return config.events || (config.events = {});\n}\n\nfunction keyIsValid(type, config, name) {\n  if (reservedReactProperties.has(name)) {\n    console.warn(\"\".concat(getTagName(type, config), \" contains property \").concat(name, \" which is a React \") + \"reserved property. It will be used by React and not set on \" + \"the element.\");\n    return false;\n  }\n\n  return true;\n}\n\nfunction getElementKeys(type, config) {\n  if (!config.keys) {\n    if (config.properties) {\n      config.keys = new Set(config.properties.concat(Object.keys(getElementEvents(config))));\n    } else {\n      var keys = new Set(Object.keys(getElementEvents(config)));\n      var accessors = Observable.getAccessors(type.prototype);\n\n      if (accessors.length > 0) {\n        var _iterator = _createForOfIteratorHelper(accessors),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var a = _step.value;\n\n            if (keyIsValid(type, config, a.name)) {\n              keys.add(a.name);\n            }\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      } else {\n        for (var p in type.prototype) {\n          if (!(p in HTMLElement.prototype) && keyIsValid(type, config, p)) {\n            keys.add(p);\n          }\n        }\n      }\n\n      config.keys = keys;\n    }\n  }\n\n  return config.keys;\n}\n/**\n * @param React - The React module, typically imported from the `react` npm\n * package\n * @param designSystem - A design system to register the components with.\n * @public\n */\n\n\nexport function provideReactWrapper(React, designSystem) {\n  var registrations = [];\n  var registry = {\n    register: function register(container) {\n      for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        rest[_key - 1] = arguments[_key];\n      }\n\n      registrations.forEach(function (x) {\n        return x.register.apply(x, [container].concat(rest));\n      });\n      registrations = [];\n    }\n  };\n\n  function wrap(type) {\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var _a, _b;\n\n    if (type instanceof FoundationElementRegistry) {\n      if (designSystem) {\n        designSystem.register(type);\n      } else {\n        registrations.push(type);\n      }\n\n      type = type.type;\n    }\n\n    var cachedCandidates = wrappersCache.get(type);\n\n    if (cachedCandidates) {\n      var cachedWrapper = cachedCandidates.get((_a = config.name) !== null && _a !== void 0 ? _a : DEFAULT_CACHE_NAME);\n\n      if (cachedWrapper) {\n        return cachedWrapper;\n      }\n    }\n\n    var ReactComponent = /*#__PURE__*/function (_React$Component) {\n      _inherits(ReactComponent, _React$Component);\n\n      var _super = _createSuper(ReactComponent);\n\n      function ReactComponent() {\n        var _this;\n\n        _classCallCheck(this, ReactComponent);\n\n        _this = _super.apply(this, arguments);\n        _this._element = null;\n        return _this;\n      }\n\n      _createClass(ReactComponent, [{\n        key: \"_updateElement\",\n        value: function _updateElement(oldProps) {\n          var element = this._element;\n\n          if (element === null) {\n            return;\n          }\n\n          var currentProps = this.props;\n          var previousProps = oldProps || emptyProps;\n          var events = getElementEvents(config);\n\n          for (var key in this._elementProps) {\n            var newValue = currentProps[key];\n            var event = events[key];\n\n            if (event === undefined) {\n              element[key] = newValue;\n            } else {\n              var oldValue = previousProps[key];\n\n              if (newValue === oldValue) {\n                continue;\n              }\n\n              if (oldValue !== undefined) {\n                element.removeEventListener(event, oldValue);\n              }\n\n              if (newValue !== undefined) {\n                element.addEventListener(event, newValue);\n              }\n            }\n          }\n        }\n      }, {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          this._updateElement();\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(old) {\n          this._updateElement(old);\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this2 = this;\n\n          // Since refs only get fulfilled once, pass a new one if the user's\n          // ref changed. This allows refs to be fulfilled as expected, going from\n          // having a value to null.\n          var userRef = this.props.__forwardedRef;\n\n          if (this._ref === undefined || this._userRef !== userRef) {\n            this._ref = function (value) {\n              if (_this2._element === null) {\n                _this2._element = value;\n              }\n\n              if (userRef !== null) {\n                setRef(userRef, value);\n              }\n\n              _this2._userRef = userRef;\n            };\n          } // Filter class properties and pass the remaining attributes to React.\n          // This allows attributes to use framework rules\n          // for setting attributes and render correctly under SSR.\n\n\n          var newReactProps = {\n            ref: this._ref\n          };\n          var newElementProps = this._elementProps = {};\n          var elementKeys = getElementKeys(type, config);\n          var currentProps = this.props;\n\n          for (var k in currentProps) {\n            var v = currentProps[k];\n\n            if (elementKeys.has(k)) {\n              newElementProps[k] = v;\n            } else {\n              // React does *not* handle `className` for custom elements so\n              // coerce it to `class` so it's handled correctly.\n              newReactProps[k === \"className\" ? \"class\" : k] = v;\n            }\n          }\n\n          return React.createElement(getTagName(type, config), newReactProps);\n        }\n      }]);\n\n      return ReactComponent;\n    }(React.Component);\n\n    var reactComponent = React.forwardRef(function (props, ref) {\n      return React.createElement(ReactComponent, Object.assign(Object.assign({}, props), {\n        __forwardedRef: ref\n      }), props === null || props === void 0 ? void 0 : props.children);\n    });\n\n    if (!wrappersCache.has(type)) {\n      wrappersCache.set(type, new Map());\n    } // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n\n    wrappersCache.get(type).set((_b = config.name) !== null && _b !== void 0 ? _b : DEFAULT_CACHE_NAME, reactComponent);\n    return reactComponent;\n  }\n\n  return {\n    wrap: wrap,\n    registry: registry\n  };\n}","map":{"version":3,"names":["FASTElementDefinition","Observable","FoundationElementRegistry","reservedReactProperties","Set","emptyProps","Object","freeze","create","DEFAULT_CACHE_NAME","wrappersCache","Map","setRef","ref","value","current","getTagName","type","config","name","definition","forType","Error","getElementEvents","events","keyIsValid","has","console","warn","getElementKeys","keys","properties","concat","accessors","getAccessors","prototype","length","a","add","p","HTMLElement","provideReactWrapper","React","designSystem","registrations","registry","register","container","rest","forEach","x","wrap","_a","_b","push","cachedCandidates","get","cachedWrapper","ReactComponent","arguments","_element","oldProps","element","currentProps","props","previousProps","key","_elementProps","newValue","event","undefined","oldValue","removeEventListener","addEventListener","_updateElement","old","userRef","__forwardedRef","_ref","_userRef","newReactProps","newElementProps","elementKeys","k","v","createElement","Component","reactComponent","forwardRef","assign","children","set"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-react-wrapper/dist/esm/index.js"],"sourcesContent":["import { FASTElementDefinition, Observable, } from \"@microsoft/fast-element\";\nimport { FoundationElementRegistry, } from \"@microsoft/fast-foundation\";\nconst reservedReactProperties = new Set([\n    \"children\",\n    \"localName\",\n    \"ref\",\n    \"style\",\n    \"className\",\n]);\nconst emptyProps = Object.freeze(Object.create(null));\nconst DEFAULT_CACHE_NAME = \"_default\";\n// This will be a two levels cache Map<type, Map<name, ReactWrapper>>\n// to distinguish components of same type but different tag name.\n// Default name: '_default'\nconst wrappersCache = new Map();\n// There are 2 kinds of refs and there's no built in React API to set one.\nfunction setRef(ref, value) {\n    if (typeof ref === \"function\") {\n        ref(value);\n    }\n    else {\n        ref.current = value;\n    }\n}\nfunction getTagName(type, config) {\n    if (!config.name) {\n        /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n        const definition = FASTElementDefinition.forType(type);\n        if (definition) {\n            config.name = definition.name;\n        }\n        else {\n            throw new Error(\"React wrappers must wrap a FASTElement or be configured with a name.\");\n        }\n    }\n    return config.name;\n}\nfunction getElementEvents(config) {\n    return config.events || (config.events = {});\n}\nfunction keyIsValid(type, config, name) {\n    if (reservedReactProperties.has(name)) {\n        console.warn(`${getTagName(type, config)} contains property ${name} which is a React ` +\n            `reserved property. It will be used by React and not set on ` +\n            `the element.`);\n        return false;\n    }\n    return true;\n}\nfunction getElementKeys(type, config) {\n    if (!config.keys) {\n        if (config.properties) {\n            config.keys = new Set(config.properties.concat(Object.keys(getElementEvents(config))));\n        }\n        else {\n            const keys = new Set(Object.keys(getElementEvents(config)));\n            const accessors = Observable.getAccessors(type.prototype);\n            if (accessors.length > 0) {\n                for (const a of accessors) {\n                    if (keyIsValid(type, config, a.name)) {\n                        keys.add(a.name);\n                    }\n                }\n            }\n            else {\n                for (const p in type.prototype) {\n                    if (!(p in HTMLElement.prototype) && keyIsValid(type, config, p)) {\n                        keys.add(p);\n                    }\n                }\n            }\n            config.keys = keys;\n        }\n    }\n    return config.keys;\n}\n/**\n * @param React - The React module, typically imported from the `react` npm\n * package\n * @param designSystem - A design system to register the components with.\n * @public\n */\nexport function provideReactWrapper(React, designSystem) {\n    let registrations = [];\n    const registry = {\n        register(container, ...rest) {\n            registrations.forEach(x => x.register(container, ...rest));\n            registrations = [];\n        },\n    };\n    function wrap(type, config = {}) {\n        var _a, _b;\n        if (type instanceof FoundationElementRegistry) {\n            if (designSystem) {\n                designSystem.register(type);\n            }\n            else {\n                registrations.push(type);\n            }\n            type = type.type;\n        }\n        const cachedCandidates = wrappersCache.get(type);\n        if (cachedCandidates) {\n            const cachedWrapper = cachedCandidates.get((_a = config.name) !== null && _a !== void 0 ? _a : DEFAULT_CACHE_NAME);\n            if (cachedWrapper) {\n                return cachedWrapper;\n            }\n        }\n        class ReactComponent extends React.Component {\n            constructor() {\n                super(...arguments);\n                this._element = null;\n            }\n            _updateElement(oldProps) {\n                const element = this._element;\n                if (element === null) {\n                    return;\n                }\n                const currentProps = this.props;\n                const previousProps = oldProps || emptyProps;\n                const events = getElementEvents(config);\n                for (const key in this._elementProps) {\n                    const newValue = currentProps[key];\n                    const event = events[key];\n                    if (event === undefined) {\n                        element[key] = newValue;\n                    }\n                    else {\n                        const oldValue = previousProps[key];\n                        if (newValue === oldValue) {\n                            continue;\n                        }\n                        if (oldValue !== undefined) {\n                            element.removeEventListener(event, oldValue);\n                        }\n                        if (newValue !== undefined) {\n                            element.addEventListener(event, newValue);\n                        }\n                    }\n                }\n            }\n            componentDidMount() {\n                this._updateElement();\n            }\n            componentDidUpdate(old) {\n                this._updateElement(old);\n            }\n            render() {\n                // Since refs only get fulfilled once, pass a new one if the user's\n                // ref changed. This allows refs to be fulfilled as expected, going from\n                // having a value to null.\n                const userRef = this.props.__forwardedRef;\n                if (this._ref === undefined || this._userRef !== userRef) {\n                    this._ref = (value) => {\n                        if (this._element === null) {\n                            this._element = value;\n                        }\n                        if (userRef !== null) {\n                            setRef(userRef, value);\n                        }\n                        this._userRef = userRef;\n                    };\n                }\n                // Filter class properties and pass the remaining attributes to React.\n                // This allows attributes to use framework rules\n                // for setting attributes and render correctly under SSR.\n                const newReactProps = { ref: this._ref };\n                const newElementProps = (this._elementProps = {});\n                const elementKeys = getElementKeys(type, config);\n                const currentProps = this.props;\n                for (const k in currentProps) {\n                    const v = currentProps[k];\n                    if (elementKeys.has(k)) {\n                        newElementProps[k] = v;\n                    }\n                    else {\n                        // React does *not* handle `className` for custom elements so\n                        // coerce it to `class` so it's handled correctly.\n                        newReactProps[k === \"className\" ? \"class\" : k] = v;\n                    }\n                }\n                return React.createElement(getTagName(type, config), newReactProps);\n            }\n        }\n        const reactComponent = React.forwardRef((props, ref) => React.createElement(ReactComponent, Object.assign(Object.assign({}, props), { __forwardedRef: ref }), props === null || props === void 0 ? void 0 : props.children));\n        if (!wrappersCache.has(type)) {\n            wrappersCache.set(type, new Map());\n        }\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        wrappersCache.get(type).set((_b = config.name) !== null && _b !== void 0 ? _b : DEFAULT_CACHE_NAME, reactComponent);\n        return reactComponent;\n    }\n    return { wrap, registry };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}