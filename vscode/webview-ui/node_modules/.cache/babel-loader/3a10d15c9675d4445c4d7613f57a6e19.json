{"ast":null,"code":"import { CSSDirective } from \"./css-directive.js\";\nimport { ElementStyles } from \"./element-styles.js\";\n\nfunction collectStyles(strings, values) {\n  const styles = [];\n  let cssString = \"\";\n  const behaviors = [];\n\n  for (let i = 0, ii = strings.length - 1; i < ii; ++i) {\n    cssString += strings[i];\n    let value = values[i];\n\n    if (value instanceof CSSDirective) {\n      const behavior = value.createBehavior();\n      value = value.createCSS();\n\n      if (behavior) {\n        behaviors.push(behavior);\n      }\n    }\n\n    if (value instanceof ElementStyles || value instanceof CSSStyleSheet) {\n      if (cssString.trim() !== \"\") {\n        styles.push(cssString);\n        cssString = \"\";\n      }\n\n      styles.push(value);\n    } else {\n      cssString += value;\n    }\n  }\n\n  cssString += strings[strings.length - 1];\n\n  if (cssString.trim() !== \"\") {\n    styles.push(cssString);\n  }\n\n  return {\n    styles,\n    behaviors\n  };\n}\n/**\n * Transforms a template literal string into styles.\n * @param strings - The string fragments that are interpolated with the values.\n * @param values - The values that are interpolated with the string fragments.\n * @remarks\n * The css helper supports interpolation of strings and ElementStyle instances.\n * @public\n */\n\n\nexport function css(strings) {\n  for (var _len = arguments.length, values = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    values[_key - 1] = arguments[_key];\n  }\n\n  const {\n    styles,\n    behaviors\n  } = collectStyles(strings, values);\n  const elementStyles = ElementStyles.create(styles);\n\n  if (behaviors.length) {\n    elementStyles.withBehaviors(...behaviors);\n  }\n\n  return elementStyles;\n}\n\nclass CSSPartial extends CSSDirective {\n  constructor(styles, behaviors) {\n    super();\n    this.behaviors = behaviors;\n    this.css = \"\";\n    const stylesheets = styles.reduce((accumulated, current) => {\n      if (typeof current === \"string\") {\n        this.css += current;\n      } else {\n        accumulated.push(current);\n      }\n\n      return accumulated;\n    }, []);\n\n    if (stylesheets.length) {\n      this.styles = ElementStyles.create(stylesheets);\n    }\n  }\n\n  createBehavior() {\n    return this;\n  }\n\n  createCSS() {\n    return this.css;\n  }\n\n  bind(el) {\n    if (this.styles) {\n      el.$fastController.addStyles(this.styles);\n    }\n\n    if (this.behaviors.length) {\n      el.$fastController.addBehaviors(this.behaviors);\n    }\n  }\n\n  unbind(el) {\n    if (this.styles) {\n      el.$fastController.removeStyles(this.styles);\n    }\n\n    if (this.behaviors.length) {\n      el.$fastController.removeBehaviors(this.behaviors);\n    }\n  }\n\n}\n/**\n * Transforms a template literal string into partial CSS.\n * @param strings - The string fragments that are interpolated with the values.\n * @param values - The values that are interpolated with the string fragments.\n * @public\n */\n\n\nexport function cssPartial(strings) {\n  for (var _len2 = arguments.length, values = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n    values[_key2 - 1] = arguments[_key2];\n  }\n\n  const {\n    styles,\n    behaviors\n  } = collectStyles(strings, values);\n  return new CSSPartial(styles, behaviors);\n}","map":{"version":3,"names":["CSSDirective","ElementStyles","collectStyles","strings","values","styles","cssString","behaviors","i","ii","length","value","behavior","createBehavior","createCSS","push","CSSStyleSheet","trim","css","elementStyles","create","withBehaviors","CSSPartial","constructor","stylesheets","reduce","accumulated","current","bind","el","$fastController","addStyles","addBehaviors","unbind","removeStyles","removeBehaviors","cssPartial"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-element/dist/esm/styles/css.js"],"sourcesContent":["import { CSSDirective } from \"./css-directive.js\";\nimport { ElementStyles } from \"./element-styles.js\";\nfunction collectStyles(strings, values) {\n    const styles = [];\n    let cssString = \"\";\n    const behaviors = [];\n    for (let i = 0, ii = strings.length - 1; i < ii; ++i) {\n        cssString += strings[i];\n        let value = values[i];\n        if (value instanceof CSSDirective) {\n            const behavior = value.createBehavior();\n            value = value.createCSS();\n            if (behavior) {\n                behaviors.push(behavior);\n            }\n        }\n        if (value instanceof ElementStyles || value instanceof CSSStyleSheet) {\n            if (cssString.trim() !== \"\") {\n                styles.push(cssString);\n                cssString = \"\";\n            }\n            styles.push(value);\n        }\n        else {\n            cssString += value;\n        }\n    }\n    cssString += strings[strings.length - 1];\n    if (cssString.trim() !== \"\") {\n        styles.push(cssString);\n    }\n    return {\n        styles,\n        behaviors,\n    };\n}\n/**\n * Transforms a template literal string into styles.\n * @param strings - The string fragments that are interpolated with the values.\n * @param values - The values that are interpolated with the string fragments.\n * @remarks\n * The css helper supports interpolation of strings and ElementStyle instances.\n * @public\n */\nexport function css(strings, ...values) {\n    const { styles, behaviors } = collectStyles(strings, values);\n    const elementStyles = ElementStyles.create(styles);\n    if (behaviors.length) {\n        elementStyles.withBehaviors(...behaviors);\n    }\n    return elementStyles;\n}\nclass CSSPartial extends CSSDirective {\n    constructor(styles, behaviors) {\n        super();\n        this.behaviors = behaviors;\n        this.css = \"\";\n        const stylesheets = styles.reduce((accumulated, current) => {\n            if (typeof current === \"string\") {\n                this.css += current;\n            }\n            else {\n                accumulated.push(current);\n            }\n            return accumulated;\n        }, []);\n        if (stylesheets.length) {\n            this.styles = ElementStyles.create(stylesheets);\n        }\n    }\n    createBehavior() {\n        return this;\n    }\n    createCSS() {\n        return this.css;\n    }\n    bind(el) {\n        if (this.styles) {\n            el.$fastController.addStyles(this.styles);\n        }\n        if (this.behaviors.length) {\n            el.$fastController.addBehaviors(this.behaviors);\n        }\n    }\n    unbind(el) {\n        if (this.styles) {\n            el.$fastController.removeStyles(this.styles);\n        }\n        if (this.behaviors.length) {\n            el.$fastController.removeBehaviors(this.behaviors);\n        }\n    }\n}\n/**\n * Transforms a template literal string into partial CSS.\n * @param strings - The string fragments that are interpolated with the values.\n * @param values - The values that are interpolated with the string fragments.\n * @public\n */\nexport function cssPartial(strings, ...values) {\n    const { styles, behaviors } = collectStyles(strings, values);\n    return new CSSPartial(styles, behaviors);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}