{"ast":null,"code":"import _toConsumableArray from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _get from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { __decorate } from \"tslib\";\nimport { attr, booleanConverter, DOM, nullableNumberConverter, observable } from \"@microsoft/fast-element\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A HorizontalScroll Custom HTML Element\n *\n * @slot start - Content which can be provided before the scroll area\n * @slot end - Content which can be provided after the scroll area\n * @csspart scroll-area - Wraps the entire scrollable region\n * @csspart scroll-view - The visible scroll area\n * @csspart content-container - The container for the content\n * @csspart scroll-prev - The previous flipper container\n * @csspart scroll-action-previous - The element wrapping the previous flipper\n * @csspart scroll-next - The next flipper container\n * @csspart scroll-action-next - The element wrapping the next flipper\n * @fires scrollstart - Fires a custom 'scrollstart' event when scrolling\n * @fires scrollend - Fires a custom 'scrollend' event when scrolling stops\n *\n * @public\n */\n\nexport var HorizontalScroll = /*#__PURE__*/function (_FoundationElement) {\n  _inherits(HorizontalScroll, _FoundationElement);\n\n  var _super = _createSuper(HorizontalScroll);\n\n  function HorizontalScroll() {\n    var _this;\n\n    _classCallCheck(this, HorizontalScroll);\n\n    _this = _super.apply(this, arguments);\n    /**\n     * @internal\n     */\n\n    _this.framesPerSecond = 60;\n    /**\n     * Flag indicating that the items are being updated\n     *\n     * @internal\n     */\n\n    _this.updatingItems = false;\n    /**\n     * Speed of scroll in pixels per second\n     * @public\n     */\n\n    _this.speed = 600;\n    /**\n     * Attribute used for easing, defaults to ease-in-out\n     * @public\n     */\n\n    _this.easing = \"ease-in-out\";\n    /**\n     * Attribute to hide flippers from assistive technology\n     * @public\n     */\n\n    _this.flippersHiddenFromAT = false;\n    /**\n     * Scrolling state\n     * @internal\n     */\n\n    _this.scrolling = false;\n    /**\n     * Detects if the component has been resized\n     * @internal\n     */\n\n    _this.resizeDetector = null;\n    return _this;\n  }\n  /**\n   * The calculated duration for a frame.\n   *\n   * @internal\n   */\n\n\n  _createClass(HorizontalScroll, [{\n    key: \"frameTime\",\n    get: function get() {\n      return 1000 / this.framesPerSecond;\n    }\n    /**\n     * Firing scrollstart and scrollend events\n     * @internal\n     */\n\n  }, {\n    key: \"scrollingChanged\",\n    value: function scrollingChanged(prev, next) {\n      if (this.scrollContainer) {\n        var event = this.scrolling == true ? \"scrollstart\" : \"scrollend\";\n        this.$emit(event, this.scrollContainer.scrollLeft);\n      }\n    }\n    /**\n     * In RTL mode\n     * @internal\n     */\n\n  }, {\n    key: \"isRtl\",\n    get: function get() {\n      return this.scrollItems.length > 1 && this.scrollItems[0].offsetLeft > this.scrollItems[1].offsetLeft;\n    }\n  }, {\n    key: \"connectedCallback\",\n    value: function connectedCallback() {\n      _get(_getPrototypeOf(HorizontalScroll.prototype), \"connectedCallback\", this).call(this);\n\n      this.initializeResizeDetector();\n    }\n  }, {\n    key: \"disconnectedCallback\",\n    value: function disconnectedCallback() {\n      this.disconnectResizeDetector();\n\n      _get(_getPrototypeOf(HorizontalScroll.prototype), \"disconnectedCallback\", this).call(this);\n    }\n    /**\n     * Updates scroll stops and flippers when scroll items change\n     * @param previous - current scroll items\n     * @param next - new updated scroll items\n     * @public\n     */\n\n  }, {\n    key: \"scrollItemsChanged\",\n    value: function scrollItemsChanged(previous, next) {\n      var _this2 = this;\n\n      if (next && !this.updatingItems) {\n        DOM.queueUpdate(function () {\n          return _this2.setStops();\n        });\n      }\n    }\n    /**\n     * destroys the instance's resize observer\n     * @internal\n     */\n\n  }, {\n    key: \"disconnectResizeDetector\",\n    value: function disconnectResizeDetector() {\n      if (this.resizeDetector) {\n        this.resizeDetector.disconnect();\n        this.resizeDetector = null;\n      }\n    }\n    /**\n     * initializes the instance's resize observer\n     * @internal\n     */\n\n  }, {\n    key: \"initializeResizeDetector\",\n    value: function initializeResizeDetector() {\n      this.disconnectResizeDetector();\n      this.resizeDetector = new window.ResizeObserver(this.resized.bind(this));\n      this.resizeDetector.observe(this);\n    }\n    /**\n     * Looks for slots and uses child nodes instead\n     * @internal\n     */\n\n  }, {\n    key: \"updateScrollStops\",\n    value: function updateScrollStops() {\n      this.updatingItems = true;\n      var updatedItems = this.scrollItems.reduce(function (scrollItems, scrollItem) {\n        if (scrollItem instanceof HTMLSlotElement) {\n          return scrollItems.concat(scrollItem.assignedElements());\n        }\n\n        scrollItems.push(scrollItem);\n        return scrollItems;\n      }, []);\n      this.scrollItems = updatedItems;\n      this.updatingItems = false;\n    }\n    /**\n     * Finds all of the scroll stops between elements\n     * @internal\n     */\n\n  }, {\n    key: \"setStops\",\n    value: function setStops() {\n      var _this3 = this;\n\n      this.updateScrollStops();\n      var container = this.scrollContainer;\n      var scrollLeft = container.scrollLeft;\n\n      var _container$getBoundin = container.getBoundingClientRect(),\n          containerWidth = _container$getBoundin.width,\n          containerLeft = _container$getBoundin.left;\n\n      this.width = containerWidth;\n      var lastStop = 0;\n      var stops = this.scrollItems.map(function (item, index) {\n        var _item$getBoundingClie = item.getBoundingClientRect(),\n            left = _item$getBoundingClie.left,\n            width = _item$getBoundingClie.width;\n\n        var leftPosition = Math.round(left + scrollLeft - containerLeft);\n        var right = Math.round(leftPosition + width);\n\n        if (_this3.isRtl) {\n          return -right;\n        }\n\n        lastStop = right;\n        return index === 0 ? 0 : leftPosition;\n      }).concat(lastStop);\n      /* Fixes a FireFox bug where it doesn't scroll to the start */\n\n      stops = this.fixScrollMisalign(stops);\n      /* Sort to zero */\n\n      stops.sort(function (a, b) {\n        return Math.abs(a) - Math.abs(b);\n      });\n      this.scrollStops = stops;\n      this.setFlippers();\n    }\n    /**\n     *\n     */\n\n  }, {\n    key: \"fixScrollMisalign\",\n    value: function fixScrollMisalign(stops) {\n      if (this.isRtl && stops.some(function (stop) {\n        return stop > 0;\n      })) {\n        stops.sort(function (a, b) {\n          return b - a;\n        });\n        var offset = stops[0];\n        stops = stops.map(function (stop) {\n          return stop - offset;\n        });\n      }\n\n      return stops;\n    }\n    /**\n     * Sets the controls view if enabled\n     * @internal\n     */\n\n  }, {\n    key: \"setFlippers\",\n    value: function setFlippers() {\n      var _a, _b;\n\n      var position = this.scrollContainer.scrollLeft;\n      (_a = this.previousFlipperContainer) === null || _a === void 0 ? void 0 : _a.classList.toggle(\"disabled\", position === 0);\n\n      if (this.scrollStops) {\n        var lastStop = Math.abs(this.scrollStops[this.scrollStops.length - 1]);\n        (_b = this.nextFlipperContainer) === null || _b === void 0 ? void 0 : _b.classList.toggle(\"disabled\", Math.abs(position) + this.width >= lastStop);\n      }\n    }\n    /**\n     * Function that can scroll an item into view.\n     * @param item - An item index, a scroll item or a child of one of the scroll items\n     * @param padding - Padding of the viewport where the active item shouldn't be\n     * @param rightPadding - Optional right padding. Uses the padding if not defined\n     *\n     * @public\n     */\n\n  }, {\n    key: \"scrollInView\",\n    value: function scrollInView(item) {\n      var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var rightPadding = arguments.length > 2 ? arguments[2] : undefined;\n\n      var _a;\n\n      if (typeof item !== \"number\" && item) {\n        item = this.scrollItems.findIndex(function (scrollItem) {\n          return scrollItem === item || scrollItem.contains(item);\n        });\n      }\n\n      if (item !== undefined) {\n        rightPadding = rightPadding !== null && rightPadding !== void 0 ? rightPadding : padding;\n        var container = this.scrollContainer,\n            scrollStops = this.scrollStops,\n            items = this.scrollItems;\n        var scrollLeft = this.scrollContainer.scrollLeft;\n\n        var _container$getBoundin2 = container.getBoundingClientRect(),\n            containerWidth = _container$getBoundin2.width;\n\n        var itemStart = scrollStops[item];\n\n        var _items$item$getBoundi = items[item].getBoundingClientRect(),\n            width = _items$item$getBoundi.width;\n\n        var itemEnd = itemStart + width;\n        var isBefore = scrollLeft + padding > itemStart;\n\n        if (isBefore || scrollLeft + containerWidth - rightPadding < itemEnd) {\n          var stops = _toConsumableArray(scrollStops).sort(function (a, b) {\n            return isBefore ? b - a : a - b;\n          });\n\n          var scrollTo = (_a = stops.find(function (position) {\n            return isBefore ? position + padding < itemStart : position + containerWidth - (rightPadding !== null && rightPadding !== void 0 ? rightPadding : 0) > itemEnd;\n          })) !== null && _a !== void 0 ? _a : 0;\n          this.scrollToPosition(scrollTo);\n        }\n      }\n    }\n    /**\n     * Lets the user arrow left and right through the horizontal scroll\n     * @param e - Keyboard event\n     * @public\n     */\n\n  }, {\n    key: \"keyupHandler\",\n    value: function keyupHandler(e) {\n      var key = e.key;\n\n      switch (key) {\n        case \"ArrowLeft\":\n          this.scrollToPrevious();\n          break;\n\n        case \"ArrowRight\":\n          this.scrollToNext();\n          break;\n      }\n    }\n    /**\n     * Scrolls items to the left\n     * @public\n     */\n\n  }, {\n    key: \"scrollToPrevious\",\n    value: function scrollToPrevious() {\n      var _this4 = this;\n\n      var scrollPosition = this.scrollContainer.scrollLeft;\n      var current = this.scrollStops.findIndex(function (stop, index) {\n        return stop >= scrollPosition && (_this4.isRtl || index === _this4.scrollStops.length - 1 || _this4.scrollStops[index + 1] > scrollPosition);\n      });\n      var right = Math.abs(this.scrollStops[current + 1]);\n      var nextIndex = this.scrollStops.findIndex(function (stop) {\n        return Math.abs(stop) + _this4.width > right;\n      });\n\n      if (nextIndex >= current || nextIndex === -1) {\n        nextIndex = current > 0 ? current - 1 : 0;\n      }\n\n      this.scrollToPosition(this.scrollStops[nextIndex], scrollPosition);\n    }\n    /**\n     * Scrolls items to the right\n     * @public\n     */\n\n  }, {\n    key: \"scrollToNext\",\n    value: function scrollToNext() {\n      var _this5 = this;\n\n      var scrollPosition = this.scrollContainer.scrollLeft;\n      var current = this.scrollStops.findIndex(function (stop) {\n        return Math.abs(stop) >= Math.abs(scrollPosition);\n      });\n      var outOfView = this.scrollStops.findIndex(function (stop) {\n        return Math.abs(scrollPosition) + _this5.width <= Math.abs(stop);\n      });\n      var nextIndex = current;\n\n      if (outOfView > current + 2) {\n        nextIndex = outOfView - 2;\n      } else if (current < this.scrollStops.length - 2) {\n        nextIndex = current + 1;\n      }\n\n      this.scrollToPosition(this.scrollStops[nextIndex], scrollPosition);\n    }\n    /**\n     * Handles scrolling with easing\n     * @param position - starting position\n     * @param newPosition - position to scroll to\n     * @public\n     */\n\n  }, {\n    key: \"scrollToPosition\",\n    value: function scrollToPosition(newPosition) {\n      var _this6 = this;\n\n      var position = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.scrollContainer.scrollLeft;\n\n      var _a;\n\n      if (this.scrolling) {\n        return;\n      }\n\n      this.scrolling = true;\n      var seconds = (_a = this.duration) !== null && _a !== void 0 ? _a : \"\".concat(Math.abs(newPosition - position) / this.speed, \"s\");\n      this.content.style.setProperty(\"transition-duration\", seconds);\n      var computedDuration = parseFloat(getComputedStyle(this.content).getPropertyValue(\"transition-duration\"));\n\n      var transitionendHandler = function transitionendHandler(e) {\n        if (e && e.target !== e.currentTarget) {\n          return;\n        }\n\n        _this6.content.style.setProperty(\"transition-duration\", \"0s\");\n\n        _this6.content.style.removeProperty(\"transform\");\n\n        _this6.scrollContainer.style.setProperty(\"scroll-behavior\", \"auto\");\n\n        _this6.scrollContainer.scrollLeft = newPosition;\n\n        _this6.setFlippers();\n\n        _this6.content.removeEventListener(\"transitionend\", transitionendHandler);\n\n        _this6.scrolling = false;\n      };\n\n      if (computedDuration === 0) {\n        transitionendHandler();\n        return;\n      }\n\n      this.content.addEventListener(\"transitionend\", transitionendHandler);\n      var maxScrollValue = this.scrollContainer.scrollWidth - this.scrollContainer.clientWidth;\n      var transitionStop = this.scrollContainer.scrollLeft - Math.min(newPosition, maxScrollValue);\n\n      if (this.isRtl) {\n        transitionStop = this.scrollContainer.scrollLeft + Math.min(Math.abs(newPosition), maxScrollValue);\n      }\n\n      this.content.style.setProperty(\"transition-property\", \"transform\");\n      this.content.style.setProperty(\"transition-timing-function\", this.easing);\n      this.content.style.setProperty(\"transform\", \"translateX(\".concat(transitionStop, \"px)\"));\n    }\n    /**\n     * Monitors resize event on the horizontal-scroll element\n     * @public\n     */\n\n  }, {\n    key: \"resized\",\n    value: function resized() {\n      var _this7 = this;\n\n      if (this.resizeTimeout) {\n        this.resizeTimeout = clearTimeout(this.resizeTimeout);\n      }\n\n      this.resizeTimeout = setTimeout(function () {\n        _this7.width = _this7.scrollContainer.offsetWidth;\n\n        _this7.setFlippers();\n      }, this.frameTime);\n    }\n    /**\n     * Monitors scrolled event on the content container\n     * @public\n     */\n\n  }, {\n    key: \"scrolled\",\n    value: function scrolled() {\n      var _this8 = this;\n\n      if (this.scrollTimeout) {\n        this.scrollTimeout = clearTimeout(this.scrollTimeout);\n      }\n\n      this.scrollTimeout = setTimeout(function () {\n        _this8.setFlippers();\n      }, this.frameTime);\n    }\n  }]);\n\n  return HorizontalScroll;\n}(FoundationElement);\n\n__decorate([attr({\n  converter: nullableNumberConverter\n})], HorizontalScroll.prototype, \"speed\", void 0);\n\n__decorate([attr], HorizontalScroll.prototype, \"duration\", void 0);\n\n__decorate([attr], HorizontalScroll.prototype, \"easing\", void 0);\n\n__decorate([attr({\n  attribute: \"flippers-hidden-from-at\",\n  converter: booleanConverter\n})], HorizontalScroll.prototype, \"flippersHiddenFromAT\", void 0);\n\n__decorate([observable], HorizontalScroll.prototype, \"scrolling\", void 0);\n\n__decorate([observable], HorizontalScroll.prototype, \"scrollItems\", void 0);\n\n__decorate([attr({\n  attribute: \"view\"\n})], HorizontalScroll.prototype, \"view\", void 0);","map":{"version":3,"names":["__decorate","attr","booleanConverter","DOM","nullableNumberConverter","observable","FoundationElement","HorizontalScroll","arguments","framesPerSecond","updatingItems","speed","easing","flippersHiddenFromAT","scrolling","resizeDetector","prev","next","scrollContainer","event","$emit","scrollLeft","scrollItems","length","offsetLeft","initializeResizeDetector","disconnectResizeDetector","previous","queueUpdate","setStops","disconnect","window","ResizeObserver","resized","bind","observe","updatedItems","reduce","scrollItem","HTMLSlotElement","concat","assignedElements","push","updateScrollStops","container","getBoundingClientRect","containerWidth","width","containerLeft","left","lastStop","stops","map","item","index","leftPosition","Math","round","right","isRtl","fixScrollMisalign","sort","a","b","abs","scrollStops","setFlippers","some","stop","offset","_a","_b","position","previousFlipperContainer","classList","toggle","nextFlipperContainer","padding","rightPadding","findIndex","contains","undefined","items","itemStart","itemEnd","isBefore","scrollTo","find","scrollToPosition","e","key","scrollToPrevious","scrollToNext","scrollPosition","current","nextIndex","outOfView","newPosition","seconds","duration","content","style","setProperty","computedDuration","parseFloat","getComputedStyle","getPropertyValue","transitionendHandler","target","currentTarget","removeProperty","removeEventListener","addEventListener","maxScrollValue","scrollWidth","clientWidth","transitionStop","min","resizeTimeout","clearTimeout","setTimeout","offsetWidth","frameTime","scrollTimeout","converter","prototype","attribute"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/horizontal-scroll/horizontal-scroll.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { attr, booleanConverter, DOM, nullableNumberConverter, observable, } from \"@microsoft/fast-element\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A HorizontalScroll Custom HTML Element\n *\n * @slot start - Content which can be provided before the scroll area\n * @slot end - Content which can be provided after the scroll area\n * @csspart scroll-area - Wraps the entire scrollable region\n * @csspart scroll-view - The visible scroll area\n * @csspart content-container - The container for the content\n * @csspart scroll-prev - The previous flipper container\n * @csspart scroll-action-previous - The element wrapping the previous flipper\n * @csspart scroll-next - The next flipper container\n * @csspart scroll-action-next - The element wrapping the next flipper\n * @fires scrollstart - Fires a custom 'scrollstart' event when scrolling\n * @fires scrollend - Fires a custom 'scrollend' event when scrolling stops\n *\n * @public\n */\nexport class HorizontalScroll extends FoundationElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * @internal\n         */\n        this.framesPerSecond = 60;\n        /**\n         * Flag indicating that the items are being updated\n         *\n         * @internal\n         */\n        this.updatingItems = false;\n        /**\n         * Speed of scroll in pixels per second\n         * @public\n         */\n        this.speed = 600;\n        /**\n         * Attribute used for easing, defaults to ease-in-out\n         * @public\n         */\n        this.easing = \"ease-in-out\";\n        /**\n         * Attribute to hide flippers from assistive technology\n         * @public\n         */\n        this.flippersHiddenFromAT = false;\n        /**\n         * Scrolling state\n         * @internal\n         */\n        this.scrolling = false;\n        /**\n         * Detects if the component has been resized\n         * @internal\n         */\n        this.resizeDetector = null;\n    }\n    /**\n     * The calculated duration for a frame.\n     *\n     * @internal\n     */\n    get frameTime() {\n        return 1000 / this.framesPerSecond;\n    }\n    /**\n     * Firing scrollstart and scrollend events\n     * @internal\n     */\n    scrollingChanged(prev, next) {\n        if (this.scrollContainer) {\n            const event = this.scrolling == true ? \"scrollstart\" : \"scrollend\";\n            this.$emit(event, this.scrollContainer.scrollLeft);\n        }\n    }\n    /**\n     * In RTL mode\n     * @internal\n     */\n    get isRtl() {\n        return (this.scrollItems.length > 1 &&\n            this.scrollItems[0].offsetLeft > this.scrollItems[1].offsetLeft);\n    }\n    connectedCallback() {\n        super.connectedCallback();\n        this.initializeResizeDetector();\n    }\n    disconnectedCallback() {\n        this.disconnectResizeDetector();\n        super.disconnectedCallback();\n    }\n    /**\n     * Updates scroll stops and flippers when scroll items change\n     * @param previous - current scroll items\n     * @param next - new updated scroll items\n     * @public\n     */\n    scrollItemsChanged(previous, next) {\n        if (next && !this.updatingItems) {\n            DOM.queueUpdate(() => this.setStops());\n        }\n    }\n    /**\n     * destroys the instance's resize observer\n     * @internal\n     */\n    disconnectResizeDetector() {\n        if (this.resizeDetector) {\n            this.resizeDetector.disconnect();\n            this.resizeDetector = null;\n        }\n    }\n    /**\n     * initializes the instance's resize observer\n     * @internal\n     */\n    initializeResizeDetector() {\n        this.disconnectResizeDetector();\n        this.resizeDetector = new window.ResizeObserver(this.resized.bind(this));\n        this.resizeDetector.observe(this);\n    }\n    /**\n     * Looks for slots and uses child nodes instead\n     * @internal\n     */\n    updateScrollStops() {\n        this.updatingItems = true;\n        const updatedItems = this.scrollItems.reduce((scrollItems, scrollItem) => {\n            if (scrollItem instanceof HTMLSlotElement) {\n                return scrollItems.concat(scrollItem.assignedElements());\n            }\n            scrollItems.push(scrollItem);\n            return scrollItems;\n        }, []);\n        this.scrollItems = updatedItems;\n        this.updatingItems = false;\n    }\n    /**\n     * Finds all of the scroll stops between elements\n     * @internal\n     */\n    setStops() {\n        this.updateScrollStops();\n        const { scrollContainer: container } = this;\n        const { scrollLeft } = container;\n        const { width: containerWidth, left: containerLeft, } = container.getBoundingClientRect();\n        this.width = containerWidth;\n        let lastStop = 0;\n        let stops = this.scrollItems\n            .map((item, index) => {\n            const { left, width } = item.getBoundingClientRect();\n            const leftPosition = Math.round(left + scrollLeft - containerLeft);\n            const right = Math.round(leftPosition + width);\n            if (this.isRtl) {\n                return -right;\n            }\n            lastStop = right;\n            return index === 0 ? 0 : leftPosition;\n        })\n            .concat(lastStop);\n        /* Fixes a FireFox bug where it doesn't scroll to the start */\n        stops = this.fixScrollMisalign(stops);\n        /* Sort to zero */\n        stops.sort((a, b) => Math.abs(a) - Math.abs(b));\n        this.scrollStops = stops;\n        this.setFlippers();\n    }\n    /**\n     *\n     */\n    fixScrollMisalign(stops) {\n        if (this.isRtl && stops.some(stop => stop > 0)) {\n            stops.sort((a, b) => b - a);\n            const offset = stops[0];\n            stops = stops.map(stop => stop - offset);\n        }\n        return stops;\n    }\n    /**\n     * Sets the controls view if enabled\n     * @internal\n     */\n    setFlippers() {\n        var _a, _b;\n        const position = this.scrollContainer.scrollLeft;\n        (_a = this.previousFlipperContainer) === null || _a === void 0 ? void 0 : _a.classList.toggle(\"disabled\", position === 0);\n        if (this.scrollStops) {\n            const lastStop = Math.abs(this.scrollStops[this.scrollStops.length - 1]);\n            (_b = this.nextFlipperContainer) === null || _b === void 0 ? void 0 : _b.classList.toggle(\"disabled\", Math.abs(position) + this.width >= lastStop);\n        }\n    }\n    /**\n     * Function that can scroll an item into view.\n     * @param item - An item index, a scroll item or a child of one of the scroll items\n     * @param padding - Padding of the viewport where the active item shouldn't be\n     * @param rightPadding - Optional right padding. Uses the padding if not defined\n     *\n     * @public\n     */\n    scrollInView(item, padding = 0, rightPadding) {\n        var _a;\n        if (typeof item !== \"number\" && item) {\n            item = this.scrollItems.findIndex(scrollItem => scrollItem === item || scrollItem.contains(item));\n        }\n        if (item !== undefined) {\n            rightPadding = rightPadding !== null && rightPadding !== void 0 ? rightPadding : padding;\n            const { scrollContainer: container, scrollStops, scrollItems: items } = this;\n            const { scrollLeft } = this.scrollContainer;\n            const { width: containerWidth } = container.getBoundingClientRect();\n            const itemStart = scrollStops[item];\n            const { width } = items[item].getBoundingClientRect();\n            const itemEnd = itemStart + width;\n            const isBefore = scrollLeft + padding > itemStart;\n            if (isBefore || scrollLeft + containerWidth - rightPadding < itemEnd) {\n                const stops = [...scrollStops].sort((a, b) => (isBefore ? b - a : a - b));\n                const scrollTo = (_a = stops.find(position => isBefore\n                    ? position + padding < itemStart\n                    : position + containerWidth - (rightPadding !== null && rightPadding !== void 0 ? rightPadding : 0) > itemEnd)) !== null && _a !== void 0 ? _a : 0;\n                this.scrollToPosition(scrollTo);\n            }\n        }\n    }\n    /**\n     * Lets the user arrow left and right through the horizontal scroll\n     * @param e - Keyboard event\n     * @public\n     */\n    keyupHandler(e) {\n        const key = e.key;\n        switch (key) {\n            case \"ArrowLeft\":\n                this.scrollToPrevious();\n                break;\n            case \"ArrowRight\":\n                this.scrollToNext();\n                break;\n        }\n    }\n    /**\n     * Scrolls items to the left\n     * @public\n     */\n    scrollToPrevious() {\n        const scrollPosition = this.scrollContainer.scrollLeft;\n        const current = this.scrollStops.findIndex((stop, index) => stop >= scrollPosition &&\n            (this.isRtl ||\n                index === this.scrollStops.length - 1 ||\n                this.scrollStops[index + 1] > scrollPosition));\n        const right = Math.abs(this.scrollStops[current + 1]);\n        let nextIndex = this.scrollStops.findIndex(stop => Math.abs(stop) + this.width > right);\n        if (nextIndex >= current || nextIndex === -1) {\n            nextIndex = current > 0 ? current - 1 : 0;\n        }\n        this.scrollToPosition(this.scrollStops[nextIndex], scrollPosition);\n    }\n    /**\n     * Scrolls items to the right\n     * @public\n     */\n    scrollToNext() {\n        const scrollPosition = this.scrollContainer.scrollLeft;\n        const current = this.scrollStops.findIndex(stop => Math.abs(stop) >= Math.abs(scrollPosition));\n        const outOfView = this.scrollStops.findIndex(stop => Math.abs(scrollPosition) + this.width <= Math.abs(stop));\n        let nextIndex = current;\n        if (outOfView > current + 2) {\n            nextIndex = outOfView - 2;\n        }\n        else if (current < this.scrollStops.length - 2) {\n            nextIndex = current + 1;\n        }\n        this.scrollToPosition(this.scrollStops[nextIndex], scrollPosition);\n    }\n    /**\n     * Handles scrolling with easing\n     * @param position - starting position\n     * @param newPosition - position to scroll to\n     * @public\n     */\n    scrollToPosition(newPosition, position = this.scrollContainer.scrollLeft) {\n        var _a;\n        if (this.scrolling) {\n            return;\n        }\n        this.scrolling = true;\n        const seconds = (_a = this.duration) !== null && _a !== void 0 ? _a : `${Math.abs(newPosition - position) / this.speed}s`;\n        this.content.style.setProperty(\"transition-duration\", seconds);\n        const computedDuration = parseFloat(getComputedStyle(this.content).getPropertyValue(\"transition-duration\"));\n        const transitionendHandler = (e) => {\n            if (e && e.target !== e.currentTarget) {\n                return;\n            }\n            this.content.style.setProperty(\"transition-duration\", \"0s\");\n            this.content.style.removeProperty(\"transform\");\n            this.scrollContainer.style.setProperty(\"scroll-behavior\", \"auto\");\n            this.scrollContainer.scrollLeft = newPosition;\n            this.setFlippers();\n            this.content.removeEventListener(\"transitionend\", transitionendHandler);\n            this.scrolling = false;\n        };\n        if (computedDuration === 0) {\n            transitionendHandler();\n            return;\n        }\n        this.content.addEventListener(\"transitionend\", transitionendHandler);\n        const maxScrollValue = this.scrollContainer.scrollWidth - this.scrollContainer.clientWidth;\n        let transitionStop = this.scrollContainer.scrollLeft - Math.min(newPosition, maxScrollValue);\n        if (this.isRtl) {\n            transitionStop =\n                this.scrollContainer.scrollLeft +\n                    Math.min(Math.abs(newPosition), maxScrollValue);\n        }\n        this.content.style.setProperty(\"transition-property\", \"transform\");\n        this.content.style.setProperty(\"transition-timing-function\", this.easing);\n        this.content.style.setProperty(\"transform\", `translateX(${transitionStop}px)`);\n    }\n    /**\n     * Monitors resize event on the horizontal-scroll element\n     * @public\n     */\n    resized() {\n        if (this.resizeTimeout) {\n            this.resizeTimeout = clearTimeout(this.resizeTimeout);\n        }\n        this.resizeTimeout = setTimeout(() => {\n            this.width = this.scrollContainer.offsetWidth;\n            this.setFlippers();\n        }, this.frameTime);\n    }\n    /**\n     * Monitors scrolled event on the content container\n     * @public\n     */\n    scrolled() {\n        if (this.scrollTimeout) {\n            this.scrollTimeout = clearTimeout(this.scrollTimeout);\n        }\n        this.scrollTimeout = setTimeout(() => {\n            this.setFlippers();\n        }, this.frameTime);\n    }\n}\n__decorate([\n    attr({ converter: nullableNumberConverter })\n], HorizontalScroll.prototype, \"speed\", void 0);\n__decorate([\n    attr\n], HorizontalScroll.prototype, \"duration\", void 0);\n__decorate([\n    attr\n], HorizontalScroll.prototype, \"easing\", void 0);\n__decorate([\n    attr({ attribute: \"flippers-hidden-from-at\", converter: booleanConverter })\n], HorizontalScroll.prototype, \"flippersHiddenFromAT\", void 0);\n__decorate([\n    observable\n], HorizontalScroll.prototype, \"scrolling\", void 0);\n__decorate([\n    observable\n], HorizontalScroll.prototype, \"scrollItems\", void 0);\n__decorate([\n    attr({ attribute: \"view\" })\n], HorizontalScroll.prototype, \"view\", void 0);\n"],"mappings":";;;;;;;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,IAAT,EAAeC,gBAAf,EAAiCC,GAAjC,EAAsCC,uBAAtC,EAA+DC,UAA/D,QAAkF,yBAAlF;AACA,SAASC,iBAAT,QAAkC,6CAAlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,WAAaC,gBAAb;EAAA;;EAAA;;EACI,4BAAc;IAAA;;IAAA;;IACV,2BAASC,SAAT;IACA;AACR;AACA;;IACQ,MAAKC,eAAL,GAAuB,EAAvB;IACA;AACR;AACA;AACA;AACA;;IACQ,MAAKC,aAAL,GAAqB,KAArB;IACA;AACR;AACA;AACA;;IACQ,MAAKC,KAAL,GAAa,GAAb;IACA;AACR;AACA;AACA;;IACQ,MAAKC,MAAL,GAAc,aAAd;IACA;AACR;AACA;AACA;;IACQ,MAAKC,oBAAL,GAA4B,KAA5B;IACA;AACR;AACA;AACA;;IACQ,MAAKC,SAAL,GAAiB,KAAjB;IACA;AACR;AACA;AACA;;IACQ,MAAKC,cAAL,GAAsB,IAAtB;IApCU;EAqCb;EACD;AACJ;AACA;AACA;AACA;;;EA3CA;IAAA;IAAA,KA4CI,eAAgB;MACZ,OAAO,OAAO,KAAKN,eAAnB;IACH;IACD;AACJ;AACA;AACA;;EAlDA;IAAA;IAAA,OAmDI,0BAAiBO,IAAjB,EAAuBC,IAAvB,EAA6B;MACzB,IAAI,KAAKC,eAAT,EAA0B;QACtB,IAAMC,KAAK,GAAG,KAAKL,SAAL,IAAkB,IAAlB,GAAyB,aAAzB,GAAyC,WAAvD;QACA,KAAKM,KAAL,CAAWD,KAAX,EAAkB,KAAKD,eAAL,CAAqBG,UAAvC;MACH;IACJ;IACD;AACJ;AACA;AACA;;EA5DA;IAAA;IAAA,KA6DI,eAAY;MACR,OAAQ,KAAKC,WAAL,CAAiBC,MAAjB,GAA0B,CAA1B,IACJ,KAAKD,WAAL,CAAiB,CAAjB,EAAoBE,UAApB,GAAiC,KAAKF,WAAL,CAAiB,CAAjB,EAAoBE,UADzD;IAEH;EAhEL;IAAA;IAAA,OAiEI,6BAAoB;MAChB;;MACA,KAAKC,wBAAL;IACH;EApEL;IAAA;IAAA,OAqEI,gCAAuB;MACnB,KAAKC,wBAAL;;MACA;IACH;IACD;AACJ;AACA;AACA;AACA;AACA;;EA9EA;IAAA;IAAA,OA+EI,4BAAmBC,QAAnB,EAA6BV,IAA7B,EAAmC;MAAA;;MAC/B,IAAIA,IAAI,IAAI,CAAC,KAAKP,aAAlB,EAAiC;QAC7BP,GAAG,CAACyB,WAAJ,CAAgB;UAAA,OAAM,MAAI,CAACC,QAAL,EAAN;QAAA,CAAhB;MACH;IACJ;IACD;AACJ;AACA;AACA;;EAvFA;IAAA;IAAA,OAwFI,oCAA2B;MACvB,IAAI,KAAKd,cAAT,EAAyB;QACrB,KAAKA,cAAL,CAAoBe,UAApB;QACA,KAAKf,cAAL,GAAsB,IAAtB;MACH;IACJ;IACD;AACJ;AACA;AACA;;EAjGA;IAAA;IAAA,OAkGI,oCAA2B;MACvB,KAAKW,wBAAL;MACA,KAAKX,cAAL,GAAsB,IAAIgB,MAAM,CAACC,cAAX,CAA0B,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAA1B,CAAtB;MACA,KAAKnB,cAAL,CAAoBoB,OAApB,CAA4B,IAA5B;IACH;IACD;AACJ;AACA;AACA;;EA1GA;IAAA;IAAA,OA2GI,6BAAoB;MAChB,KAAKzB,aAAL,GAAqB,IAArB;MACA,IAAM0B,YAAY,GAAG,KAAKd,WAAL,CAAiBe,MAAjB,CAAwB,UAACf,WAAD,EAAcgB,UAAd,EAA6B;QACtE,IAAIA,UAAU,YAAYC,eAA1B,EAA2C;UACvC,OAAOjB,WAAW,CAACkB,MAAZ,CAAmBF,UAAU,CAACG,gBAAX,EAAnB,CAAP;QACH;;QACDnB,WAAW,CAACoB,IAAZ,CAAiBJ,UAAjB;QACA,OAAOhB,WAAP;MACH,CANoB,EAMlB,EANkB,CAArB;MAOA,KAAKA,WAAL,GAAmBc,YAAnB;MACA,KAAK1B,aAAL,GAAqB,KAArB;IACH;IACD;AACJ;AACA;AACA;;EA1HA;IAAA;IAAA,OA2HI,oBAAW;MAAA;;MACP,KAAKiC,iBAAL;MACA,IAAyBC,SAAzB,GAAuC,IAAvC,CAAQ1B,eAAR;MACA,IAAQG,UAAR,GAAuBuB,SAAvB,CAAQvB,UAAR;;MACA,4BAAwDuB,SAAS,CAACC,qBAAV,EAAxD;MAAA,IAAeC,cAAf,yBAAQC,KAAR;MAAA,IAAqCC,aAArC,yBAA+BC,IAA/B;;MACA,KAAKF,KAAL,GAAaD,cAAb;MACA,IAAII,QAAQ,GAAG,CAAf;MACA,IAAIC,KAAK,GAAG,KAAK7B,WAAL,CACP8B,GADO,CACH,UAACC,IAAD,EAAOC,KAAP,EAAiB;QACtB,4BAAwBD,IAAI,CAACR,qBAAL,EAAxB;QAAA,IAAQI,IAAR,yBAAQA,IAAR;QAAA,IAAcF,KAAd,yBAAcA,KAAd;;QACA,IAAMQ,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWR,IAAI,GAAG5B,UAAP,GAAoB2B,aAA/B,CAArB;QACA,IAAMU,KAAK,GAAGF,IAAI,CAACC,KAAL,CAAWF,YAAY,GAAGR,KAA1B,CAAd;;QACA,IAAI,MAAI,CAACY,KAAT,EAAgB;UACZ,OAAO,CAACD,KAAR;QACH;;QACDR,QAAQ,GAAGQ,KAAX;QACA,OAAOJ,KAAK,KAAK,CAAV,GAAc,CAAd,GAAkBC,YAAzB;MACH,CAVW,EAWPf,MAXO,CAWAU,QAXA,CAAZ;MAYA;;MACAC,KAAK,GAAG,KAAKS,iBAAL,CAAuBT,KAAvB,CAAR;MACA;;MACAA,KAAK,CAACU,IAAN,CAAW,UAACC,CAAD,EAAIC,CAAJ;QAAA,OAAUP,IAAI,CAACQ,GAAL,CAASF,CAAT,IAAcN,IAAI,CAACQ,GAAL,CAASD,CAAT,CAAxB;MAAA,CAAX;MACA,KAAKE,WAAL,GAAmBd,KAAnB;MACA,KAAKe,WAAL;IACH;IACD;AACJ;AACA;;EAvJA;IAAA;IAAA,OAwJI,2BAAkBf,KAAlB,EAAyB;MACrB,IAAI,KAAKQ,KAAL,IAAcR,KAAK,CAACgB,IAAN,CAAW,UAAAC,IAAI;QAAA,OAAIA,IAAI,GAAG,CAAX;MAAA,CAAf,CAAlB,EAAgD;QAC5CjB,KAAK,CAACU,IAAN,CAAW,UAACC,CAAD,EAAIC,CAAJ;UAAA,OAAUA,CAAC,GAAGD,CAAd;QAAA,CAAX;QACA,IAAMO,MAAM,GAAGlB,KAAK,CAAC,CAAD,CAApB;QACAA,KAAK,GAAGA,KAAK,CAACC,GAAN,CAAU,UAAAgB,IAAI;UAAA,OAAIA,IAAI,GAAGC,MAAX;QAAA,CAAd,CAAR;MACH;;MACD,OAAOlB,KAAP;IACH;IACD;AACJ;AACA;AACA;;EAnKA;IAAA;IAAA,OAoKI,uBAAc;MACV,IAAImB,EAAJ,EAAQC,EAAR;;MACA,IAAMC,QAAQ,GAAG,KAAKtD,eAAL,CAAqBG,UAAtC;MACA,CAACiD,EAAE,GAAG,KAAKG,wBAAX,MAAyC,IAAzC,IAAiDH,EAAE,KAAK,KAAK,CAA7D,GAAiE,KAAK,CAAtE,GAA0EA,EAAE,CAACI,SAAH,CAAaC,MAAb,CAAoB,UAApB,EAAgCH,QAAQ,KAAK,CAA7C,CAA1E;;MACA,IAAI,KAAKP,WAAT,EAAsB;QAClB,IAAMf,QAAQ,GAAGM,IAAI,CAACQ,GAAL,CAAS,KAAKC,WAAL,CAAiB,KAAKA,WAAL,CAAiB1C,MAAjB,GAA0B,CAA3C,CAAT,CAAjB;QACA,CAACgD,EAAE,GAAG,KAAKK,oBAAX,MAAqC,IAArC,IAA6CL,EAAE,KAAK,KAAK,CAAzD,GAA6D,KAAK,CAAlE,GAAsEA,EAAE,CAACG,SAAH,CAAaC,MAAb,CAAoB,UAApB,EAAgCnB,IAAI,CAACQ,GAAL,CAASQ,QAAT,IAAqB,KAAKzB,KAA1B,IAAmCG,QAAnE,CAAtE;MACH;IACJ;IACD;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;EApLA;IAAA;IAAA,OAqLI,sBAAaG,IAAb,EAA8C;MAAA,IAA3BwB,OAA2B,uEAAjB,CAAiB;MAAA,IAAdC,YAAc;;MAC1C,IAAIR,EAAJ;;MACA,IAAI,OAAOjB,IAAP,KAAgB,QAAhB,IAA4BA,IAAhC,EAAsC;QAClCA,IAAI,GAAG,KAAK/B,WAAL,CAAiByD,SAAjB,CAA2B,UAAAzC,UAAU;UAAA,OAAIA,UAAU,KAAKe,IAAf,IAAuBf,UAAU,CAAC0C,QAAX,CAAoB3B,IAApB,CAA3B;QAAA,CAArC,CAAP;MACH;;MACD,IAAIA,IAAI,KAAK4B,SAAb,EAAwB;QACpBH,YAAY,GAAGA,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmDA,YAAnD,GAAkED,OAAjF;QACA,IAAyBjC,SAAzB,GAAwE,IAAxE,CAAQ1B,eAAR;QAAA,IAAoC+C,WAApC,GAAwE,IAAxE,CAAoCA,WAApC;QAAA,IAA8DiB,KAA9D,GAAwE,IAAxE,CAAiD5D,WAAjD;QACA,IAAQD,UAAR,GAAuB,KAAKH,eAA5B,CAAQG,UAAR;;QACA,6BAAkCuB,SAAS,CAACC,qBAAV,EAAlC;QAAA,IAAeC,cAAf,0BAAQC,KAAR;;QACA,IAAMoC,SAAS,GAAGlB,WAAW,CAACZ,IAAD,CAA7B;;QACA,4BAAkB6B,KAAK,CAAC7B,IAAD,CAAL,CAAYR,qBAAZ,EAAlB;QAAA,IAAQE,KAAR,yBAAQA,KAAR;;QACA,IAAMqC,OAAO,GAAGD,SAAS,GAAGpC,KAA5B;QACA,IAAMsC,QAAQ,GAAGhE,UAAU,GAAGwD,OAAb,GAAuBM,SAAxC;;QACA,IAAIE,QAAQ,IAAIhE,UAAU,GAAGyB,cAAb,GAA8BgC,YAA9B,GAA6CM,OAA7D,EAAsE;UAClE,IAAMjC,KAAK,GAAG,mBAAIc,WAAJ,EAAiBJ,IAAjB,CAAsB,UAACC,CAAD,EAAIC,CAAJ;YAAA,OAAWsB,QAAQ,GAAGtB,CAAC,GAAGD,CAAP,GAAWA,CAAC,GAAGC,CAAlC;UAAA,CAAtB,CAAd;;UACA,IAAMuB,QAAQ,GAAG,CAAChB,EAAE,GAAGnB,KAAK,CAACoC,IAAN,CAAW,UAAAf,QAAQ;YAAA,OAAIa,QAAQ,GAChDb,QAAQ,GAAGK,OAAX,GAAqBM,SAD2B,GAEhDX,QAAQ,GAAG1B,cAAX,IAA6BgC,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAK,KAAK,CAA/C,GAAmDA,YAAnD,GAAkE,CAA/F,IAAoGM,OAFhE;UAAA,CAAnB,CAAN,MAEuG,IAFvG,IAE+Gd,EAAE,KAAK,KAAK,CAF3H,GAE+HA,EAF/H,GAEoI,CAFrJ;UAGA,KAAKkB,gBAAL,CAAsBF,QAAtB;QACH;MACJ;IACJ;IACD;AACJ;AACA;AACA;AACA;;EAhNA;IAAA;IAAA,OAiNI,sBAAaG,CAAb,EAAgB;MACZ,IAAMC,GAAG,GAAGD,CAAC,CAACC,GAAd;;MACA,QAAQA,GAAR;QACI,KAAK,WAAL;UACI,KAAKC,gBAAL;UACA;;QACJ,KAAK,YAAL;UACI,KAAKC,YAAL;UACA;MANR;IAQH;IACD;AACJ;AACA;AACA;;EA/NA;IAAA;IAAA,OAgOI,4BAAmB;MAAA;;MACf,IAAMC,cAAc,GAAG,KAAK3E,eAAL,CAAqBG,UAA5C;MACA,IAAMyE,OAAO,GAAG,KAAK7B,WAAL,CAAiBc,SAAjB,CAA2B,UAACX,IAAD,EAAOd,KAAP;QAAA,OAAiBc,IAAI,IAAIyB,cAAR,KACvD,MAAI,CAAClC,KAAL,IACGL,KAAK,KAAK,MAAI,CAACW,WAAL,CAAiB1C,MAAjB,GAA0B,CADvC,IAEG,MAAI,CAAC0C,WAAL,CAAiBX,KAAK,GAAG,CAAzB,IAA8BuC,cAHsB,CAAjB;MAAA,CAA3B,CAAhB;MAIA,IAAMnC,KAAK,GAAGF,IAAI,CAACQ,GAAL,CAAS,KAAKC,WAAL,CAAiB6B,OAAO,GAAG,CAA3B,CAAT,CAAd;MACA,IAAIC,SAAS,GAAG,KAAK9B,WAAL,CAAiBc,SAAjB,CAA2B,UAAAX,IAAI;QAAA,OAAIZ,IAAI,CAACQ,GAAL,CAASI,IAAT,IAAiB,MAAI,CAACrB,KAAtB,GAA8BW,KAAlC;MAAA,CAA/B,CAAhB;;MACA,IAAIqC,SAAS,IAAID,OAAb,IAAwBC,SAAS,KAAK,CAAC,CAA3C,EAA8C;QAC1CA,SAAS,GAAGD,OAAO,GAAG,CAAV,GAAcA,OAAO,GAAG,CAAxB,GAA4B,CAAxC;MACH;;MACD,KAAKN,gBAAL,CAAsB,KAAKvB,WAAL,CAAiB8B,SAAjB,CAAtB,EAAmDF,cAAnD;IACH;IACD;AACJ;AACA;AACA;;EAhPA;IAAA;IAAA,OAiPI,wBAAe;MAAA;;MACX,IAAMA,cAAc,GAAG,KAAK3E,eAAL,CAAqBG,UAA5C;MACA,IAAMyE,OAAO,GAAG,KAAK7B,WAAL,CAAiBc,SAAjB,CAA2B,UAAAX,IAAI;QAAA,OAAIZ,IAAI,CAACQ,GAAL,CAASI,IAAT,KAAkBZ,IAAI,CAACQ,GAAL,CAAS6B,cAAT,CAAtB;MAAA,CAA/B,CAAhB;MACA,IAAMG,SAAS,GAAG,KAAK/B,WAAL,CAAiBc,SAAjB,CAA2B,UAAAX,IAAI;QAAA,OAAIZ,IAAI,CAACQ,GAAL,CAAS6B,cAAT,IAA2B,MAAI,CAAC9C,KAAhC,IAAyCS,IAAI,CAACQ,GAAL,CAASI,IAAT,CAA7C;MAAA,CAA/B,CAAlB;MACA,IAAI2B,SAAS,GAAGD,OAAhB;;MACA,IAAIE,SAAS,GAAGF,OAAO,GAAG,CAA1B,EAA6B;QACzBC,SAAS,GAAGC,SAAS,GAAG,CAAxB;MACH,CAFD,MAGK,IAAIF,OAAO,GAAG,KAAK7B,WAAL,CAAiB1C,MAAjB,GAA0B,CAAxC,EAA2C;QAC5CwE,SAAS,GAAGD,OAAO,GAAG,CAAtB;MACH;;MACD,KAAKN,gBAAL,CAAsB,KAAKvB,WAAL,CAAiB8B,SAAjB,CAAtB,EAAmDF,cAAnD;IACH;IACD;AACJ;AACA;AACA;AACA;AACA;;EAnQA;IAAA;IAAA,OAoQI,0BAAiBI,WAAjB,EAA0E;MAAA;;MAAA,IAA5CzB,QAA4C,uEAAjC,KAAKtD,eAAL,CAAqBG,UAAY;;MACtE,IAAIiD,EAAJ;;MACA,IAAI,KAAKxD,SAAT,EAAoB;QAChB;MACH;;MACD,KAAKA,SAAL,GAAiB,IAAjB;MACA,IAAMoF,OAAO,GAAG,CAAC5B,EAAE,GAAG,KAAK6B,QAAX,MAAyB,IAAzB,IAAiC7B,EAAE,KAAK,KAAK,CAA7C,GAAiDA,EAAjD,aAAyDd,IAAI,CAACQ,GAAL,CAASiC,WAAW,GAAGzB,QAAvB,IAAmC,KAAK7D,KAAjG,MAAhB;MACA,KAAKyF,OAAL,CAAaC,KAAb,CAAmBC,WAAnB,CAA+B,qBAA/B,EAAsDJ,OAAtD;MACA,IAAMK,gBAAgB,GAAGC,UAAU,CAACC,gBAAgB,CAAC,KAAKL,OAAN,CAAhB,CAA+BM,gBAA/B,CAAgD,qBAAhD,CAAD,CAAnC;;MACA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAClB,CAAD,EAAO;QAChC,IAAIA,CAAC,IAAIA,CAAC,CAACmB,MAAF,KAAanB,CAAC,CAACoB,aAAxB,EAAuC;UACnC;QACH;;QACD,MAAI,CAACT,OAAL,CAAaC,KAAb,CAAmBC,WAAnB,CAA+B,qBAA/B,EAAsD,IAAtD;;QACA,MAAI,CAACF,OAAL,CAAaC,KAAb,CAAmBS,cAAnB,CAAkC,WAAlC;;QACA,MAAI,CAAC5F,eAAL,CAAqBmF,KAArB,CAA2BC,WAA3B,CAAuC,iBAAvC,EAA0D,MAA1D;;QACA,MAAI,CAACpF,eAAL,CAAqBG,UAArB,GAAkC4E,WAAlC;;QACA,MAAI,CAAC/B,WAAL;;QACA,MAAI,CAACkC,OAAL,CAAaW,mBAAb,CAAiC,eAAjC,EAAkDJ,oBAAlD;;QACA,MAAI,CAAC7F,SAAL,GAAiB,KAAjB;MACH,CAXD;;MAYA,IAAIyF,gBAAgB,KAAK,CAAzB,EAA4B;QACxBI,oBAAoB;QACpB;MACH;;MACD,KAAKP,OAAL,CAAaY,gBAAb,CAA8B,eAA9B,EAA+CL,oBAA/C;MACA,IAAMM,cAAc,GAAG,KAAK/F,eAAL,CAAqBgG,WAArB,GAAmC,KAAKhG,eAAL,CAAqBiG,WAA/E;MACA,IAAIC,cAAc,GAAG,KAAKlG,eAAL,CAAqBG,UAArB,GAAkCmC,IAAI,CAAC6D,GAAL,CAASpB,WAAT,EAAsBgB,cAAtB,CAAvD;;MACA,IAAI,KAAKtD,KAAT,EAAgB;QACZyD,cAAc,GACV,KAAKlG,eAAL,CAAqBG,UAArB,GACImC,IAAI,CAAC6D,GAAL,CAAS7D,IAAI,CAACQ,GAAL,CAASiC,WAAT,CAAT,EAAgCgB,cAAhC,CAFR;MAGH;;MACD,KAAKb,OAAL,CAAaC,KAAb,CAAmBC,WAAnB,CAA+B,qBAA/B,EAAsD,WAAtD;MACA,KAAKF,OAAL,CAAaC,KAAb,CAAmBC,WAAnB,CAA+B,4BAA/B,EAA6D,KAAK1F,MAAlE;MACA,KAAKwF,OAAL,CAAaC,KAAb,CAAmBC,WAAnB,CAA+B,WAA/B,uBAA0Dc,cAA1D;IACH;IACD;AACJ;AACA;AACA;;EA5SA;IAAA;IAAA,OA6SI,mBAAU;MAAA;;MACN,IAAI,KAAKE,aAAT,EAAwB;QACpB,KAAKA,aAAL,GAAqBC,YAAY,CAAC,KAAKD,aAAN,CAAjC;MACH;;MACD,KAAKA,aAAL,GAAqBE,UAAU,CAAC,YAAM;QAClC,MAAI,CAACzE,KAAL,GAAa,MAAI,CAAC7B,eAAL,CAAqBuG,WAAlC;;QACA,MAAI,CAACvD,WAAL;MACH,CAH8B,EAG5B,KAAKwD,SAHuB,CAA/B;IAIH;IACD;AACJ;AACA;AACA;;EAzTA;IAAA;IAAA,OA0TI,oBAAW;MAAA;;MACP,IAAI,KAAKC,aAAT,EAAwB;QACpB,KAAKA,aAAL,GAAqBJ,YAAY,CAAC,KAAKI,aAAN,CAAjC;MACH;;MACD,KAAKA,aAAL,GAAqBH,UAAU,CAAC,YAAM;QAClC,MAAI,CAACtD,WAAL;MACH,CAF8B,EAE5B,KAAKwD,SAFuB,CAA/B;IAGH;EAjUL;;EAAA;AAAA,EAAsCpH,iBAAtC;;AAmUAN,UAAU,CAAC,CACPC,IAAI,CAAC;EAAE2H,SAAS,EAAExH;AAAb,CAAD,CADG,CAAD,EAEPG,gBAAgB,CAACsH,SAFV,EAEqB,OAFrB,EAE8B,KAAK,CAFnC,CAAV;;AAGA7H,UAAU,CAAC,CACPC,IADO,CAAD,EAEPM,gBAAgB,CAACsH,SAFV,EAEqB,UAFrB,EAEiC,KAAK,CAFtC,CAAV;;AAGA7H,UAAU,CAAC,CACPC,IADO,CAAD,EAEPM,gBAAgB,CAACsH,SAFV,EAEqB,QAFrB,EAE+B,KAAK,CAFpC,CAAV;;AAGA7H,UAAU,CAAC,CACPC,IAAI,CAAC;EAAE6H,SAAS,EAAE,yBAAb;EAAwCF,SAAS,EAAE1H;AAAnD,CAAD,CADG,CAAD,EAEPK,gBAAgB,CAACsH,SAFV,EAEqB,sBAFrB,EAE6C,KAAK,CAFlD,CAAV;;AAGA7H,UAAU,CAAC,CACPK,UADO,CAAD,EAEPE,gBAAgB,CAACsH,SAFV,EAEqB,WAFrB,EAEkC,KAAK,CAFvC,CAAV;;AAGA7H,UAAU,CAAC,CACPK,UADO,CAAD,EAEPE,gBAAgB,CAACsH,SAFV,EAEqB,aAFrB,EAEoC,KAAK,CAFzC,CAAV;;AAGA7H,UAAU,CAAC,CACPC,IAAI,CAAC;EAAE6H,SAAS,EAAE;AAAb,CAAD,CADG,CAAD,EAEPvH,gBAAgB,CAACsH,SAFV,EAEqB,MAFrB,EAE6B,KAAK,CAFlC,CAAV"},"metadata":{},"sourceType":"module"}