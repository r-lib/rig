{"ast":null,"code":"import _inherits from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { FASTElementDefinition } from \"@microsoft/fast-element\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\nimport { DI, Registration } from \"../di/di.js\";\nimport { DesignToken } from \"../design-token/design-token.js\";\nimport { ComponentPresentation } from \"./component-presentation.js\";\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\n/**\n * Indicates what to do with an ambiguous (duplicate) element.\n * @public\n */\n\nexport var ElementDisambiguation = Object.freeze({\n  /**\n   * Skip defining the element but still call the provided callback passed\n   * to DesignSystemRegistrationContext.tryDefineElement\n   */\n  definitionCallbackOnly: null,\n\n  /**\n   * Ignore the duplicate element entirely.\n   */\n  ignoreDuplicate: Symbol()\n});\nvar elementTypesByTag = new Map();\nvar elementTagsByType = new Map();\nvar rootDesignSystem = null;\nvar designSystemKey = DI.createInterface(function (x) {\n  return x.cachedCallback(function (handler) {\n    if (rootDesignSystem === null) {\n      rootDesignSystem = new DefaultDesignSystem(null, handler);\n    }\n\n    return rootDesignSystem;\n  });\n});\n/**\n * An API gateway to design system features.\n * @public\n */\n\nexport var DesignSystem = Object.freeze({\n  /**\n   * Returns the HTML element name that the type is defined as.\n   * @param type - The type to lookup.\n   * @public\n   */\n  tagFor: function tagFor(type) {\n    return elementTagsByType.get(type);\n  },\n\n  /**\n   * Searches the DOM hierarchy for the design system that is responsible\n   * for the provided element.\n   * @param element - The element to locate the design system for.\n   * @returns The located design system.\n   * @public\n   */\n  responsibleFor: function responsibleFor(element) {\n    var owned = element.$$designSystem$$;\n\n    if (owned) {\n      return owned;\n    }\n\n    var container = DI.findResponsibleContainer(element);\n    return container.get(designSystemKey);\n  },\n\n  /**\n   * Gets the DesignSystem if one is explicitly defined on the provided element;\n   * otherwise creates a design system defined directly on the element.\n   * @param element - The element to get or create a design system for.\n   * @returns The design system.\n   * @public\n   */\n  getOrCreate: function getOrCreate(node) {\n    if (!node) {\n      if (rootDesignSystem === null) {\n        rootDesignSystem = DI.getOrCreateDOMContainer().get(designSystemKey);\n      }\n\n      return rootDesignSystem;\n    }\n\n    var owned = node.$$designSystem$$;\n\n    if (owned) {\n      return owned;\n    }\n\n    var container = DI.getOrCreateDOMContainer(node);\n\n    if (container.has(designSystemKey, false)) {\n      return container.get(designSystemKey);\n    } else {\n      var system = new DefaultDesignSystem(node, container);\n      container.register(Registration.instance(designSystemKey, system));\n      return system;\n    }\n  }\n});\n\nfunction extractTryDefineElementParams(params, elementDefinitionType, elementDefinitionCallback) {\n  if (typeof params === \"string\") {\n    return {\n      name: params,\n      type: elementDefinitionType,\n      callback: elementDefinitionCallback\n    };\n  } else {\n    return params;\n  }\n}\n\nvar DefaultDesignSystem = /*#__PURE__*/function () {\n  function DefaultDesignSystem(owner, container) {\n    _classCallCheck(this, DefaultDesignSystem);\n\n    this.owner = owner;\n    this.container = container;\n    this.designTokensInitialized = false;\n    this.prefix = \"fast\";\n    this.shadowRootMode = undefined;\n\n    this.disambiguate = function () {\n      return ElementDisambiguation.definitionCallbackOnly;\n    };\n\n    if (owner !== null) {\n      owner.$$designSystem$$ = this;\n    }\n  }\n\n  _createClass(DefaultDesignSystem, [{\n    key: \"withPrefix\",\n    value: function withPrefix(prefix) {\n      this.prefix = prefix;\n      return this;\n    }\n  }, {\n    key: \"withShadowRootMode\",\n    value: function withShadowRootMode(mode) {\n      this.shadowRootMode = mode;\n      return this;\n    }\n  }, {\n    key: \"withElementDisambiguation\",\n    value: function withElementDisambiguation(callback) {\n      this.disambiguate = callback;\n      return this;\n    }\n  }, {\n    key: \"withDesignTokenRoot\",\n    value: function withDesignTokenRoot(root) {\n      this.designTokenRoot = root;\n      return this;\n    }\n  }, {\n    key: \"register\",\n    value: function register() {\n      var container = this.container;\n      var elementDefinitionEntries = [];\n      var disambiguate = this.disambiguate;\n      var shadowRootMode = this.shadowRootMode;\n      var context = {\n        elementPrefix: this.prefix,\n        tryDefineElement: function tryDefineElement(params, elementDefinitionType, elementDefinitionCallback) {\n          var extractedParams = extractTryDefineElementParams(params, elementDefinitionType, elementDefinitionCallback);\n          var name = extractedParams.name,\n              callback = extractedParams.callback,\n              baseClass = extractedParams.baseClass;\n          var _type = extractedParams.type;\n          var elementName = name;\n          var typeFoundByName = elementTypesByTag.get(elementName);\n          var needsDefine = true;\n\n          while (typeFoundByName) {\n            var result = disambiguate(elementName, _type, typeFoundByName);\n\n            switch (result) {\n              case ElementDisambiguation.ignoreDuplicate:\n                return;\n\n              case ElementDisambiguation.definitionCallbackOnly:\n                needsDefine = false;\n                typeFoundByName = void 0;\n                break;\n\n              default:\n                elementName = result;\n                typeFoundByName = elementTypesByTag.get(elementName);\n                break;\n            }\n          }\n\n          if (needsDefine) {\n            if (elementTagsByType.has(_type) || _type === FoundationElement) {\n              _type = /*#__PURE__*/function (_type2) {\n                _inherits(type, _type2);\n\n                var _super = _createSuper(type);\n\n                function type() {\n                  _classCallCheck(this, type);\n\n                  return _super.apply(this, arguments);\n                }\n\n                return type;\n              }(_type);\n            }\n\n            elementTypesByTag.set(elementName, _type);\n            elementTagsByType.set(_type, elementName);\n\n            if (baseClass) {\n              elementTagsByType.set(baseClass, elementName);\n            }\n          }\n\n          elementDefinitionEntries.push(new ElementDefinitionEntry(container, elementName, _type, shadowRootMode, callback, needsDefine));\n        }\n      };\n\n      if (!this.designTokensInitialized) {\n        this.designTokensInitialized = true;\n\n        if (this.designTokenRoot !== null) {\n          DesignToken.registerRoot(this.designTokenRoot);\n        }\n      }\n\n      for (var _len = arguments.length, registrations = new Array(_len), _key = 0; _key < _len; _key++) {\n        registrations[_key] = arguments[_key];\n      }\n\n      container.registerWithContext.apply(container, [context].concat(registrations));\n\n      for (var _i = 0, _elementDefinitionEnt = elementDefinitionEntries; _i < _elementDefinitionEnt.length; _i++) {\n        var entry = _elementDefinitionEnt[_i];\n        entry.callback(entry);\n\n        if (entry.willDefine && entry.definition !== null) {\n          entry.definition.define();\n        }\n      }\n\n      return this;\n    }\n  }]);\n\n  return DefaultDesignSystem;\n}();\n\nvar ElementDefinitionEntry = /*#__PURE__*/function () {\n  function ElementDefinitionEntry(container, name, type, shadowRootMode, callback, willDefine) {\n    _classCallCheck(this, ElementDefinitionEntry);\n\n    this.container = container;\n    this.name = name;\n    this.type = type;\n    this.shadowRootMode = shadowRootMode;\n    this.callback = callback;\n    this.willDefine = willDefine;\n    this.definition = null;\n  }\n\n  _createClass(ElementDefinitionEntry, [{\n    key: \"definePresentation\",\n    value: function definePresentation(presentation) {\n      ComponentPresentation.define(this.name, presentation, this.container);\n    }\n  }, {\n    key: \"defineElement\",\n    value: function defineElement(definition) {\n      this.definition = new FASTElementDefinition(this.type, Object.assign(Object.assign({}, definition), {\n        name: this.name\n      }));\n    }\n  }, {\n    key: \"tagFor\",\n    value: function tagFor(type) {\n      return DesignSystem.tagFor(type);\n    }\n  }]);\n\n  return ElementDefinitionEntry;\n}();\n/* eslint-enable @typescript-eslint/no-non-null-assertion */","map":{"version":3,"names":["FASTElementDefinition","FoundationElement","DI","Registration","DesignToken","ComponentPresentation","ElementDisambiguation","Object","freeze","definitionCallbackOnly","ignoreDuplicate","Symbol","elementTypesByTag","Map","elementTagsByType","rootDesignSystem","designSystemKey","createInterface","x","cachedCallback","handler","DefaultDesignSystem","DesignSystem","tagFor","type","get","responsibleFor","element","owned","$$designSystem$$","container","findResponsibleContainer","getOrCreate","node","getOrCreateDOMContainer","has","system","register","instance","extractTryDefineElementParams","params","elementDefinitionType","elementDefinitionCallback","name","callback","owner","designTokensInitialized","prefix","shadowRootMode","undefined","disambiguate","mode","root","designTokenRoot","elementDefinitionEntries","context","elementPrefix","tryDefineElement","extractedParams","baseClass","elementName","typeFoundByName","needsDefine","result","set","push","ElementDefinitionEntry","registerRoot","registrations","registerWithContext","entry","willDefine","definition","define","presentation","assign"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/design-system/design-system.js"],"sourcesContent":["import { FASTElementDefinition } from \"@microsoft/fast-element\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\nimport { DI, Registration } from \"../di/di.js\";\nimport { DesignToken } from \"../design-token/design-token.js\";\nimport { ComponentPresentation } from \"./component-presentation.js\";\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\n/**\n * Indicates what to do with an ambiguous (duplicate) element.\n * @public\n */\nexport const ElementDisambiguation = Object.freeze({\n    /**\n     * Skip defining the element but still call the provided callback passed\n     * to DesignSystemRegistrationContext.tryDefineElement\n     */\n    definitionCallbackOnly: null,\n    /**\n     * Ignore the duplicate element entirely.\n     */\n    ignoreDuplicate: Symbol(),\n});\nconst elementTypesByTag = new Map();\nconst elementTagsByType = new Map();\nlet rootDesignSystem = null;\nconst designSystemKey = DI.createInterface(x => x.cachedCallback(handler => {\n    if (rootDesignSystem === null) {\n        rootDesignSystem = new DefaultDesignSystem(null, handler);\n    }\n    return rootDesignSystem;\n}));\n/**\n * An API gateway to design system features.\n * @public\n */\nexport const DesignSystem = Object.freeze({\n    /**\n     * Returns the HTML element name that the type is defined as.\n     * @param type - The type to lookup.\n     * @public\n     */\n    tagFor(type) {\n        return elementTagsByType.get(type);\n    },\n    /**\n     * Searches the DOM hierarchy for the design system that is responsible\n     * for the provided element.\n     * @param element - The element to locate the design system for.\n     * @returns The located design system.\n     * @public\n     */\n    responsibleFor(element) {\n        const owned = element.$$designSystem$$;\n        if (owned) {\n            return owned;\n        }\n        const container = DI.findResponsibleContainer(element);\n        return container.get(designSystemKey);\n    },\n    /**\n     * Gets the DesignSystem if one is explicitly defined on the provided element;\n     * otherwise creates a design system defined directly on the element.\n     * @param element - The element to get or create a design system for.\n     * @returns The design system.\n     * @public\n     */\n    getOrCreate(node) {\n        if (!node) {\n            if (rootDesignSystem === null) {\n                rootDesignSystem = DI.getOrCreateDOMContainer().get(designSystemKey);\n            }\n            return rootDesignSystem;\n        }\n        const owned = node.$$designSystem$$;\n        if (owned) {\n            return owned;\n        }\n        const container = DI.getOrCreateDOMContainer(node);\n        if (container.has(designSystemKey, false)) {\n            return container.get(designSystemKey);\n        }\n        else {\n            const system = new DefaultDesignSystem(node, container);\n            container.register(Registration.instance(designSystemKey, system));\n            return system;\n        }\n    },\n});\nfunction extractTryDefineElementParams(params, elementDefinitionType, elementDefinitionCallback) {\n    if (typeof params === \"string\") {\n        return {\n            name: params,\n            type: elementDefinitionType,\n            callback: elementDefinitionCallback,\n        };\n    }\n    else {\n        return params;\n    }\n}\nclass DefaultDesignSystem {\n    constructor(owner, container) {\n        this.owner = owner;\n        this.container = container;\n        this.designTokensInitialized = false;\n        this.prefix = \"fast\";\n        this.shadowRootMode = undefined;\n        this.disambiguate = () => ElementDisambiguation.definitionCallbackOnly;\n        if (owner !== null) {\n            owner.$$designSystem$$ = this;\n        }\n    }\n    withPrefix(prefix) {\n        this.prefix = prefix;\n        return this;\n    }\n    withShadowRootMode(mode) {\n        this.shadowRootMode = mode;\n        return this;\n    }\n    withElementDisambiguation(callback) {\n        this.disambiguate = callback;\n        return this;\n    }\n    withDesignTokenRoot(root) {\n        this.designTokenRoot = root;\n        return this;\n    }\n    register(...registrations) {\n        const container = this.container;\n        const elementDefinitionEntries = [];\n        const disambiguate = this.disambiguate;\n        const shadowRootMode = this.shadowRootMode;\n        const context = {\n            elementPrefix: this.prefix,\n            tryDefineElement(params, elementDefinitionType, elementDefinitionCallback) {\n                const extractedParams = extractTryDefineElementParams(params, elementDefinitionType, elementDefinitionCallback);\n                const { name, callback, baseClass } = extractedParams;\n                let { type } = extractedParams;\n                let elementName = name;\n                let typeFoundByName = elementTypesByTag.get(elementName);\n                let needsDefine = true;\n                while (typeFoundByName) {\n                    const result = disambiguate(elementName, type, typeFoundByName);\n                    switch (result) {\n                        case ElementDisambiguation.ignoreDuplicate:\n                            return;\n                        case ElementDisambiguation.definitionCallbackOnly:\n                            needsDefine = false;\n                            typeFoundByName = void 0;\n                            break;\n                        default:\n                            elementName = result;\n                            typeFoundByName = elementTypesByTag.get(elementName);\n                            break;\n                    }\n                }\n                if (needsDefine) {\n                    if (elementTagsByType.has(type) || type === FoundationElement) {\n                        type = class extends type {\n                        };\n                    }\n                    elementTypesByTag.set(elementName, type);\n                    elementTagsByType.set(type, elementName);\n                    if (baseClass) {\n                        elementTagsByType.set(baseClass, elementName);\n                    }\n                }\n                elementDefinitionEntries.push(new ElementDefinitionEntry(container, elementName, type, shadowRootMode, callback, needsDefine));\n            },\n        };\n        if (!this.designTokensInitialized) {\n            this.designTokensInitialized = true;\n            if (this.designTokenRoot !== null) {\n                DesignToken.registerRoot(this.designTokenRoot);\n            }\n        }\n        container.registerWithContext(context, ...registrations);\n        for (const entry of elementDefinitionEntries) {\n            entry.callback(entry);\n            if (entry.willDefine && entry.definition !== null) {\n                entry.definition.define();\n            }\n        }\n        return this;\n    }\n}\nclass ElementDefinitionEntry {\n    constructor(container, name, type, shadowRootMode, callback, willDefine) {\n        this.container = container;\n        this.name = name;\n        this.type = type;\n        this.shadowRootMode = shadowRootMode;\n        this.callback = callback;\n        this.willDefine = willDefine;\n        this.definition = null;\n    }\n    definePresentation(presentation) {\n        ComponentPresentation.define(this.name, presentation, this.container);\n    }\n    defineElement(definition) {\n        this.definition = new FASTElementDefinition(this.type, Object.assign(Object.assign({}, definition), { name: this.name }));\n    }\n    tagFor(type) {\n        return DesignSystem.tagFor(type);\n    }\n}\n/* eslint-enable @typescript-eslint/no-non-null-assertion */\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}