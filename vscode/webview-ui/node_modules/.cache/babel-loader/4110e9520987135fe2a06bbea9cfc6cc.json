{"ast":null,"code":"import _slicedToArray from\"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{vscode}from\"./utilities/vscode\";import{VSCodeButton}from\"@vscode/webview-ui-toolkit/react\";import{useState,useCallback,useEffect}from'react';import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";;function RVersion(){return/*#__PURE__*/_jsx(\"div\",{});}function RVersionList(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),versions=_useState2[0],setVersions=_useState2[1];var listener=useCallback(function(event){var message=event.data;switch(message.command){case'versions':setVersions(event.data);break;}},[]);useEffect(function(){window.addEventListener(\"keydown\",listener);return function(){window.removeEventListener(\"keydown\",listener);};},[listener]);return/*#__PURE__*/_jsx(\"div\",{children:JSON.stringify(versions)});}function App(){function refreshClick(){vscode.postMessage({command:\"refresh\",text:\"Reloading installed R versions\"});}return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Installalled R versions\"}),/*#__PURE__*/_jsx(RVersionList,{}),/*#__PURE__*/_jsx(VSCodeButton,{onClick:refreshClick,children:\"Refresh\"})]});}export default App;","map":{"version":3,"names":["vscode","VSCodeButton","useState","useCallback","useEffect","RVersion","RVersionList","versions","setVersions","listener","event","message","data","command","window","addEventListener","removeEventListener","JSON","stringify","App","refreshClick","postMessage","text"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/src/App.tsx"],"sourcesContent":["import { vscode } from \"./utilities/vscode\";\nimport { VSCodeButton } from \"@vscode/webview-ui-toolkit/react\";\nimport { useState, useCallback, useEffect } from 'react';\nimport \"./App.css\";\n\ninterface IRVersion {\n  name: string;\n  default: boolean;\n  version: string;\n  aliases: Array<string>;\n  path: string;\n};\n\nfunction RVersion() {\n  return <div></div>;\n}\n\nfunction RVersionList() {\n  const [versions, setVersions] = useState<Array<IRVersion>>();\n\n  const listener = useCallback(event => {\n    const message = event.data;\n    switch (message.command) {\n    case 'versions':\n      setVersions(event.data);\n      break;\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"keydown\", listener);\n    return () => {\n        window.removeEventListener(\"keydown\", listener);\n    };\n}, [listener]);\n\n  return <div>{JSON.stringify(versions)}</div>;\n}\n\nfunction App() {\n  function refreshClick() {\n    vscode.postMessage({\n      command: \"refresh\",\n      text: \"Reloading installed R versions\",\n    });\n  }\n\n  return (\n    <main>\n      <h1>Installalled R versions</h1>\n      <RVersionList />\n      <VSCodeButton onClick={refreshClick}>Refresh</VSCodeButton>\n    </main>\n  );\n}\n\nexport default App;\n"],"mappings":"oIAAA,OAASA,MAAT,KAAuB,oBAAvB,CACA,OAASC,YAAT,KAA6B,kCAA7B,CACA,OAASC,QAAT,CAAmBC,WAAnB,CAAgCC,SAAhC,KAAiD,OAAjD,CACA,MAAO,WAAP,C,wFAQC,CAED,QAASC,SAAT,EAAoB,CAClB,mBAAO,cAAP,CACD,CAED,QAASC,aAAT,EAAwB,CACtB,cAAgCJ,QAAQ,EAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eAEA,GAAMC,SAAQ,CAAGN,WAAW,CAAC,SAAAO,KAAK,CAAI,CACpC,GAAMC,QAAO,CAAGD,KAAK,CAACE,IAAtB,CACA,OAAQD,OAAO,CAACE,OAAhB,EACA,IAAK,UAAL,CACEL,WAAW,CAACE,KAAK,CAACE,IAAP,CAAX,CACA,MAHF,CAKD,CAP2B,CAOzB,EAPyB,CAA5B,CASAR,SAAS,CAAC,UAAM,CACdU,MAAM,CAACC,gBAAP,CAAwB,SAAxB,CAAmCN,QAAnC,EACA,MAAO,WAAM,CACTK,MAAM,CAACE,mBAAP,CAA2B,SAA3B,CAAsCP,QAAtC,EACH,CAFD,CAGH,CALU,CAKR,CAACA,QAAD,CALQ,CAAT,CAOA,mBAAO,qBAAMQ,IAAI,CAACC,SAAL,CAAeX,QAAf,CAAN,EAAP,CACD,CAED,QAASY,IAAT,EAAe,CACb,QAASC,aAAT,EAAwB,CACtBpB,MAAM,CAACqB,WAAP,CAAmB,CACjBR,OAAO,CAAE,SADQ,CAEjBS,IAAI,CAAE,gCAFW,CAAnB,EAID,CAED,mBACE,qCACE,+CADF,cAEE,KAAC,YAAD,IAFF,cAGE,KAAC,YAAD,EAAc,OAAO,CAAEF,YAAvB,qBAHF,GADF,CAOD,CAED,cAAeD,IAAf"},"metadata":{},"sourceType":"module"}