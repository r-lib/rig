{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { attr, DOM, Observable } from \"@microsoft/fast-element\";\nimport { keyEscape, keyTab } from \"@microsoft/fast-web-utilities\";\nimport { isTabbable } from \"tabbable\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A Switch Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#dialog | ARIA dialog }.\n *\n * @slot - The default slot for the dialog content\n * @csspart positioning-region - A wrapping element used to center the dialog and position the modal overlay\n * @csspart overlay - The modal dialog overlay\n * @csspart control - The dialog element\n * @fires cancel - Fires a custom 'cancel' event when the modal overlay is clicked\n * @fires close - Fires a custom 'close' event when the dialog is hidden\n *\n * @public\n */\n\nexport class Dialog extends FoundationElement {\n  constructor() {\n    super(...arguments);\n    /**\n     * Indicates the element is modal. When modal, user mouse interaction will be limited to the contents of the element by a modal\n     * overlay.  Clicks on the overlay will cause the dialog to emit a \"dismiss\" event.\n     * @public\n     * @defaultValue - true\n     * @remarks\n     * HTML Attribute: modal\n     */\n\n    this.modal = true;\n    /**\n     * The hidden state of the element.\n     *\n     * @public\n     * @defaultValue - false\n     * @remarks\n     * HTML Attribute: hidden\n     */\n\n    this.hidden = false;\n    /**\n     * Indicates that the dialog should trap focus.\n     *\n     * @public\n     * @defaultValue - true\n     * @remarks\n     * HTML Attribute: trap-focus\n     */\n\n    this.trapFocus = true;\n\n    this.trapFocusChanged = () => {\n      if (this.$fastController.isConnected) {\n        this.updateTrapFocus();\n      }\n    };\n    /**\n     * @internal\n     */\n\n\n    this.isTrappingFocus = false;\n\n    this.handleDocumentKeydown = e => {\n      if (!e.defaultPrevented && !this.hidden) {\n        switch (e.key) {\n          case keyEscape:\n            this.dismiss();\n            e.preventDefault();\n            break;\n\n          case keyTab:\n            this.handleTabKeyDown(e);\n            break;\n        }\n      }\n    };\n\n    this.handleDocumentFocus = e => {\n      if (!e.defaultPrevented && this.shouldForceFocus(e.target)) {\n        this.focusFirstElement();\n        e.preventDefault();\n      }\n    };\n\n    this.handleTabKeyDown = e => {\n      if (!this.trapFocus || this.hidden) {\n        return;\n      }\n\n      const bounds = this.getTabQueueBounds();\n\n      if (bounds.length === 0) {\n        return;\n      }\n\n      if (bounds.length === 1) {\n        // keep focus on single element\n        bounds[0].focus();\n        e.preventDefault();\n        return;\n      }\n\n      if (e.shiftKey && e.target === bounds[0]) {\n        bounds[bounds.length - 1].focus();\n        e.preventDefault();\n      } else if (!e.shiftKey && e.target === bounds[bounds.length - 1]) {\n        bounds[0].focus();\n        e.preventDefault();\n      }\n\n      return;\n    };\n\n    this.getTabQueueBounds = () => {\n      const bounds = [];\n      return Dialog.reduceTabbableItems(bounds, this);\n    };\n    /**\n     * focus on first element of tab queue\n     */\n\n\n    this.focusFirstElement = () => {\n      const bounds = this.getTabQueueBounds();\n\n      if (bounds.length > 0) {\n        bounds[0].focus();\n      } else {\n        if (this.dialog instanceof HTMLElement) {\n          this.dialog.focus();\n        }\n      }\n    };\n    /**\n     * we should only focus if focus has not already been brought to the dialog\n     */\n\n\n    this.shouldForceFocus = currentFocusElement => {\n      return this.isTrappingFocus && !this.contains(currentFocusElement);\n    };\n    /**\n     * we should we be active trapping focus\n     */\n\n\n    this.shouldTrapFocus = () => {\n      return this.trapFocus && !this.hidden;\n    };\n    /**\n     *\n     *\n     * @internal\n     */\n\n\n    this.updateTrapFocus = shouldTrapFocusOverride => {\n      const shouldTrapFocus = shouldTrapFocusOverride === undefined ? this.shouldTrapFocus() : shouldTrapFocusOverride;\n\n      if (shouldTrapFocus && !this.isTrappingFocus) {\n        this.isTrappingFocus = true; // Add an event listener for focusin events if we are trapping focus\n\n        document.addEventListener(\"focusin\", this.handleDocumentFocus);\n        DOM.queueUpdate(() => {\n          if (this.shouldForceFocus(document.activeElement)) {\n            this.focusFirstElement();\n          }\n        });\n      } else if (!shouldTrapFocus && this.isTrappingFocus) {\n        this.isTrappingFocus = false; // remove event listener if we are not trapping focus\n\n        document.removeEventListener(\"focusin\", this.handleDocumentFocus);\n      }\n    };\n  }\n  /**\n   * @internal\n   */\n\n\n  dismiss() {\n    this.$emit(\"dismiss\"); // implement `<dialog>` interface\n\n    this.$emit(\"cancel\");\n  }\n  /**\n   * The method to show the dialog.\n   *\n   * @public\n   */\n\n\n  show() {\n    this.hidden = false;\n  }\n  /**\n   * The method to hide the dialog.\n   *\n   * @public\n   */\n\n\n  hide() {\n    this.hidden = true; // implement `<dialog>` interface\n\n    this.$emit(\"close\");\n  }\n  /**\n   * @internal\n   */\n\n\n  connectedCallback() {\n    super.connectedCallback();\n    document.addEventListener(\"keydown\", this.handleDocumentKeydown);\n    this.notifier = Observable.getNotifier(this);\n    this.notifier.subscribe(this, \"hidden\");\n    this.updateTrapFocus();\n  }\n  /**\n   * @internal\n   */\n\n\n  disconnectedCallback() {\n    super.disconnectedCallback(); // remove keydown event listener\n\n    document.removeEventListener(\"keydown\", this.handleDocumentKeydown); // if we are trapping focus remove the focusin listener\n\n    this.updateTrapFocus(false);\n    this.notifier.unsubscribe(this, \"hidden\");\n  }\n  /**\n   * @internal\n   */\n\n\n  handleChange(source, propertyName) {\n    switch (propertyName) {\n      case \"hidden\":\n        this.updateTrapFocus();\n        break;\n\n      default:\n        break;\n    }\n  }\n  /**\n   * Reduce a collection to only its focusable elements.\n   *\n   * @param elements - Collection of elements to reduce\n   * @param element - The current element\n   *\n   * @internal\n   */\n\n\n  static reduceTabbableItems(elements, element) {\n    if (element.getAttribute(\"tabindex\") === \"-1\") {\n      return elements;\n    }\n\n    if (isTabbable(element) || Dialog.isFocusableFastElement(element) && Dialog.hasTabbableShadow(element)) {\n      elements.push(element);\n      return elements;\n    }\n\n    if (element.childElementCount) {\n      return elements.concat(Array.from(element.children).reduce(Dialog.reduceTabbableItems, []));\n    }\n\n    return elements;\n  }\n  /**\n   * Test if element is focusable fast element\n   *\n   * @param element - The element to check\n   *\n   * @internal\n   */\n\n\n  static isFocusableFastElement(element) {\n    var _a, _b;\n\n    return !!((_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus);\n  }\n  /**\n   * Test if the element has a focusable shadow\n   *\n   * @param element - The element to check\n   *\n   * @internal\n   */\n\n\n  static hasTabbableShadow(element) {\n    var _a, _b;\n\n    return Array.from((_b = (_a = element.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\"*\")) !== null && _b !== void 0 ? _b : []).some(x => {\n      return isTabbable(x);\n    });\n  }\n\n}\n\n__decorate([attr({\n  mode: \"boolean\"\n})], Dialog.prototype, \"modal\", void 0);\n\n__decorate([attr({\n  mode: \"boolean\"\n})], Dialog.prototype, \"hidden\", void 0);\n\n__decorate([attr({\n  attribute: \"trap-focus\",\n  mode: \"boolean\"\n})], Dialog.prototype, \"trapFocus\", void 0);\n\n__decorate([attr({\n  attribute: \"aria-describedby\"\n})], Dialog.prototype, \"ariaDescribedby\", void 0);\n\n__decorate([attr({\n  attribute: \"aria-labelledby\"\n})], Dialog.prototype, \"ariaLabelledby\", void 0);\n\n__decorate([attr({\n  attribute: \"aria-label\"\n})], Dialog.prototype, \"ariaLabel\", void 0);","map":{"version":3,"names":["__decorate","attr","DOM","Observable","keyEscape","keyTab","isTabbable","FoundationElement","Dialog","constructor","arguments","modal","hidden","trapFocus","trapFocusChanged","$fastController","isConnected","updateTrapFocus","isTrappingFocus","handleDocumentKeydown","e","defaultPrevented","key","dismiss","preventDefault","handleTabKeyDown","handleDocumentFocus","shouldForceFocus","target","focusFirstElement","bounds","getTabQueueBounds","length","focus","shiftKey","reduceTabbableItems","dialog","HTMLElement","currentFocusElement","contains","shouldTrapFocus","shouldTrapFocusOverride","undefined","document","addEventListener","queueUpdate","activeElement","removeEventListener","$emit","show","hide","connectedCallback","notifier","getNotifier","subscribe","disconnectedCallback","unsubscribe","handleChange","source","propertyName","elements","element","getAttribute","isFocusableFastElement","hasTabbableShadow","push","childElementCount","concat","Array","from","children","reduce","_a","_b","definition","shadowOptions","delegatesFocus","shadowRoot","querySelectorAll","some","x","mode","prototype","attribute"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/dialog/dialog.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { attr, DOM, Observable } from \"@microsoft/fast-element\";\nimport { keyEscape, keyTab } from \"@microsoft/fast-web-utilities\";\nimport { isTabbable } from \"tabbable\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A Switch Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#dialog | ARIA dialog }.\n *\n * @slot - The default slot for the dialog content\n * @csspart positioning-region - A wrapping element used to center the dialog and position the modal overlay\n * @csspart overlay - The modal dialog overlay\n * @csspart control - The dialog element\n * @fires cancel - Fires a custom 'cancel' event when the modal overlay is clicked\n * @fires close - Fires a custom 'close' event when the dialog is hidden\n *\n * @public\n */\nexport class Dialog extends FoundationElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Indicates the element is modal. When modal, user mouse interaction will be limited to the contents of the element by a modal\n         * overlay.  Clicks on the overlay will cause the dialog to emit a \"dismiss\" event.\n         * @public\n         * @defaultValue - true\n         * @remarks\n         * HTML Attribute: modal\n         */\n        this.modal = true;\n        /**\n         * The hidden state of the element.\n         *\n         * @public\n         * @defaultValue - false\n         * @remarks\n         * HTML Attribute: hidden\n         */\n        this.hidden = false;\n        /**\n         * Indicates that the dialog should trap focus.\n         *\n         * @public\n         * @defaultValue - true\n         * @remarks\n         * HTML Attribute: trap-focus\n         */\n        this.trapFocus = true;\n        this.trapFocusChanged = () => {\n            if (this.$fastController.isConnected) {\n                this.updateTrapFocus();\n            }\n        };\n        /**\n         * @internal\n         */\n        this.isTrappingFocus = false;\n        this.handleDocumentKeydown = (e) => {\n            if (!e.defaultPrevented && !this.hidden) {\n                switch (e.key) {\n                    case keyEscape:\n                        this.dismiss();\n                        e.preventDefault();\n                        break;\n                    case keyTab:\n                        this.handleTabKeyDown(e);\n                        break;\n                }\n            }\n        };\n        this.handleDocumentFocus = (e) => {\n            if (!e.defaultPrevented && this.shouldForceFocus(e.target)) {\n                this.focusFirstElement();\n                e.preventDefault();\n            }\n        };\n        this.handleTabKeyDown = (e) => {\n            if (!this.trapFocus || this.hidden) {\n                return;\n            }\n            const bounds = this.getTabQueueBounds();\n            if (bounds.length === 0) {\n                return;\n            }\n            if (bounds.length === 1) {\n                // keep focus on single element\n                bounds[0].focus();\n                e.preventDefault();\n                return;\n            }\n            if (e.shiftKey && e.target === bounds[0]) {\n                bounds[bounds.length - 1].focus();\n                e.preventDefault();\n            }\n            else if (!e.shiftKey && e.target === bounds[bounds.length - 1]) {\n                bounds[0].focus();\n                e.preventDefault();\n            }\n            return;\n        };\n        this.getTabQueueBounds = () => {\n            const bounds = [];\n            return Dialog.reduceTabbableItems(bounds, this);\n        };\n        /**\n         * focus on first element of tab queue\n         */\n        this.focusFirstElement = () => {\n            const bounds = this.getTabQueueBounds();\n            if (bounds.length > 0) {\n                bounds[0].focus();\n            }\n            else {\n                if (this.dialog instanceof HTMLElement) {\n                    this.dialog.focus();\n                }\n            }\n        };\n        /**\n         * we should only focus if focus has not already been brought to the dialog\n         */\n        this.shouldForceFocus = (currentFocusElement) => {\n            return this.isTrappingFocus && !this.contains(currentFocusElement);\n        };\n        /**\n         * we should we be active trapping focus\n         */\n        this.shouldTrapFocus = () => {\n            return this.trapFocus && !this.hidden;\n        };\n        /**\n         *\n         *\n         * @internal\n         */\n        this.updateTrapFocus = (shouldTrapFocusOverride) => {\n            const shouldTrapFocus = shouldTrapFocusOverride === undefined\n                ? this.shouldTrapFocus()\n                : shouldTrapFocusOverride;\n            if (shouldTrapFocus && !this.isTrappingFocus) {\n                this.isTrappingFocus = true;\n                // Add an event listener for focusin events if we are trapping focus\n                document.addEventListener(\"focusin\", this.handleDocumentFocus);\n                DOM.queueUpdate(() => {\n                    if (this.shouldForceFocus(document.activeElement)) {\n                        this.focusFirstElement();\n                    }\n                });\n            }\n            else if (!shouldTrapFocus && this.isTrappingFocus) {\n                this.isTrappingFocus = false;\n                // remove event listener if we are not trapping focus\n                document.removeEventListener(\"focusin\", this.handleDocumentFocus);\n            }\n        };\n    }\n    /**\n     * @internal\n     */\n    dismiss() {\n        this.$emit(\"dismiss\");\n        // implement `<dialog>` interface\n        this.$emit(\"cancel\");\n    }\n    /**\n     * The method to show the dialog.\n     *\n     * @public\n     */\n    show() {\n        this.hidden = false;\n    }\n    /**\n     * The method to hide the dialog.\n     *\n     * @public\n     */\n    hide() {\n        this.hidden = true;\n        // implement `<dialog>` interface\n        this.$emit(\"close\");\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        document.addEventListener(\"keydown\", this.handleDocumentKeydown);\n        this.notifier = Observable.getNotifier(this);\n        this.notifier.subscribe(this, \"hidden\");\n        this.updateTrapFocus();\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        // remove keydown event listener\n        document.removeEventListener(\"keydown\", this.handleDocumentKeydown);\n        // if we are trapping focus remove the focusin listener\n        this.updateTrapFocus(false);\n        this.notifier.unsubscribe(this, \"hidden\");\n    }\n    /**\n     * @internal\n     */\n    handleChange(source, propertyName) {\n        switch (propertyName) {\n            case \"hidden\":\n                this.updateTrapFocus();\n                break;\n            default:\n                break;\n        }\n    }\n    /**\n     * Reduce a collection to only its focusable elements.\n     *\n     * @param elements - Collection of elements to reduce\n     * @param element - The current element\n     *\n     * @internal\n     */\n    static reduceTabbableItems(elements, element) {\n        if (element.getAttribute(\"tabindex\") === \"-1\") {\n            return elements;\n        }\n        if (isTabbable(element) ||\n            (Dialog.isFocusableFastElement(element) && Dialog.hasTabbableShadow(element))) {\n            elements.push(element);\n            return elements;\n        }\n        if (element.childElementCount) {\n            return elements.concat(Array.from(element.children).reduce(Dialog.reduceTabbableItems, []));\n        }\n        return elements;\n    }\n    /**\n     * Test if element is focusable fast element\n     *\n     * @param element - The element to check\n     *\n     * @internal\n     */\n    static isFocusableFastElement(element) {\n        var _a, _b;\n        return !!((_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus);\n    }\n    /**\n     * Test if the element has a focusable shadow\n     *\n     * @param element - The element to check\n     *\n     * @internal\n     */\n    static hasTabbableShadow(element) {\n        var _a, _b;\n        return Array.from((_b = (_a = element.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\"*\")) !== null && _b !== void 0 ? _b : []).some(x => {\n            return isTabbable(x);\n        });\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], Dialog.prototype, \"modal\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], Dialog.prototype, \"hidden\", void 0);\n__decorate([\n    attr({ attribute: \"trap-focus\", mode: \"boolean\" })\n], Dialog.prototype, \"trapFocus\", void 0);\n__decorate([\n    attr({ attribute: \"aria-describedby\" })\n], Dialog.prototype, \"ariaDescribedby\", void 0);\n__decorate([\n    attr({ attribute: \"aria-labelledby\" })\n], Dialog.prototype, \"ariaLabelledby\", void 0);\n__decorate([\n    attr({ attribute: \"aria-label\" })\n], Dialog.prototype, \"ariaLabel\", void 0);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}