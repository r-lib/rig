{"ast":null,"code":"import _slicedToArray from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _createForOfIteratorHelper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _toConsumableArray from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _inherits from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { __decorate } from \"tslib\";\nimport { DOM, ElementStyles, FASTElement, observable, Observable } from \"@microsoft/fast-element\";\nexport var defaultElement = document.createElement(\"div\");\n\nfunction isFastElement(element) {\n  return element instanceof FASTElement;\n}\n\nvar QueuedStyleSheetTarget = /*#__PURE__*/function () {\n  function QueuedStyleSheetTarget() {\n    _classCallCheck(this, QueuedStyleSheetTarget);\n  }\n\n  _createClass(QueuedStyleSheetTarget, [{\n    key: \"setProperty\",\n    value: function setProperty(name, value) {\n      var _this = this;\n\n      DOM.queueUpdate(function () {\n        return _this.target.setProperty(name, value);\n      });\n    }\n  }, {\n    key: \"removeProperty\",\n    value: function removeProperty(name) {\n      var _this2 = this;\n\n      DOM.queueUpdate(function () {\n        return _this2.target.removeProperty(name);\n      });\n    }\n  }]);\n\n  return QueuedStyleSheetTarget;\n}();\n/**\n * Handles setting properties for a FASTElement using Constructable Stylesheets\n */\n\n\nvar ConstructableStyleSheetTarget = /*#__PURE__*/function (_QueuedStyleSheetTarg) {\n  _inherits(ConstructableStyleSheetTarget, _QueuedStyleSheetTarg);\n\n  var _super = _createSuper(ConstructableStyleSheetTarget);\n\n  function ConstructableStyleSheetTarget(source) {\n    var _this3;\n\n    _classCallCheck(this, ConstructableStyleSheetTarget);\n\n    _this3 = _super.call(this);\n    var sheet = new CSSStyleSheet();\n    _this3.target = sheet.cssRules[sheet.insertRule(\":host{}\")].style;\n    source.$fastController.addStyles(ElementStyles.create([sheet]));\n    return _this3;\n  }\n\n  return ConstructableStyleSheetTarget;\n}(QueuedStyleSheetTarget);\n\nvar DocumentStyleSheetTarget = /*#__PURE__*/function (_QueuedStyleSheetTarg2) {\n  _inherits(DocumentStyleSheetTarget, _QueuedStyleSheetTarg2);\n\n  var _super2 = _createSuper(DocumentStyleSheetTarget);\n\n  function DocumentStyleSheetTarget() {\n    var _this4;\n\n    _classCallCheck(this, DocumentStyleSheetTarget);\n\n    _this4 = _super2.call(this);\n    var sheet = new CSSStyleSheet();\n    _this4.target = sheet.cssRules[sheet.insertRule(\":root{}\")].style;\n    document.adoptedStyleSheets = [].concat(_toConsumableArray(document.adoptedStyleSheets), [sheet]);\n    return _this4;\n  }\n\n  return DocumentStyleSheetTarget;\n}(QueuedStyleSheetTarget);\n\nvar HeadStyleElementStyleSheetTarget = /*#__PURE__*/function (_QueuedStyleSheetTarg3) {\n  _inherits(HeadStyleElementStyleSheetTarget, _QueuedStyleSheetTarg3);\n\n  var _super3 = _createSuper(HeadStyleElementStyleSheetTarget);\n\n  function HeadStyleElementStyleSheetTarget() {\n    var _this5;\n\n    _classCallCheck(this, HeadStyleElementStyleSheetTarget);\n\n    _this5 = _super3.call(this);\n    _this5.style = document.createElement(\"style\");\n    document.head.appendChild(_this5.style);\n    var sheet = _this5.style.sheet; // Because the HTMLStyleElement has been appended,\n    // there shouldn't exist a case where `sheet` is null,\n    // but if-check it just in case.\n\n    if (sheet) {\n      // https://github.com/jsdom/jsdom uses https://github.com/NV/CSSOM for it's CSSOM implementation,\n      // which implements the DOM Level 2 spec for CSSStyleSheet where insertRule() requires an index argument.\n      var index = sheet.insertRule(\":root{}\", sheet.cssRules.length);\n      _this5.target = sheet.cssRules[index].style;\n    }\n\n    return _this5;\n  }\n\n  return HeadStyleElementStyleSheetTarget;\n}(QueuedStyleSheetTarget);\n/**\n * Handles setting properties for a FASTElement using an HTMLStyleElement\n */\n\n\nvar StyleElementStyleSheetTarget = /*#__PURE__*/function () {\n  function StyleElementStyleSheetTarget(target) {\n    _classCallCheck(this, StyleElementStyleSheetTarget);\n\n    this.store = new Map();\n    this.target = null;\n    var controller = target.$fastController;\n    this.style = document.createElement(\"style\");\n    controller.addStyles(this.style);\n    Observable.getNotifier(controller).subscribe(this, \"isConnected\");\n    this.handleChange(controller, \"isConnected\");\n  }\n\n  _createClass(StyleElementStyleSheetTarget, [{\n    key: \"targetChanged\",\n    value: function targetChanged() {\n      if (this.target !== null) {\n        var _iterator = _createForOfIteratorHelper(this.store.entries()),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                key = _step$value[0],\n                value = _step$value[1];\n\n            this.target.setProperty(key, value);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n      }\n    }\n  }, {\n    key: \"setProperty\",\n    value: function setProperty(name, value) {\n      var _this6 = this;\n\n      this.store.set(name, value);\n      DOM.queueUpdate(function () {\n        if (_this6.target !== null) {\n          _this6.target.setProperty(name, value);\n        }\n      });\n    }\n  }, {\n    key: \"removeProperty\",\n    value: function removeProperty(name) {\n      var _this7 = this;\n\n      this.store.delete(name);\n      DOM.queueUpdate(function () {\n        if (_this7.target !== null) {\n          _this7.target.removeProperty(name);\n        }\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(source, key) {\n      // HTMLStyleElement.sheet is null if the element isn't connected to the DOM,\n      // so this method reacts to changes in DOM connection for the element hosting\n      // the HTMLStyleElement.\n      //\n      // All rules applied via the CSSOM also get cleared when the element disconnects,\n      // so we need to add a new rule each time and populate it with the stored properties\n      var sheet = this.style.sheet;\n\n      if (sheet) {\n        // Safari will throw if we try to use the return result of insertRule()\n        // to index the rule inline, so store as a const prior to indexing.\n        // https://github.com/jsdom/jsdom uses https://github.com/NV/CSSOM for it's CSSOM implementation,\n        // which implements the DOM Level 2 spec for CSSStyleSheet where insertRule() requires an index argument.\n        var index = sheet.insertRule(\":host{}\", sheet.cssRules.length);\n        this.target = sheet.cssRules[index].style;\n      } else {\n        this.target = null;\n      }\n    }\n  }]);\n\n  return StyleElementStyleSheetTarget;\n}();\n\n__decorate([observable], StyleElementStyleSheetTarget.prototype, \"target\", void 0);\n/**\n * Handles setting properties for a normal HTMLElement\n */\n\n\nvar ElementStyleSheetTarget = /*#__PURE__*/function () {\n  function ElementStyleSheetTarget(source) {\n    _classCallCheck(this, ElementStyleSheetTarget);\n\n    this.target = source.style;\n  }\n\n  _createClass(ElementStyleSheetTarget, [{\n    key: \"setProperty\",\n    value: function setProperty(name, value) {\n      var _this8 = this;\n\n      DOM.queueUpdate(function () {\n        return _this8.target.setProperty(name, value);\n      });\n    }\n  }, {\n    key: \"removeProperty\",\n    value: function removeProperty(name) {\n      var _this9 = this;\n\n      DOM.queueUpdate(function () {\n        return _this9.target.removeProperty(name);\n      });\n    }\n  }]);\n\n  return ElementStyleSheetTarget;\n}();\n/**\n * Controls emission for default values. This control is capable\n * of emitting to multiple {@link PropertyTarget | PropertyTargets},\n * and only emits if it has at least one root.\n *\n * @internal\n */\n\n\nexport var RootStyleSheetTarget = /*#__PURE__*/function () {\n  function RootStyleSheetTarget() {\n    _classCallCheck(this, RootStyleSheetTarget);\n  }\n\n  _createClass(RootStyleSheetTarget, [{\n    key: \"setProperty\",\n    value: function setProperty(name, value) {\n      RootStyleSheetTarget.properties[name] = value;\n\n      var _iterator2 = _createForOfIteratorHelper(RootStyleSheetTarget.roots.values()),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var target = _step2.value;\n          PropertyTargetManager.getOrCreate(RootStyleSheetTarget.normalizeRoot(target)).setProperty(name, value);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"removeProperty\",\n    value: function removeProperty(name) {\n      delete RootStyleSheetTarget.properties[name];\n\n      var _iterator3 = _createForOfIteratorHelper(RootStyleSheetTarget.roots.values()),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var target = _step3.value;\n          PropertyTargetManager.getOrCreate(RootStyleSheetTarget.normalizeRoot(target)).removeProperty(name);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  }], [{\n    key: \"registerRoot\",\n    value: function registerRoot(root) {\n      var roots = RootStyleSheetTarget.roots;\n\n      if (!roots.has(root)) {\n        roots.add(root);\n        var target = PropertyTargetManager.getOrCreate(this.normalizeRoot(root));\n\n        for (var key in RootStyleSheetTarget.properties) {\n          target.setProperty(key, RootStyleSheetTarget.properties[key]);\n        }\n      }\n    }\n  }, {\n    key: \"unregisterRoot\",\n    value: function unregisterRoot(root) {\n      var roots = RootStyleSheetTarget.roots;\n\n      if (roots.has(root)) {\n        roots.delete(root);\n        var target = PropertyTargetManager.getOrCreate(RootStyleSheetTarget.normalizeRoot(root));\n\n        for (var key in RootStyleSheetTarget.properties) {\n          target.removeProperty(key);\n        }\n      }\n    }\n    /**\n     * Returns the document when provided the default element,\n     * otherwise is a no-op\n     * @param root - the root to normalize\n     */\n\n  }, {\n    key: \"normalizeRoot\",\n    value: function normalizeRoot(root) {\n      return root === defaultElement ? document : root;\n    }\n  }]);\n\n  return RootStyleSheetTarget;\n}();\nRootStyleSheetTarget.roots = new Set();\nRootStyleSheetTarget.properties = {}; // Caches PropertyTarget instances\n\nvar propertyTargetCache = new WeakMap(); // Use Constructable StyleSheets for FAST elements when supported, otherwise use\n// HTMLStyleElement instances\n\nvar propertyTargetCtor = DOM.supportsAdoptedStyleSheets ? ConstructableStyleSheetTarget : StyleElementStyleSheetTarget;\n/**\n * Manages creation and caching of PropertyTarget instances.\n *\n * @internal\n */\n\nexport var PropertyTargetManager = Object.freeze({\n  getOrCreate: function getOrCreate(source) {\n    if (propertyTargetCache.has(source)) {\n      /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n      return propertyTargetCache.get(source);\n    }\n\n    var target;\n\n    if (source === defaultElement) {\n      target = new RootStyleSheetTarget();\n    } else if (source instanceof Document) {\n      target = DOM.supportsAdoptedStyleSheets ? new DocumentStyleSheetTarget() : new HeadStyleElementStyleSheetTarget();\n    } else if (isFastElement(source)) {\n      target = new propertyTargetCtor(source);\n    } else {\n      target = new ElementStyleSheetTarget(source);\n    }\n\n    propertyTargetCache.set(source, target);\n    return target;\n  }\n});","map":{"version":3,"names":["__decorate","DOM","ElementStyles","FASTElement","observable","Observable","defaultElement","document","createElement","isFastElement","element","QueuedStyleSheetTarget","name","value","queueUpdate","target","setProperty","removeProperty","ConstructableStyleSheetTarget","source","sheet","CSSStyleSheet","cssRules","insertRule","style","$fastController","addStyles","create","DocumentStyleSheetTarget","adoptedStyleSheets","HeadStyleElementStyleSheetTarget","head","appendChild","index","length","StyleElementStyleSheetTarget","store","Map","controller","getNotifier","subscribe","handleChange","entries","key","set","delete","prototype","ElementStyleSheetTarget","RootStyleSheetTarget","properties","roots","values","PropertyTargetManager","getOrCreate","normalizeRoot","root","has","add","Set","propertyTargetCache","WeakMap","propertyTargetCtor","supportsAdoptedStyleSheets","Object","freeze","get","Document"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/design-token/custom-property-manager.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { DOM, ElementStyles, FASTElement, observable, Observable, } from \"@microsoft/fast-element\";\nexport const defaultElement = document.createElement(\"div\");\nfunction isFastElement(element) {\n    return element instanceof FASTElement;\n}\nclass QueuedStyleSheetTarget {\n    setProperty(name, value) {\n        DOM.queueUpdate(() => this.target.setProperty(name, value));\n    }\n    removeProperty(name) {\n        DOM.queueUpdate(() => this.target.removeProperty(name));\n    }\n}\n/**\n * Handles setting properties for a FASTElement using Constructable Stylesheets\n */\nclass ConstructableStyleSheetTarget extends QueuedStyleSheetTarget {\n    constructor(source) {\n        super();\n        const sheet = new CSSStyleSheet();\n        this.target = sheet.cssRules[sheet.insertRule(\":host{}\")].style;\n        source.$fastController.addStyles(ElementStyles.create([sheet]));\n    }\n}\nclass DocumentStyleSheetTarget extends QueuedStyleSheetTarget {\n    constructor() {\n        super();\n        const sheet = new CSSStyleSheet();\n        this.target = sheet.cssRules[sheet.insertRule(\":root{}\")].style;\n        document.adoptedStyleSheets = [\n            ...document.adoptedStyleSheets,\n            sheet,\n        ];\n    }\n}\nclass HeadStyleElementStyleSheetTarget extends QueuedStyleSheetTarget {\n    constructor() {\n        super();\n        this.style = document.createElement(\"style\");\n        document.head.appendChild(this.style);\n        const { sheet } = this.style;\n        // Because the HTMLStyleElement has been appended,\n        // there shouldn't exist a case where `sheet` is null,\n        // but if-check it just in case.\n        if (sheet) {\n            // https://github.com/jsdom/jsdom uses https://github.com/NV/CSSOM for it's CSSOM implementation,\n            // which implements the DOM Level 2 spec for CSSStyleSheet where insertRule() requires an index argument.\n            const index = sheet.insertRule(\":root{}\", sheet.cssRules.length);\n            this.target = sheet.cssRules[index].style;\n        }\n    }\n}\n/**\n * Handles setting properties for a FASTElement using an HTMLStyleElement\n */\nclass StyleElementStyleSheetTarget {\n    constructor(target) {\n        this.store = new Map();\n        this.target = null;\n        const controller = target.$fastController;\n        this.style = document.createElement(\"style\");\n        controller.addStyles(this.style);\n        Observable.getNotifier(controller).subscribe(this, \"isConnected\");\n        this.handleChange(controller, \"isConnected\");\n    }\n    targetChanged() {\n        if (this.target !== null) {\n            for (const [key, value] of this.store.entries()) {\n                this.target.setProperty(key, value);\n            }\n        }\n    }\n    setProperty(name, value) {\n        this.store.set(name, value);\n        DOM.queueUpdate(() => {\n            if (this.target !== null) {\n                this.target.setProperty(name, value);\n            }\n        });\n    }\n    removeProperty(name) {\n        this.store.delete(name);\n        DOM.queueUpdate(() => {\n            if (this.target !== null) {\n                this.target.removeProperty(name);\n            }\n        });\n    }\n    handleChange(source, key) {\n        // HTMLStyleElement.sheet is null if the element isn't connected to the DOM,\n        // so this method reacts to changes in DOM connection for the element hosting\n        // the HTMLStyleElement.\n        //\n        // All rules applied via the CSSOM also get cleared when the element disconnects,\n        // so we need to add a new rule each time and populate it with the stored properties\n        const { sheet } = this.style;\n        if (sheet) {\n            // Safari will throw if we try to use the return result of insertRule()\n            // to index the rule inline, so store as a const prior to indexing.\n            // https://github.com/jsdom/jsdom uses https://github.com/NV/CSSOM for it's CSSOM implementation,\n            // which implements the DOM Level 2 spec for CSSStyleSheet where insertRule() requires an index argument.\n            const index = sheet.insertRule(\":host{}\", sheet.cssRules.length);\n            this.target = sheet.cssRules[index].style;\n        }\n        else {\n            this.target = null;\n        }\n    }\n}\n__decorate([\n    observable\n], StyleElementStyleSheetTarget.prototype, \"target\", void 0);\n/**\n * Handles setting properties for a normal HTMLElement\n */\nclass ElementStyleSheetTarget {\n    constructor(source) {\n        this.target = source.style;\n    }\n    setProperty(name, value) {\n        DOM.queueUpdate(() => this.target.setProperty(name, value));\n    }\n    removeProperty(name) {\n        DOM.queueUpdate(() => this.target.removeProperty(name));\n    }\n}\n/**\n * Controls emission for default values. This control is capable\n * of emitting to multiple {@link PropertyTarget | PropertyTargets},\n * and only emits if it has at least one root.\n *\n * @internal\n */\nexport class RootStyleSheetTarget {\n    setProperty(name, value) {\n        RootStyleSheetTarget.properties[name] = value;\n        for (const target of RootStyleSheetTarget.roots.values()) {\n            PropertyTargetManager.getOrCreate(RootStyleSheetTarget.normalizeRoot(target)).setProperty(name, value);\n        }\n    }\n    removeProperty(name) {\n        delete RootStyleSheetTarget.properties[name];\n        for (const target of RootStyleSheetTarget.roots.values()) {\n            PropertyTargetManager.getOrCreate(RootStyleSheetTarget.normalizeRoot(target)).removeProperty(name);\n        }\n    }\n    static registerRoot(root) {\n        const { roots } = RootStyleSheetTarget;\n        if (!roots.has(root)) {\n            roots.add(root);\n            const target = PropertyTargetManager.getOrCreate(this.normalizeRoot(root));\n            for (const key in RootStyleSheetTarget.properties) {\n                target.setProperty(key, RootStyleSheetTarget.properties[key]);\n            }\n        }\n    }\n    static unregisterRoot(root) {\n        const { roots } = RootStyleSheetTarget;\n        if (roots.has(root)) {\n            roots.delete(root);\n            const target = PropertyTargetManager.getOrCreate(RootStyleSheetTarget.normalizeRoot(root));\n            for (const key in RootStyleSheetTarget.properties) {\n                target.removeProperty(key);\n            }\n        }\n    }\n    /**\n     * Returns the document when provided the default element,\n     * otherwise is a no-op\n     * @param root - the root to normalize\n     */\n    static normalizeRoot(root) {\n        return root === defaultElement ? document : root;\n    }\n}\nRootStyleSheetTarget.roots = new Set();\nRootStyleSheetTarget.properties = {};\n// Caches PropertyTarget instances\nconst propertyTargetCache = new WeakMap();\n// Use Constructable StyleSheets for FAST elements when supported, otherwise use\n// HTMLStyleElement instances\nconst propertyTargetCtor = DOM.supportsAdoptedStyleSheets\n    ? ConstructableStyleSheetTarget\n    : StyleElementStyleSheetTarget;\n/**\n * Manages creation and caching of PropertyTarget instances.\n *\n * @internal\n */\nexport const PropertyTargetManager = Object.freeze({\n    getOrCreate(source) {\n        if (propertyTargetCache.has(source)) {\n            /* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */\n            return propertyTargetCache.get(source);\n        }\n        let target;\n        if (source === defaultElement) {\n            target = new RootStyleSheetTarget();\n        }\n        else if (source instanceof Document) {\n            target = DOM.supportsAdoptedStyleSheets\n                ? new DocumentStyleSheetTarget()\n                : new HeadStyleElementStyleSheetTarget();\n        }\n        else if (isFastElement(source)) {\n            target = new propertyTargetCtor(source);\n        }\n        else {\n            target = new ElementStyleSheetTarget(source);\n        }\n        propertyTargetCache.set(source, target);\n        return target;\n    },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}