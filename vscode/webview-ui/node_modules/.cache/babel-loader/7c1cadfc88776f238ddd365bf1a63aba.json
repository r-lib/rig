{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { FASTElement, observable } from \"@microsoft/fast-element\";\nimport { ComponentPresentation, DefaultComponentPresentation } from \"../design-system/component-presentation.js\";\n/**\n * Defines a foundation element class that:\n * 1. Connects the element to its ComponentPresentation\n * 2. Allows resolving the element template from the instance or ComponentPresentation\n * 3. Allows resolving the element styles from the instance or ComponentPresentation\n *\n * @public\n */\n\nexport class FoundationElement extends FASTElement {\n  constructor() {\n    super(...arguments);\n    this._presentation = void 0;\n  }\n  /**\n   * A property which resolves the ComponentPresentation instance\n   * for the current component.\n   * @public\n   */\n\n\n  get $presentation() {\n    if (this._presentation === void 0) {\n      this._presentation = ComponentPresentation.forTag(this.tagName, this);\n    }\n\n    return this._presentation;\n  }\n\n  templateChanged() {\n    if (this.template !== undefined) {\n      this.$fastController.template = this.template;\n    }\n  }\n\n  stylesChanged() {\n    if (this.styles !== undefined) {\n      this.$fastController.styles = this.styles;\n    }\n  }\n  /**\n   * The connected callback for this FASTElement.\n   * @remarks\n   * This method is invoked by the platform whenever this FoundationElement\n   * becomes connected to the document.\n   * @public\n   */\n\n\n  connectedCallback() {\n    if (this.$presentation !== null) {\n      this.$presentation.applyTo(this);\n    }\n\n    super.connectedCallback();\n  }\n  /**\n   * Defines an element registry function with a set of element definition defaults.\n   * @param elementDefinition - The definition of the element to create the registry\n   * function for.\n   * @public\n   */\n\n\n  static compose(elementDefinition) {\n    var _this = this;\n\n    return function () {\n      let overrideDefinition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return new FoundationElementRegistry(_this === FoundationElement ? class extends FoundationElement {} : _this, elementDefinition, overrideDefinition);\n    };\n  }\n\n}\n\n__decorate([observable], FoundationElement.prototype, \"template\", void 0);\n\n__decorate([observable], FoundationElement.prototype, \"styles\", void 0);\n\nfunction resolveOption(option, context, definition) {\n  if (typeof option === \"function\") {\n    return option(context, definition);\n  }\n\n  return option;\n}\n/**\n * Registry capable of defining presentation properties for a DOM Container hierarchy.\n *\n * @internal\n */\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\n\n\nexport class FoundationElementRegistry {\n  constructor(type, elementDefinition, overrideDefinition) {\n    this.type = type;\n    this.elementDefinition = elementDefinition;\n    this.overrideDefinition = overrideDefinition;\n    this.definition = Object.assign(Object.assign({}, this.elementDefinition), this.overrideDefinition);\n  }\n\n  register(container, context) {\n    const definition = this.definition;\n    const overrideDefinition = this.overrideDefinition;\n    const prefix = definition.prefix || context.elementPrefix;\n    const name = `${prefix}-${definition.baseName}`;\n    context.tryDefineElement({\n      name,\n      type: this.type,\n      baseClass: this.elementDefinition.baseClass,\n      callback: x => {\n        const presentation = new DefaultComponentPresentation(resolveOption(definition.template, x, definition), resolveOption(definition.styles, x, definition));\n        x.definePresentation(presentation);\n        let shadowOptions = resolveOption(definition.shadowOptions, x, definition);\n\n        if (x.shadowRootMode) {\n          // If the design system has overridden the shadow root mode, we need special handling.\n          if (shadowOptions) {\n            // If there are shadow options present in the definition, then\n            // either the component itself has specified an option or the\n            // registry function has overridden it.\n            if (!overrideDefinition.shadowOptions) {\n              // There were shadow options provided by the component and not overridden by\n              // the registry.\n              shadowOptions.mode = x.shadowRootMode;\n            }\n          } else if (shadowOptions !== null) {\n            // If the component author did not provide shadow options,\n            // and did not null them out (light dom opt-in) then they\n            // were relying on the FASTElement default. So, if the\n            // design system provides a mode, we need to create the options\n            // to override the default.\n            shadowOptions = {\n              mode: x.shadowRootMode\n            };\n          }\n        }\n\n        x.defineElement({\n          elementOptions: resolveOption(definition.elementOptions, x, definition),\n          shadowOptions,\n          attributes: resolveOption(definition.attributes, x, definition)\n        });\n      }\n    });\n  }\n\n}\n/* eslint-enable @typescript-eslint/no-unused-vars */","map":{"version":3,"names":["__decorate","FASTElement","observable","ComponentPresentation","DefaultComponentPresentation","FoundationElement","constructor","arguments","_presentation","$presentation","forTag","tagName","templateChanged","template","undefined","$fastController","stylesChanged","styles","connectedCallback","applyTo","compose","elementDefinition","overrideDefinition","FoundationElementRegistry","prototype","resolveOption","option","context","definition","type","Object","assign","register","container","prefix","elementPrefix","name","baseName","tryDefineElement","baseClass","callback","x","presentation","definePresentation","shadowOptions","shadowRootMode","mode","defineElement","elementOptions","attributes"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/foundation-element/foundation-element.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { FASTElement, observable } from \"@microsoft/fast-element\";\nimport { ComponentPresentation, DefaultComponentPresentation, } from \"../design-system/component-presentation.js\";\n/**\n * Defines a foundation element class that:\n * 1. Connects the element to its ComponentPresentation\n * 2. Allows resolving the element template from the instance or ComponentPresentation\n * 3. Allows resolving the element styles from the instance or ComponentPresentation\n *\n * @public\n */\nexport class FoundationElement extends FASTElement {\n    constructor() {\n        super(...arguments);\n        this._presentation = void 0;\n    }\n    /**\n     * A property which resolves the ComponentPresentation instance\n     * for the current component.\n     * @public\n     */\n    get $presentation() {\n        if (this._presentation === void 0) {\n            this._presentation = ComponentPresentation.forTag(this.tagName, this);\n        }\n        return this._presentation;\n    }\n    templateChanged() {\n        if (this.template !== undefined) {\n            this.$fastController.template = this.template;\n        }\n    }\n    stylesChanged() {\n        if (this.styles !== undefined) {\n            this.$fastController.styles = this.styles;\n        }\n    }\n    /**\n     * The connected callback for this FASTElement.\n     * @remarks\n     * This method is invoked by the platform whenever this FoundationElement\n     * becomes connected to the document.\n     * @public\n     */\n    connectedCallback() {\n        if (this.$presentation !== null) {\n            this.$presentation.applyTo(this);\n        }\n        super.connectedCallback();\n    }\n    /**\n     * Defines an element registry function with a set of element definition defaults.\n     * @param elementDefinition - The definition of the element to create the registry\n     * function for.\n     * @public\n     */\n    static compose(elementDefinition) {\n        return (overrideDefinition = {}) => new FoundationElementRegistry(this === FoundationElement\n            ? class extends FoundationElement {\n            }\n            : this, elementDefinition, overrideDefinition);\n    }\n}\n__decorate([\n    observable\n], FoundationElement.prototype, \"template\", void 0);\n__decorate([\n    observable\n], FoundationElement.prototype, \"styles\", void 0);\nfunction resolveOption(option, context, definition) {\n    if (typeof option === \"function\") {\n        return option(context, definition);\n    }\n    return option;\n}\n/**\n * Registry capable of defining presentation properties for a DOM Container hierarchy.\n *\n * @internal\n */\n/* eslint-disable @typescript-eslint/no-unused-vars */\nexport class FoundationElementRegistry {\n    constructor(type, elementDefinition, overrideDefinition) {\n        this.type = type;\n        this.elementDefinition = elementDefinition;\n        this.overrideDefinition = overrideDefinition;\n        this.definition = Object.assign(Object.assign({}, this.elementDefinition), this.overrideDefinition);\n    }\n    register(container, context) {\n        const definition = this.definition;\n        const overrideDefinition = this.overrideDefinition;\n        const prefix = definition.prefix || context.elementPrefix;\n        const name = `${prefix}-${definition.baseName}`;\n        context.tryDefineElement({\n            name,\n            type: this.type,\n            baseClass: this.elementDefinition.baseClass,\n            callback: x => {\n                const presentation = new DefaultComponentPresentation(resolveOption(definition.template, x, definition), resolveOption(definition.styles, x, definition));\n                x.definePresentation(presentation);\n                let shadowOptions = resolveOption(definition.shadowOptions, x, definition);\n                if (x.shadowRootMode) {\n                    // If the design system has overridden the shadow root mode, we need special handling.\n                    if (shadowOptions) {\n                        // If there are shadow options present in the definition, then\n                        // either the component itself has specified an option or the\n                        // registry function has overridden it.\n                        if (!overrideDefinition.shadowOptions) {\n                            // There were shadow options provided by the component and not overridden by\n                            // the registry.\n                            shadowOptions.mode = x.shadowRootMode;\n                        }\n                    }\n                    else if (shadowOptions !== null) {\n                        // If the component author did not provide shadow options,\n                        // and did not null them out (light dom opt-in) then they\n                        // were relying on the FASTElement default. So, if the\n                        // design system provides a mode, we need to create the options\n                        // to override the default.\n                        shadowOptions = { mode: x.shadowRootMode };\n                    }\n                }\n                x.defineElement({\n                    elementOptions: resolveOption(definition.elementOptions, x, definition),\n                    shadowOptions,\n                    attributes: resolveOption(definition.attributes, x, definition),\n                });\n            },\n        });\n    }\n}\n/* eslint-enable @typescript-eslint/no-unused-vars */\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}