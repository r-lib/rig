{"ast":null,"code":"import _get from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\n/**\n * An abstract behavior to react to media queries. Implementations should implement\n * the `constructListener` method to perform some action based on media query changes.\n *\n * @public\n */\nexport var MatchMediaBehavior = /*#__PURE__*/function () {\n  /**\n   *\n   * @param query - The media query to operate from.\n   */\n  function MatchMediaBehavior(query) {\n    _classCallCheck(this, MatchMediaBehavior);\n\n    /**\n     * The behavior needs to operate on element instances but elements might share a behavior instance.\n     * To ensure proper attachment / detachment per instance, we construct a listener for\n     * each bind invocation and cache the listeners by element reference.\n     */\n    this.listenerCache = new WeakMap();\n    this.query = query;\n  }\n  /**\n   * Binds the behavior to the element.\n   * @param source - The element for which the behavior is bound.\n   */\n\n\n  _createClass(MatchMediaBehavior, [{\n    key: \"bind\",\n    value: function bind(source) {\n      var query = this.query;\n      var listener = this.constructListener(source); // Invoke immediately to add if the query currently matches\n\n      listener.bind(query)();\n      query.addListener(listener);\n      this.listenerCache.set(source, listener);\n    }\n    /**\n     * Unbinds the behavior from the element.\n     * @param source - The element for which the behavior is unbinding.\n     */\n\n  }, {\n    key: \"unbind\",\n    value: function unbind(source) {\n      var listener = this.listenerCache.get(source);\n\n      if (listener) {\n        this.query.removeListener(listener);\n        this.listenerCache.delete(source);\n      }\n    }\n  }]);\n\n  return MatchMediaBehavior;\n}();\n/**\n * A behavior to add or remove a stylesheet from an element based on a media query. The behavior ensures that\n * styles are applied while the a query matches the environment and that styles are not applied if the query does\n * not match the environment.\n *\n * @public\n */\n\nexport var MatchMediaStyleSheetBehavior = /*#__PURE__*/function (_MatchMediaBehavior) {\n  _inherits(MatchMediaStyleSheetBehavior, _MatchMediaBehavior);\n\n  var _super = _createSuper(MatchMediaStyleSheetBehavior);\n\n  /**\n   * Constructs a {@link MatchMediaStyleSheetBehavior} instance.\n   * @param query - The media query to operate from.\n   * @param styles - The styles to coordinate with the query.\n   */\n  function MatchMediaStyleSheetBehavior(query, styles) {\n    var _this;\n\n    _classCallCheck(this, MatchMediaStyleSheetBehavior);\n\n    _this = _super.call(this, query);\n    _this.styles = styles;\n    return _this;\n  }\n  /**\n   * Defines a function to construct {@link MatchMediaStyleSheetBehavior | MatchMediaStyleSheetBehaviors} for\n   * a provided query.\n   * @param query - The media query to operate from.\n   *\n   * @public\n   * @example\n   *\n   * ```ts\n   * import { css } from \"@microsoft/fast-element\";\n   * import { MatchMediaStyleSheetBehavior } from \"@microsoft/fast-foundation\";\n   *\n   * const landscapeBehavior = MatchMediaStyleSheetBehavior.with(\n   *   window.matchMedia(\"(orientation: landscape)\")\n   * );\n   * const styles = css`\n   *   :host {\n   *     width: 200px;\n   *     height: 400px;\n   *   }\n   * `\n   * .withBehaviors(landscapeBehavior(css`\n   *   :host {\n   *     width: 400px;\n   *     height: 200px;\n   *   }\n   * `))\n   * ```\n   */\n\n\n  _createClass(MatchMediaStyleSheetBehavior, [{\n    key: \"constructListener\",\n    value:\n    /**\n     * Constructs a match-media listener for a provided element.\n     * @param source - the element for which to attach or detach styles.\n     * @internal\n     */\n    function constructListener(source) {\n      var attached = false;\n      var styles = this.styles;\n      return function listener() {\n        var matches = this.matches;\n\n        if (matches && !attached) {\n          source.$fastController.addStyles(styles);\n          attached = matches;\n        } else if (!matches && attached) {\n          source.$fastController.removeStyles(styles);\n          attached = matches;\n        }\n      };\n    }\n    /**\n     * Unbinds the behavior from the element.\n     * @param source - The element for which the behavior is unbinding.\n     * @internal\n     */\n\n  }, {\n    key: \"unbind\",\n    value: function unbind(source) {\n      _get(_getPrototypeOf(MatchMediaStyleSheetBehavior.prototype), \"unbind\", this).call(this, source);\n\n      source.$fastController.removeStyles(this.styles);\n    }\n  }], [{\n    key: \"with\",\n    value: function _with(query) {\n      return function (styles) {\n        return new MatchMediaStyleSheetBehavior(query, styles);\n      };\n    }\n  }]);\n\n  return MatchMediaStyleSheetBehavior;\n}(MatchMediaBehavior);\n/**\n * This can be used to construct a behavior to apply a forced-colors only stylesheet.\n * @public\n */\n\nexport var forcedColorsStylesheetBehavior = MatchMediaStyleSheetBehavior.with(window.matchMedia(\"(forced-colors)\"));\n/**\n * This can be used to construct a behavior to apply a prefers color scheme: dark only stylesheet.\n * @public\n */\n\nexport var darkModeStylesheetBehavior = MatchMediaStyleSheetBehavior.with(window.matchMedia(\"(prefers-color-scheme: dark)\"));\n/**\n * This can be used to construct a behavior to apply a prefers color scheme: light only stylesheet.\n * @public\n */\n\nexport var lightModeStylesheetBehavior = MatchMediaStyleSheetBehavior.with(window.matchMedia(\"(prefers-color-scheme: light)\"));","map":{"version":3,"names":["MatchMediaBehavior","query","listenerCache","WeakMap","source","listener","constructListener","bind","addListener","set","get","removeListener","delete","MatchMediaStyleSheetBehavior","styles","attached","matches","$fastController","addStyles","removeStyles","forcedColorsStylesheetBehavior","with","window","matchMedia","darkModeStylesheetBehavior","lightModeStylesheetBehavior"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/utilities/match-media-stylesheet-behavior.js"],"sourcesContent":["/**\n * An abstract behavior to react to media queries. Implementations should implement\n * the `constructListener` method to perform some action based on media query changes.\n *\n * @public\n */\nexport class MatchMediaBehavior {\n    /**\n     *\n     * @param query - The media query to operate from.\n     */\n    constructor(query) {\n        /**\n         * The behavior needs to operate on element instances but elements might share a behavior instance.\n         * To ensure proper attachment / detachment per instance, we construct a listener for\n         * each bind invocation and cache the listeners by element reference.\n         */\n        this.listenerCache = new WeakMap();\n        this.query = query;\n    }\n    /**\n     * Binds the behavior to the element.\n     * @param source - The element for which the behavior is bound.\n     */\n    bind(source) {\n        const { query } = this;\n        const listener = this.constructListener(source);\n        // Invoke immediately to add if the query currently matches\n        listener.bind(query)();\n        query.addListener(listener);\n        this.listenerCache.set(source, listener);\n    }\n    /**\n     * Unbinds the behavior from the element.\n     * @param source - The element for which the behavior is unbinding.\n     */\n    unbind(source) {\n        const listener = this.listenerCache.get(source);\n        if (listener) {\n            this.query.removeListener(listener);\n            this.listenerCache.delete(source);\n        }\n    }\n}\n/**\n * A behavior to add or remove a stylesheet from an element based on a media query. The behavior ensures that\n * styles are applied while the a query matches the environment and that styles are not applied if the query does\n * not match the environment.\n *\n * @public\n */\nexport class MatchMediaStyleSheetBehavior extends MatchMediaBehavior {\n    /**\n     * Constructs a {@link MatchMediaStyleSheetBehavior} instance.\n     * @param query - The media query to operate from.\n     * @param styles - The styles to coordinate with the query.\n     */\n    constructor(query, styles) {\n        super(query);\n        this.styles = styles;\n    }\n    /**\n     * Defines a function to construct {@link MatchMediaStyleSheetBehavior | MatchMediaStyleSheetBehaviors} for\n     * a provided query.\n     * @param query - The media query to operate from.\n     *\n     * @public\n     * @example\n     *\n     * ```ts\n     * import { css } from \"@microsoft/fast-element\";\n     * import { MatchMediaStyleSheetBehavior } from \"@microsoft/fast-foundation\";\n     *\n     * const landscapeBehavior = MatchMediaStyleSheetBehavior.with(\n     *   window.matchMedia(\"(orientation: landscape)\")\n     * );\n     * const styles = css`\n     *   :host {\n     *     width: 200px;\n     *     height: 400px;\n     *   }\n     * `\n     * .withBehaviors(landscapeBehavior(css`\n     *   :host {\n     *     width: 400px;\n     *     height: 200px;\n     *   }\n     * `))\n     * ```\n     */\n    static with(query) {\n        return (styles) => {\n            return new MatchMediaStyleSheetBehavior(query, styles);\n        };\n    }\n    /**\n     * Constructs a match-media listener for a provided element.\n     * @param source - the element for which to attach or detach styles.\n     * @internal\n     */\n    constructListener(source) {\n        let attached = false;\n        const styles = this.styles;\n        return function listener() {\n            const { matches } = this;\n            if (matches && !attached) {\n                source.$fastController.addStyles(styles);\n                attached = matches;\n            }\n            else if (!matches && attached) {\n                source.$fastController.removeStyles(styles);\n                attached = matches;\n            }\n        };\n    }\n    /**\n     * Unbinds the behavior from the element.\n     * @param source - The element for which the behavior is unbinding.\n     * @internal\n     */\n    unbind(source) {\n        super.unbind(source);\n        source.$fastController.removeStyles(this.styles);\n    }\n}\n/**\n * This can be used to construct a behavior to apply a forced-colors only stylesheet.\n * @public\n */\nexport const forcedColorsStylesheetBehavior = MatchMediaStyleSheetBehavior.with(window.matchMedia(\"(forced-colors)\"));\n/**\n * This can be used to construct a behavior to apply a prefers color scheme: dark only stylesheet.\n * @public\n */\nexport const darkModeStylesheetBehavior = MatchMediaStyleSheetBehavior.with(window.matchMedia(\"(prefers-color-scheme: dark)\"));\n/**\n * This can be used to construct a behavior to apply a prefers color scheme: light only stylesheet.\n * @public\n */\nexport const lightModeStylesheetBehavior = MatchMediaStyleSheetBehavior.with(window.matchMedia(\"(prefers-color-scheme: light)\"));\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}