{"ast":null,"code":"import _inherits from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _toConsumableArray from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { DOM } from \"../dom.js\";\nimport { Observable } from \"../observation/observable.js\";\nimport { enableArrayObservation } from \"../observation/array-observer.js\";\nimport { emptyArray } from \"../platform.js\";\nimport { HTMLDirective } from \"./html-directive.js\";\nimport { HTMLView } from \"./view.js\";\nvar defaultRepeatOptions = Object.freeze({\n  positioning: false,\n  recycle: true\n});\n\nfunction bindWithoutPositioning(view, items, index, context) {\n  view.bind(items[index], context);\n}\n\nfunction bindWithPositioning(view, items, index, context) {\n  var childContext = Object.create(context);\n  childContext.index = index;\n  childContext.length = items.length;\n  view.bind(items[index], childContext);\n}\n/**\n * A behavior that renders a template for each item in an array.\n * @public\n */\n\n\nexport var RepeatBehavior = /*#__PURE__*/function () {\n  /**\n   * Creates an instance of RepeatBehavior.\n   * @param location - The location in the DOM to render the repeat.\n   * @param itemsBinding - The array to render.\n   * @param isItemsBindingVolatile - Indicates whether the items binding has volatile dependencies.\n   * @param templateBinding - The template to render for each item.\n   * @param isTemplateBindingVolatile - Indicates whether the template binding has volatile dependencies.\n   * @param options - Options used to turn on special repeat features.\n   */\n  function RepeatBehavior(location, itemsBinding, isItemsBindingVolatile, templateBinding, isTemplateBindingVolatile, options) {\n    _classCallCheck(this, RepeatBehavior);\n\n    this.location = location;\n    this.itemsBinding = itemsBinding;\n    this.templateBinding = templateBinding;\n    this.options = options;\n    this.source = null;\n    this.views = [];\n    this.items = null;\n    this.itemsObserver = null;\n    this.originalContext = void 0;\n    this.childContext = void 0;\n    this.bindView = bindWithoutPositioning;\n    this.itemsBindingObserver = Observable.binding(itemsBinding, this, isItemsBindingVolatile);\n    this.templateBindingObserver = Observable.binding(templateBinding, this, isTemplateBindingVolatile);\n\n    if (options.positioning) {\n      this.bindView = bindWithPositioning;\n    }\n  }\n  /**\n   * Bind this behavior to the source.\n   * @param source - The source to bind to.\n   * @param context - The execution context that the binding is operating within.\n   */\n\n\n  _createClass(RepeatBehavior, [{\n    key: \"bind\",\n    value: function bind(source, context) {\n      this.source = source;\n      this.originalContext = context;\n      this.childContext = Object.create(context);\n      this.childContext.parent = source;\n      this.childContext.parentContext = this.originalContext;\n      this.items = this.itemsBindingObserver.observe(source, this.originalContext);\n      this.template = this.templateBindingObserver.observe(source, this.originalContext);\n      this.observeItems(true);\n      this.refreshAllViews();\n    }\n    /**\n     * Unbinds this behavior from the source.\n     * @param source - The source to unbind from.\n     */\n\n  }, {\n    key: \"unbind\",\n    value: function unbind() {\n      this.source = null;\n      this.items = null;\n\n      if (this.itemsObserver !== null) {\n        this.itemsObserver.unsubscribe(this);\n      }\n\n      this.unbindAllViews();\n      this.itemsBindingObserver.disconnect();\n      this.templateBindingObserver.disconnect();\n    }\n    /** @internal */\n\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(source, args) {\n      if (source === this.itemsBinding) {\n        this.items = this.itemsBindingObserver.observe(this.source, this.originalContext);\n        this.observeItems();\n        this.refreshAllViews();\n      } else if (source === this.templateBinding) {\n        this.template = this.templateBindingObserver.observe(this.source, this.originalContext);\n        this.refreshAllViews(true);\n      } else {\n        this.updateViews(args);\n      }\n    }\n  }, {\n    key: \"observeItems\",\n    value: function observeItems() {\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (!this.items) {\n        this.items = emptyArray;\n        return;\n      }\n\n      var oldObserver = this.itemsObserver;\n      var newObserver = this.itemsObserver = Observable.getNotifier(this.items);\n      var hasNewObserver = oldObserver !== newObserver;\n\n      if (hasNewObserver && oldObserver !== null) {\n        oldObserver.unsubscribe(this);\n      }\n\n      if (hasNewObserver || force) {\n        newObserver.subscribe(this);\n      }\n    }\n  }, {\n    key: \"updateViews\",\n    value: function updateViews(splices) {\n      var childContext = this.childContext;\n      var views = this.views;\n      var bindView = this.bindView;\n      var items = this.items;\n      var template = this.template;\n      var recycle = this.options.recycle;\n      var leftoverViews = [];\n      var leftoverIndex = 0;\n      var availableViews = 0;\n\n      for (var i = 0, ii = splices.length; i < ii; ++i) {\n        var splice = splices[i];\n        var removed = splice.removed;\n        var removeIndex = 0;\n        var addIndex = splice.index;\n        var end = addIndex + splice.addedCount;\n        var removedViews = views.splice(splice.index, removed.length);\n        var totalAvailableViews = availableViews = leftoverViews.length + removedViews.length;\n\n        for (; addIndex < end; ++addIndex) {\n          var neighbor = views[addIndex];\n          var location = neighbor ? neighbor.firstChild : this.location;\n          var view = void 0;\n\n          if (recycle && availableViews > 0) {\n            if (removeIndex <= totalAvailableViews && removedViews.length > 0) {\n              view = removedViews[removeIndex];\n              removeIndex++;\n            } else {\n              view = leftoverViews[leftoverIndex];\n              leftoverIndex++;\n            }\n\n            availableViews--;\n          } else {\n            view = template.create();\n          }\n\n          views.splice(addIndex, 0, view);\n          bindView(view, items, addIndex, childContext);\n          view.insertBefore(location);\n        }\n\n        if (removedViews[removeIndex]) {\n          leftoverViews.push.apply(leftoverViews, _toConsumableArray(removedViews.slice(removeIndex)));\n        }\n      }\n\n      for (var _i = leftoverIndex, _ii = leftoverViews.length; _i < _ii; ++_i) {\n        leftoverViews[_i].dispose();\n      }\n\n      if (this.options.positioning) {\n        for (var _i2 = 0, _ii2 = views.length; _i2 < _ii2; ++_i2) {\n          var currentContext = views[_i2].context;\n          currentContext.length = _ii2;\n          currentContext.index = _i2;\n        }\n      }\n    }\n  }, {\n    key: \"refreshAllViews\",\n    value: function refreshAllViews() {\n      var templateChanged = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var items = this.items;\n      var childContext = this.childContext;\n      var template = this.template;\n      var location = this.location;\n      var bindView = this.bindView;\n      var itemsLength = items.length;\n      var views = this.views;\n      var viewsLength = views.length;\n\n      if (itemsLength === 0 || templateChanged || !this.options.recycle) {\n        // all views need to be removed\n        HTMLView.disposeContiguousBatch(views);\n        viewsLength = 0;\n      }\n\n      if (viewsLength === 0) {\n        // all views need to be created\n        this.views = views = new Array(itemsLength);\n\n        for (var i = 0; i < itemsLength; ++i) {\n          var view = template.create();\n          bindView(view, items, i, childContext);\n          views[i] = view;\n          view.insertBefore(location);\n        }\n      } else {\n        // attempt to reuse existing views with new data\n        var _i3 = 0;\n\n        for (; _i3 < itemsLength; ++_i3) {\n          if (_i3 < viewsLength) {\n            var _view = views[_i3];\n            bindView(_view, items, _i3, childContext);\n          } else {\n            var _view2 = template.create();\n\n            bindView(_view2, items, _i3, childContext);\n            views.push(_view2);\n\n            _view2.insertBefore(location);\n          }\n        }\n\n        var removed = views.splice(_i3, viewsLength - _i3);\n\n        for (_i3 = 0, itemsLength = removed.length; _i3 < itemsLength; ++_i3) {\n          removed[_i3].dispose();\n        }\n      }\n    }\n  }, {\n    key: \"unbindAllViews\",\n    value: function unbindAllViews() {\n      var views = this.views;\n\n      for (var i = 0, ii = views.length; i < ii; ++i) {\n        views[i].unbind();\n      }\n    }\n  }]);\n\n  return RepeatBehavior;\n}();\n/**\n * A directive that configures list rendering.\n * @public\n */\n\nexport var RepeatDirective = /*#__PURE__*/function (_HTMLDirective) {\n  _inherits(RepeatDirective, _HTMLDirective);\n\n  var _super = _createSuper(RepeatDirective);\n\n  /**\n   * Creates an instance of RepeatDirective.\n   * @param itemsBinding - The binding that provides the array to render.\n   * @param templateBinding - The template binding used to obtain a template to render for each item in the array.\n   * @param options - Options used to turn on special repeat features.\n   */\n  function RepeatDirective(itemsBinding, templateBinding, options) {\n    var _this;\n\n    _classCallCheck(this, RepeatDirective);\n\n    _this = _super.call(this);\n    _this.itemsBinding = itemsBinding;\n    _this.templateBinding = templateBinding;\n    _this.options = options;\n    /**\n     * Creates a placeholder string based on the directive's index within the template.\n     * @param index - The index of the directive within the template.\n     */\n\n    _this.createPlaceholder = DOM.createBlockPlaceholder;\n    enableArrayObservation();\n    _this.isItemsBindingVolatile = Observable.isVolatileBinding(itemsBinding);\n    _this.isTemplateBindingVolatile = Observable.isVolatileBinding(templateBinding);\n    return _this;\n  }\n  /**\n   * Creates a behavior for the provided target node.\n   * @param target - The node instance to create the behavior for.\n   */\n\n\n  _createClass(RepeatDirective, [{\n    key: \"createBehavior\",\n    value: function createBehavior(target) {\n      return new RepeatBehavior(target, this.itemsBinding, this.isItemsBindingVolatile, this.templateBinding, this.isTemplateBindingVolatile, this.options);\n    }\n  }]);\n\n  return RepeatDirective;\n}(HTMLDirective);\n/**\n * A directive that enables list rendering.\n * @param itemsBinding - The array to render.\n * @param templateOrTemplateBinding - The template or a template binding used obtain a template\n * to render for each item in the array.\n * @param options - Options used to turn on special repeat features.\n * @public\n */\n\nexport function repeat(itemsBinding, templateOrTemplateBinding) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultRepeatOptions;\n  var templateBinding = typeof templateOrTemplateBinding === \"function\" ? templateOrTemplateBinding : function () {\n    return templateOrTemplateBinding;\n  };\n  return new RepeatDirective(itemsBinding, templateBinding, Object.assign(Object.assign({}, defaultRepeatOptions), options));\n}","map":{"version":3,"names":["DOM","Observable","enableArrayObservation","emptyArray","HTMLDirective","HTMLView","defaultRepeatOptions","Object","freeze","positioning","recycle","bindWithoutPositioning","view","items","index","context","bind","bindWithPositioning","childContext","create","length","RepeatBehavior","location","itemsBinding","isItemsBindingVolatile","templateBinding","isTemplateBindingVolatile","options","source","views","itemsObserver","originalContext","bindView","itemsBindingObserver","binding","templateBindingObserver","parent","parentContext","observe","template","observeItems","refreshAllViews","unsubscribe","unbindAllViews","disconnect","args","updateViews","force","oldObserver","newObserver","getNotifier","hasNewObserver","subscribe","splices","leftoverViews","leftoverIndex","availableViews","i","ii","splice","removed","removeIndex","addIndex","end","addedCount","removedViews","totalAvailableViews","neighbor","firstChild","insertBefore","push","slice","dispose","currentContext","templateChanged","itemsLength","viewsLength","disposeContiguousBatch","Array","unbind","RepeatDirective","createPlaceholder","createBlockPlaceholder","isVolatileBinding","target","repeat","templateOrTemplateBinding","assign"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-element/dist/esm/templating/repeat.js"],"sourcesContent":["import { DOM } from \"../dom.js\";\nimport { Observable, } from \"../observation/observable.js\";\nimport { enableArrayObservation } from \"../observation/array-observer.js\";\nimport { emptyArray } from \"../platform.js\";\nimport { HTMLDirective } from \"./html-directive.js\";\nimport { HTMLView } from \"./view.js\";\nconst defaultRepeatOptions = Object.freeze({\n    positioning: false,\n    recycle: true,\n});\nfunction bindWithoutPositioning(view, items, index, context) {\n    view.bind(items[index], context);\n}\nfunction bindWithPositioning(view, items, index, context) {\n    const childContext = Object.create(context);\n    childContext.index = index;\n    childContext.length = items.length;\n    view.bind(items[index], childContext);\n}\n/**\n * A behavior that renders a template for each item in an array.\n * @public\n */\nexport class RepeatBehavior {\n    /**\n     * Creates an instance of RepeatBehavior.\n     * @param location - The location in the DOM to render the repeat.\n     * @param itemsBinding - The array to render.\n     * @param isItemsBindingVolatile - Indicates whether the items binding has volatile dependencies.\n     * @param templateBinding - The template to render for each item.\n     * @param isTemplateBindingVolatile - Indicates whether the template binding has volatile dependencies.\n     * @param options - Options used to turn on special repeat features.\n     */\n    constructor(location, itemsBinding, isItemsBindingVolatile, templateBinding, isTemplateBindingVolatile, options) {\n        this.location = location;\n        this.itemsBinding = itemsBinding;\n        this.templateBinding = templateBinding;\n        this.options = options;\n        this.source = null;\n        this.views = [];\n        this.items = null;\n        this.itemsObserver = null;\n        this.originalContext = void 0;\n        this.childContext = void 0;\n        this.bindView = bindWithoutPositioning;\n        this.itemsBindingObserver = Observable.binding(itemsBinding, this, isItemsBindingVolatile);\n        this.templateBindingObserver = Observable.binding(templateBinding, this, isTemplateBindingVolatile);\n        if (options.positioning) {\n            this.bindView = bindWithPositioning;\n        }\n    }\n    /**\n     * Bind this behavior to the source.\n     * @param source - The source to bind to.\n     * @param context - The execution context that the binding is operating within.\n     */\n    bind(source, context) {\n        this.source = source;\n        this.originalContext = context;\n        this.childContext = Object.create(context);\n        this.childContext.parent = source;\n        this.childContext.parentContext = this.originalContext;\n        this.items = this.itemsBindingObserver.observe(source, this.originalContext);\n        this.template = this.templateBindingObserver.observe(source, this.originalContext);\n        this.observeItems(true);\n        this.refreshAllViews();\n    }\n    /**\n     * Unbinds this behavior from the source.\n     * @param source - The source to unbind from.\n     */\n    unbind() {\n        this.source = null;\n        this.items = null;\n        if (this.itemsObserver !== null) {\n            this.itemsObserver.unsubscribe(this);\n        }\n        this.unbindAllViews();\n        this.itemsBindingObserver.disconnect();\n        this.templateBindingObserver.disconnect();\n    }\n    /** @internal */\n    handleChange(source, args) {\n        if (source === this.itemsBinding) {\n            this.items = this.itemsBindingObserver.observe(this.source, this.originalContext);\n            this.observeItems();\n            this.refreshAllViews();\n        }\n        else if (source === this.templateBinding) {\n            this.template = this.templateBindingObserver.observe(this.source, this.originalContext);\n            this.refreshAllViews(true);\n        }\n        else {\n            this.updateViews(args);\n        }\n    }\n    observeItems(force = false) {\n        if (!this.items) {\n            this.items = emptyArray;\n            return;\n        }\n        const oldObserver = this.itemsObserver;\n        const newObserver = (this.itemsObserver = Observable.getNotifier(this.items));\n        const hasNewObserver = oldObserver !== newObserver;\n        if (hasNewObserver && oldObserver !== null) {\n            oldObserver.unsubscribe(this);\n        }\n        if (hasNewObserver || force) {\n            newObserver.subscribe(this);\n        }\n    }\n    updateViews(splices) {\n        const childContext = this.childContext;\n        const views = this.views;\n        const bindView = this.bindView;\n        const items = this.items;\n        const template = this.template;\n        const recycle = this.options.recycle;\n        const leftoverViews = [];\n        let leftoverIndex = 0;\n        let availableViews = 0;\n        for (let i = 0, ii = splices.length; i < ii; ++i) {\n            const splice = splices[i];\n            const removed = splice.removed;\n            let removeIndex = 0;\n            let addIndex = splice.index;\n            const end = addIndex + splice.addedCount;\n            const removedViews = views.splice(splice.index, removed.length);\n            const totalAvailableViews = (availableViews =\n                leftoverViews.length + removedViews.length);\n            for (; addIndex < end; ++addIndex) {\n                const neighbor = views[addIndex];\n                const location = neighbor ? neighbor.firstChild : this.location;\n                let view;\n                if (recycle && availableViews > 0) {\n                    if (removeIndex <= totalAvailableViews && removedViews.length > 0) {\n                        view = removedViews[removeIndex];\n                        removeIndex++;\n                    }\n                    else {\n                        view = leftoverViews[leftoverIndex];\n                        leftoverIndex++;\n                    }\n                    availableViews--;\n                }\n                else {\n                    view = template.create();\n                }\n                views.splice(addIndex, 0, view);\n                bindView(view, items, addIndex, childContext);\n                view.insertBefore(location);\n            }\n            if (removedViews[removeIndex]) {\n                leftoverViews.push(...removedViews.slice(removeIndex));\n            }\n        }\n        for (let i = leftoverIndex, ii = leftoverViews.length; i < ii; ++i) {\n            leftoverViews[i].dispose();\n        }\n        if (this.options.positioning) {\n            for (let i = 0, ii = views.length; i < ii; ++i) {\n                const currentContext = views[i].context;\n                currentContext.length = ii;\n                currentContext.index = i;\n            }\n        }\n    }\n    refreshAllViews(templateChanged = false) {\n        const items = this.items;\n        const childContext = this.childContext;\n        const template = this.template;\n        const location = this.location;\n        const bindView = this.bindView;\n        let itemsLength = items.length;\n        let views = this.views;\n        let viewsLength = views.length;\n        if (itemsLength === 0 || templateChanged || !this.options.recycle) {\n            // all views need to be removed\n            HTMLView.disposeContiguousBatch(views);\n            viewsLength = 0;\n        }\n        if (viewsLength === 0) {\n            // all views need to be created\n            this.views = views = new Array(itemsLength);\n            for (let i = 0; i < itemsLength; ++i) {\n                const view = template.create();\n                bindView(view, items, i, childContext);\n                views[i] = view;\n                view.insertBefore(location);\n            }\n        }\n        else {\n            // attempt to reuse existing views with new data\n            let i = 0;\n            for (; i < itemsLength; ++i) {\n                if (i < viewsLength) {\n                    const view = views[i];\n                    bindView(view, items, i, childContext);\n                }\n                else {\n                    const view = template.create();\n                    bindView(view, items, i, childContext);\n                    views.push(view);\n                    view.insertBefore(location);\n                }\n            }\n            const removed = views.splice(i, viewsLength - i);\n            for (i = 0, itemsLength = removed.length; i < itemsLength; ++i) {\n                removed[i].dispose();\n            }\n        }\n    }\n    unbindAllViews() {\n        const views = this.views;\n        for (let i = 0, ii = views.length; i < ii; ++i) {\n            views[i].unbind();\n        }\n    }\n}\n/**\n * A directive that configures list rendering.\n * @public\n */\nexport class RepeatDirective extends HTMLDirective {\n    /**\n     * Creates an instance of RepeatDirective.\n     * @param itemsBinding - The binding that provides the array to render.\n     * @param templateBinding - The template binding used to obtain a template to render for each item in the array.\n     * @param options - Options used to turn on special repeat features.\n     */\n    constructor(itemsBinding, templateBinding, options) {\n        super();\n        this.itemsBinding = itemsBinding;\n        this.templateBinding = templateBinding;\n        this.options = options;\n        /**\n         * Creates a placeholder string based on the directive's index within the template.\n         * @param index - The index of the directive within the template.\n         */\n        this.createPlaceholder = DOM.createBlockPlaceholder;\n        enableArrayObservation();\n        this.isItemsBindingVolatile = Observable.isVolatileBinding(itemsBinding);\n        this.isTemplateBindingVolatile = Observable.isVolatileBinding(templateBinding);\n    }\n    /**\n     * Creates a behavior for the provided target node.\n     * @param target - The node instance to create the behavior for.\n     */\n    createBehavior(target) {\n        return new RepeatBehavior(target, this.itemsBinding, this.isItemsBindingVolatile, this.templateBinding, this.isTemplateBindingVolatile, this.options);\n    }\n}\n/**\n * A directive that enables list rendering.\n * @param itemsBinding - The array to render.\n * @param templateOrTemplateBinding - The template or a template binding used obtain a template\n * to render for each item in the array.\n * @param options - Options used to turn on special repeat features.\n * @public\n */\nexport function repeat(itemsBinding, templateOrTemplateBinding, options = defaultRepeatOptions) {\n    const templateBinding = typeof templateOrTemplateBinding === \"function\"\n        ? templateOrTemplateBinding\n        : () => templateOrTemplateBinding;\n    return new RepeatDirective(itemsBinding, templateBinding, Object.assign(Object.assign({}, defaultRepeatOptions), options));\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}