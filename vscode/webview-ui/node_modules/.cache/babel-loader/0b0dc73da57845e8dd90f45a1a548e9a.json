{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { observable } from \"@microsoft/fast-element\";\nimport { BreadcrumbItem } from \"../breadcrumb-item/breadcrumb-item.js\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A Breadcrumb Custom HTML Element.\n * @slot - The default slot for the breadcrumb items\n * @csspart list - The element wrapping the slotted items\n *\n * @public\n */\n\nexport class Breadcrumb extends FoundationElement {\n  slottedBreadcrumbItemsChanged() {\n    if (this.$fastController.isConnected) {\n      if (this.slottedBreadcrumbItems === undefined || this.slottedBreadcrumbItems.length === 0) {\n        return;\n      }\n\n      const lastNode = this.slottedBreadcrumbItems[this.slottedBreadcrumbItems.length - 1];\n      this.slottedBreadcrumbItems.forEach(item => {\n        const itemIsLastNode = item === lastNode;\n        this.setItemSeparator(item, itemIsLastNode);\n        this.setAriaCurrent(item, itemIsLastNode);\n      });\n    }\n  }\n\n  setItemSeparator(item, isLastNode) {\n    if (item instanceof BreadcrumbItem) {\n      item.separator = !isLastNode;\n    }\n  }\n  /**\n   * Finds href on childnodes in the light DOM or shadow DOM.\n   * We look in the shadow DOM because we insert an anchor when breadcrumb-item has an href.\n   */\n\n\n  findChildWithHref(node) {\n    var _a, _b;\n\n    if (node.childElementCount > 0) {\n      return node.querySelector(\"a[href]\");\n    } else if ((_a = node.shadowRoot) === null || _a === void 0 ? void 0 : _a.childElementCount) {\n      return (_b = node.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector(\"a[href]\");\n    } else return null;\n  }\n  /**\n   *  Sets ARIA Current for the current node\n   * If child node with an anchor tag and with href is found then set aria-current to correct value for the child node,\n   * otherwise apply aria-current to the host element, with an href\n   */\n\n\n  setAriaCurrent(item, isLastNode) {\n    const childNodeWithHref = this.findChildWithHref(item);\n\n    if (childNodeWithHref === null && item.hasAttribute(\"href\") && item instanceof BreadcrumbItem) {\n      isLastNode ? item.setAttribute(\"aria-current\", \"page\") : item.removeAttribute(\"aria-current\");\n    } else if (childNodeWithHref !== null) {\n      isLastNode ? childNodeWithHref.setAttribute(\"aria-current\", \"page\") : childNodeWithHref.removeAttribute(\"aria-current\");\n    }\n  }\n\n}\n\n__decorate([observable], Breadcrumb.prototype, \"slottedBreadcrumbItems\", void 0);","map":{"version":3,"names":["__decorate","observable","BreadcrumbItem","FoundationElement","Breadcrumb","slottedBreadcrumbItemsChanged","$fastController","isConnected","slottedBreadcrumbItems","undefined","length","lastNode","forEach","item","itemIsLastNode","setItemSeparator","setAriaCurrent","isLastNode","separator","findChildWithHref","node","_a","_b","childElementCount","querySelector","shadowRoot","childNodeWithHref","hasAttribute","setAttribute","removeAttribute","prototype"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/breadcrumb/breadcrumb.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { observable } from \"@microsoft/fast-element\";\nimport { BreadcrumbItem } from \"../breadcrumb-item/breadcrumb-item.js\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A Breadcrumb Custom HTML Element.\n * @slot - The default slot for the breadcrumb items\n * @csspart list - The element wrapping the slotted items\n *\n * @public\n */\nexport class Breadcrumb extends FoundationElement {\n    slottedBreadcrumbItemsChanged() {\n        if (this.$fastController.isConnected) {\n            if (this.slottedBreadcrumbItems === undefined ||\n                this.slottedBreadcrumbItems.length === 0) {\n                return;\n            }\n            const lastNode = this.slottedBreadcrumbItems[this.slottedBreadcrumbItems.length - 1];\n            this.slottedBreadcrumbItems.forEach((item) => {\n                const itemIsLastNode = item === lastNode;\n                this.setItemSeparator(item, itemIsLastNode);\n                this.setAriaCurrent(item, itemIsLastNode);\n            });\n        }\n    }\n    setItemSeparator(item, isLastNode) {\n        if (item instanceof BreadcrumbItem) {\n            item.separator = !isLastNode;\n        }\n    }\n    /**\n     * Finds href on childnodes in the light DOM or shadow DOM.\n     * We look in the shadow DOM because we insert an anchor when breadcrumb-item has an href.\n     */\n    findChildWithHref(node) {\n        var _a, _b;\n        if (node.childElementCount > 0) {\n            return node.querySelector(\"a[href]\");\n        }\n        else if ((_a = node.shadowRoot) === null || _a === void 0 ? void 0 : _a.childElementCount) {\n            return (_b = node.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector(\"a[href]\");\n        }\n        else\n            return null;\n    }\n    /**\n     *  Sets ARIA Current for the current node\n     * If child node with an anchor tag and with href is found then set aria-current to correct value for the child node,\n     * otherwise apply aria-current to the host element, with an href\n     */\n    setAriaCurrent(item, isLastNode) {\n        const childNodeWithHref = this.findChildWithHref(item);\n        if (childNodeWithHref === null &&\n            item.hasAttribute(\"href\") &&\n            item instanceof BreadcrumbItem) {\n            isLastNode\n                ? item.setAttribute(\"aria-current\", \"page\")\n                : item.removeAttribute(\"aria-current\");\n        }\n        else if (childNodeWithHref !== null) {\n            isLastNode\n                ? childNodeWithHref.setAttribute(\"aria-current\", \"page\")\n                : childNodeWithHref.removeAttribute(\"aria-current\");\n        }\n    }\n}\n__decorate([\n    observable\n], Breadcrumb.prototype, \"slottedBreadcrumbItems\", void 0);\n"],"mappings":"AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,SAASC,cAAT,QAA+B,uCAA/B;AACA,SAASC,iBAAT,QAAkC,6CAAlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,MAAMC,UAAN,SAAyBD,iBAAzB,CAA2C;EAC9CE,6BAA6B,GAAG;IAC5B,IAAI,KAAKC,eAAL,CAAqBC,WAAzB,EAAsC;MAClC,IAAI,KAAKC,sBAAL,KAAgCC,SAAhC,IACA,KAAKD,sBAAL,CAA4BE,MAA5B,KAAuC,CAD3C,EAC8C;QAC1C;MACH;;MACD,MAAMC,QAAQ,GAAG,KAAKH,sBAAL,CAA4B,KAAKA,sBAAL,CAA4BE,MAA5B,GAAqC,CAAjE,CAAjB;MACA,KAAKF,sBAAL,CAA4BI,OAA5B,CAAqCC,IAAD,IAAU;QAC1C,MAAMC,cAAc,GAAGD,IAAI,KAAKF,QAAhC;QACA,KAAKI,gBAAL,CAAsBF,IAAtB,EAA4BC,cAA5B;QACA,KAAKE,cAAL,CAAoBH,IAApB,EAA0BC,cAA1B;MACH,CAJD;IAKH;EACJ;;EACDC,gBAAgB,CAACF,IAAD,EAAOI,UAAP,EAAmB;IAC/B,IAAIJ,IAAI,YAAYX,cAApB,EAAoC;MAChCW,IAAI,CAACK,SAAL,GAAiB,CAACD,UAAlB;IACH;EACJ;EACD;AACJ;AACA;AACA;;;EACIE,iBAAiB,CAACC,IAAD,EAAO;IACpB,IAAIC,EAAJ,EAAQC,EAAR;;IACA,IAAIF,IAAI,CAACG,iBAAL,GAAyB,CAA7B,EAAgC;MAC5B,OAAOH,IAAI,CAACI,aAAL,CAAmB,SAAnB,CAAP;IACH,CAFD,MAGK,IAAI,CAACH,EAAE,GAAGD,IAAI,CAACK,UAAX,MAA2B,IAA3B,IAAmCJ,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACE,iBAAnE,EAAsF;MACvF,OAAO,CAACD,EAAE,GAAGF,IAAI,CAACK,UAAX,MAA2B,IAA3B,IAAmCH,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACE,aAAH,CAAiB,SAAjB,CAAnE;IACH,CAFI,MAID,OAAO,IAAP;EACP;EACD;AACJ;AACA;AACA;AACA;;;EACIR,cAAc,CAACH,IAAD,EAAOI,UAAP,EAAmB;IAC7B,MAAMS,iBAAiB,GAAG,KAAKP,iBAAL,CAAuBN,IAAvB,CAA1B;;IACA,IAAIa,iBAAiB,KAAK,IAAtB,IACAb,IAAI,CAACc,YAAL,CAAkB,MAAlB,CADA,IAEAd,IAAI,YAAYX,cAFpB,EAEoC;MAChCe,UAAU,GACJJ,IAAI,CAACe,YAAL,CAAkB,cAAlB,EAAkC,MAAlC,CADI,GAEJf,IAAI,CAACgB,eAAL,CAAqB,cAArB,CAFN;IAGH,CAND,MAOK,IAAIH,iBAAiB,KAAK,IAA1B,EAAgC;MACjCT,UAAU,GACJS,iBAAiB,CAACE,YAAlB,CAA+B,cAA/B,EAA+C,MAA/C,CADI,GAEJF,iBAAiB,CAACG,eAAlB,CAAkC,cAAlC,CAFN;IAGH;EACJ;;AAtD6C;;AAwDlD7B,UAAU,CAAC,CACPC,UADO,CAAD,EAEPG,UAAU,CAAC0B,SAFJ,EAEe,wBAFf,EAEyC,KAAK,CAF9C,CAAV"},"metadata":{},"sourceType":"module"}