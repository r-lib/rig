{"ast":null,"code":"import _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\n\n/**\n * An implementation of {@link Notifier} that efficiently keeps track of\n * subscribers interested in a specific change notification on an\n * observable source.\n *\n * @remarks\n * This set is optimized for the most common scenario of 1 or 2 subscribers.\n * With this in mind, it can store a subscriber in an internal field, allowing it to avoid Array#push operations.\n * If the set ever exceeds two subscribers, it upgrades to an array automatically.\n * @public\n */\nexport var SubscriberSet = /*#__PURE__*/function () {\n  /**\n   * Creates an instance of SubscriberSet for the specified source.\n   * @param source - The object source that subscribers will receive notifications from.\n   * @param initialSubscriber - An initial subscriber to changes.\n   */\n  function SubscriberSet(source, initialSubscriber) {\n    _classCallCheck(this, SubscriberSet);\n\n    this.sub1 = void 0;\n    this.sub2 = void 0;\n    this.spillover = void 0;\n    this.source = source;\n    this.sub1 = initialSubscriber;\n  }\n  /**\n   * Checks whether the provided subscriber has been added to this set.\n   * @param subscriber - The subscriber to test for inclusion in this set.\n   */\n\n\n  _createClass(SubscriberSet, [{\n    key: \"has\",\n    value: function has(subscriber) {\n      return this.spillover === void 0 ? this.sub1 === subscriber || this.sub2 === subscriber : this.spillover.indexOf(subscriber) !== -1;\n    }\n    /**\n     * Subscribes to notification of changes in an object's state.\n     * @param subscriber - The object that is subscribing for change notification.\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(subscriber) {\n      var spillover = this.spillover;\n\n      if (spillover === void 0) {\n        if (this.has(subscriber)) {\n          return;\n        }\n\n        if (this.sub1 === void 0) {\n          this.sub1 = subscriber;\n          return;\n        }\n\n        if (this.sub2 === void 0) {\n          this.sub2 = subscriber;\n          return;\n        }\n\n        this.spillover = [this.sub1, this.sub2, subscriber];\n        this.sub1 = void 0;\n        this.sub2 = void 0;\n      } else {\n        var index = spillover.indexOf(subscriber);\n\n        if (index === -1) {\n          spillover.push(subscriber);\n        }\n      }\n    }\n    /**\n     * Unsubscribes from notification of changes in an object's state.\n     * @param subscriber - The object that is unsubscribing from change notification.\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(subscriber) {\n      var spillover = this.spillover;\n\n      if (spillover === void 0) {\n        if (this.sub1 === subscriber) {\n          this.sub1 = void 0;\n        } else if (this.sub2 === subscriber) {\n          this.sub2 = void 0;\n        }\n      } else {\n        var index = spillover.indexOf(subscriber);\n\n        if (index !== -1) {\n          spillover.splice(index, 1);\n        }\n      }\n    }\n    /**\n     * Notifies all subscribers.\n     * @param args - Data passed along to subscribers during notification.\n     */\n\n  }, {\n    key: \"notify\",\n    value: function notify(args) {\n      var spillover = this.spillover;\n      var source = this.source;\n\n      if (spillover === void 0) {\n        var sub1 = this.sub1;\n        var sub2 = this.sub2;\n\n        if (sub1 !== void 0) {\n          sub1.handleChange(source, args);\n        }\n\n        if (sub2 !== void 0) {\n          sub2.handleChange(source, args);\n        }\n      } else {\n        for (var i = 0, ii = spillover.length; i < ii; ++i) {\n          spillover[i].handleChange(source, args);\n        }\n      }\n    }\n  }]);\n\n  return SubscriberSet;\n}();\n/**\n * An implementation of Notifier that allows subscribers to be notified\n * of individual property changes on an object.\n * @public\n */\n\nexport var PropertyChangeNotifier = /*#__PURE__*/function () {\n  /**\n   * Creates an instance of PropertyChangeNotifier for the specified source.\n   * @param source - The object source that subscribers will receive notifications from.\n   */\n  function PropertyChangeNotifier(source) {\n    _classCallCheck(this, PropertyChangeNotifier);\n\n    this.subscribers = {};\n    this.sourceSubscribers = null;\n    this.source = source;\n  }\n  /**\n   * Notifies all subscribers, based on the specified property.\n   * @param propertyName - The property name, passed along to subscribers during notification.\n   */\n\n\n  _createClass(PropertyChangeNotifier, [{\n    key: \"notify\",\n    value: function notify(propertyName) {\n      var _a;\n\n      var subscribers = this.subscribers[propertyName];\n\n      if (subscribers !== void 0) {\n        subscribers.notify(propertyName);\n      }\n\n      (_a = this.sourceSubscribers) === null || _a === void 0 ? void 0 : _a.notify(propertyName);\n    }\n    /**\n     * Subscribes to notification of changes in an object's state.\n     * @param subscriber - The object that is subscribing for change notification.\n     * @param propertyToWatch - The name of the property that the subscriber is interested in watching for changes.\n     */\n\n  }, {\n    key: \"subscribe\",\n    value: function subscribe(subscriber, propertyToWatch) {\n      var _a;\n\n      if (propertyToWatch) {\n        var subscribers = this.subscribers[propertyToWatch];\n\n        if (subscribers === void 0) {\n          this.subscribers[propertyToWatch] = subscribers = new SubscriberSet(this.source);\n        }\n\n        subscribers.subscribe(subscriber);\n      } else {\n        this.sourceSubscribers = (_a = this.sourceSubscribers) !== null && _a !== void 0 ? _a : new SubscriberSet(this.source);\n        this.sourceSubscribers.subscribe(subscriber);\n      }\n    }\n    /**\n     * Unsubscribes from notification of changes in an object's state.\n     * @param subscriber - The object that is unsubscribing from change notification.\n     * @param propertyToUnwatch - The name of the property that the subscriber is no longer interested in watching.\n     */\n\n  }, {\n    key: \"unsubscribe\",\n    value: function unsubscribe(subscriber, propertyToUnwatch) {\n      var _a;\n\n      if (propertyToUnwatch) {\n        var subscribers = this.subscribers[propertyToUnwatch];\n\n        if (subscribers !== void 0) {\n          subscribers.unsubscribe(subscriber);\n        }\n      } else {\n        (_a = this.sourceSubscribers) === null || _a === void 0 ? void 0 : _a.unsubscribe(subscriber);\n      }\n    }\n  }]);\n\n  return PropertyChangeNotifier;\n}();","map":{"version":3,"names":["SubscriberSet","source","initialSubscriber","sub1","sub2","spillover","subscriber","indexOf","has","index","push","splice","args","handleChange","i","ii","length","PropertyChangeNotifier","subscribers","sourceSubscribers","propertyName","_a","notify","propertyToWatch","subscribe","propertyToUnwatch","unsubscribe"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-element/dist/esm/observation/notifier.js"],"sourcesContent":["/**\n * An implementation of {@link Notifier} that efficiently keeps track of\n * subscribers interested in a specific change notification on an\n * observable source.\n *\n * @remarks\n * This set is optimized for the most common scenario of 1 or 2 subscribers.\n * With this in mind, it can store a subscriber in an internal field, allowing it to avoid Array#push operations.\n * If the set ever exceeds two subscribers, it upgrades to an array automatically.\n * @public\n */\nexport class SubscriberSet {\n    /**\n     * Creates an instance of SubscriberSet for the specified source.\n     * @param source - The object source that subscribers will receive notifications from.\n     * @param initialSubscriber - An initial subscriber to changes.\n     */\n    constructor(source, initialSubscriber) {\n        this.sub1 = void 0;\n        this.sub2 = void 0;\n        this.spillover = void 0;\n        this.source = source;\n        this.sub1 = initialSubscriber;\n    }\n    /**\n     * Checks whether the provided subscriber has been added to this set.\n     * @param subscriber - The subscriber to test for inclusion in this set.\n     */\n    has(subscriber) {\n        return this.spillover === void 0\n            ? this.sub1 === subscriber || this.sub2 === subscriber\n            : this.spillover.indexOf(subscriber) !== -1;\n    }\n    /**\n     * Subscribes to notification of changes in an object's state.\n     * @param subscriber - The object that is subscribing for change notification.\n     */\n    subscribe(subscriber) {\n        const spillover = this.spillover;\n        if (spillover === void 0) {\n            if (this.has(subscriber)) {\n                return;\n            }\n            if (this.sub1 === void 0) {\n                this.sub1 = subscriber;\n                return;\n            }\n            if (this.sub2 === void 0) {\n                this.sub2 = subscriber;\n                return;\n            }\n            this.spillover = [this.sub1, this.sub2, subscriber];\n            this.sub1 = void 0;\n            this.sub2 = void 0;\n        }\n        else {\n            const index = spillover.indexOf(subscriber);\n            if (index === -1) {\n                spillover.push(subscriber);\n            }\n        }\n    }\n    /**\n     * Unsubscribes from notification of changes in an object's state.\n     * @param subscriber - The object that is unsubscribing from change notification.\n     */\n    unsubscribe(subscriber) {\n        const spillover = this.spillover;\n        if (spillover === void 0) {\n            if (this.sub1 === subscriber) {\n                this.sub1 = void 0;\n            }\n            else if (this.sub2 === subscriber) {\n                this.sub2 = void 0;\n            }\n        }\n        else {\n            const index = spillover.indexOf(subscriber);\n            if (index !== -1) {\n                spillover.splice(index, 1);\n            }\n        }\n    }\n    /**\n     * Notifies all subscribers.\n     * @param args - Data passed along to subscribers during notification.\n     */\n    notify(args) {\n        const spillover = this.spillover;\n        const source = this.source;\n        if (spillover === void 0) {\n            const sub1 = this.sub1;\n            const sub2 = this.sub2;\n            if (sub1 !== void 0) {\n                sub1.handleChange(source, args);\n            }\n            if (sub2 !== void 0) {\n                sub2.handleChange(source, args);\n            }\n        }\n        else {\n            for (let i = 0, ii = spillover.length; i < ii; ++i) {\n                spillover[i].handleChange(source, args);\n            }\n        }\n    }\n}\n/**\n * An implementation of Notifier that allows subscribers to be notified\n * of individual property changes on an object.\n * @public\n */\nexport class PropertyChangeNotifier {\n    /**\n     * Creates an instance of PropertyChangeNotifier for the specified source.\n     * @param source - The object source that subscribers will receive notifications from.\n     */\n    constructor(source) {\n        this.subscribers = {};\n        this.sourceSubscribers = null;\n        this.source = source;\n    }\n    /**\n     * Notifies all subscribers, based on the specified property.\n     * @param propertyName - The property name, passed along to subscribers during notification.\n     */\n    notify(propertyName) {\n        var _a;\n        const subscribers = this.subscribers[propertyName];\n        if (subscribers !== void 0) {\n            subscribers.notify(propertyName);\n        }\n        (_a = this.sourceSubscribers) === null || _a === void 0 ? void 0 : _a.notify(propertyName);\n    }\n    /**\n     * Subscribes to notification of changes in an object's state.\n     * @param subscriber - The object that is subscribing for change notification.\n     * @param propertyToWatch - The name of the property that the subscriber is interested in watching for changes.\n     */\n    subscribe(subscriber, propertyToWatch) {\n        var _a;\n        if (propertyToWatch) {\n            let subscribers = this.subscribers[propertyToWatch];\n            if (subscribers === void 0) {\n                this.subscribers[propertyToWatch] = subscribers = new SubscriberSet(this.source);\n            }\n            subscribers.subscribe(subscriber);\n        }\n        else {\n            this.sourceSubscribers =\n                (_a = this.sourceSubscribers) !== null && _a !== void 0 ? _a : new SubscriberSet(this.source);\n            this.sourceSubscribers.subscribe(subscriber);\n        }\n    }\n    /**\n     * Unsubscribes from notification of changes in an object's state.\n     * @param subscriber - The object that is unsubscribing from change notification.\n     * @param propertyToUnwatch - The name of the property that the subscriber is no longer interested in watching.\n     */\n    unsubscribe(subscriber, propertyToUnwatch) {\n        var _a;\n        if (propertyToUnwatch) {\n            const subscribers = this.subscribers[propertyToUnwatch];\n            if (subscribers !== void 0) {\n                subscribers.unsubscribe(subscriber);\n            }\n        }\n        else {\n            (_a = this.sourceSubscribers) === null || _a === void 0 ? void 0 : _a.unsubscribe(subscriber);\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}