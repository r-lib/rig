{"ast":null,"code":"import _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { __decorate } from \"tslib\";\nimport { observable } from \"@microsoft/fast-element\";\nimport { BreadcrumbItem } from \"../breadcrumb-item/breadcrumb-item.js\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A Breadcrumb Custom HTML Element.\n * @slot - The default slot for the breadcrumb items\n * @csspart list - The element wrapping the slotted items\n *\n * @public\n */\n\nexport var Breadcrumb = /*#__PURE__*/function (_FoundationElement) {\n  _inherits(Breadcrumb, _FoundationElement);\n\n  var _super = _createSuper(Breadcrumb);\n\n  function Breadcrumb() {\n    _classCallCheck(this, Breadcrumb);\n\n    return _super.apply(this, arguments);\n  }\n\n  _createClass(Breadcrumb, [{\n    key: \"slottedBreadcrumbItemsChanged\",\n    value: function slottedBreadcrumbItemsChanged() {\n      var _this = this;\n\n      if (this.$fastController.isConnected) {\n        if (this.slottedBreadcrumbItems === undefined || this.slottedBreadcrumbItems.length === 0) {\n          return;\n        }\n\n        var lastNode = this.slottedBreadcrumbItems[this.slottedBreadcrumbItems.length - 1];\n        this.slottedBreadcrumbItems.forEach(function (item) {\n          var itemIsLastNode = item === lastNode;\n\n          _this.setItemSeparator(item, itemIsLastNode);\n\n          _this.setAriaCurrent(item, itemIsLastNode);\n        });\n      }\n    }\n  }, {\n    key: \"setItemSeparator\",\n    value: function setItemSeparator(item, isLastNode) {\n      if (item instanceof BreadcrumbItem) {\n        item.separator = !isLastNode;\n      }\n    }\n    /**\n     * Finds href on childnodes in the light DOM or shadow DOM.\n     * We look in the shadow DOM because we insert an anchor when breadcrumb-item has an href.\n     */\n\n  }, {\n    key: \"findChildWithHref\",\n    value: function findChildWithHref(node) {\n      var _a, _b;\n\n      if (node.childElementCount > 0) {\n        return node.querySelector(\"a[href]\");\n      } else if ((_a = node.shadowRoot) === null || _a === void 0 ? void 0 : _a.childElementCount) {\n        return (_b = node.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector(\"a[href]\");\n      } else return null;\n    }\n    /**\n     *  Sets ARIA Current for the current node\n     * If child node with an anchor tag and with href is found then set aria-current to correct value for the child node,\n     * otherwise apply aria-current to the host element, with an href\n     */\n\n  }, {\n    key: \"setAriaCurrent\",\n    value: function setAriaCurrent(item, isLastNode) {\n      var childNodeWithHref = this.findChildWithHref(item);\n\n      if (childNodeWithHref === null && item.hasAttribute(\"href\") && item instanceof BreadcrumbItem) {\n        isLastNode ? item.setAttribute(\"aria-current\", \"page\") : item.removeAttribute(\"aria-current\");\n      } else if (childNodeWithHref !== null) {\n        isLastNode ? childNodeWithHref.setAttribute(\"aria-current\", \"page\") : childNodeWithHref.removeAttribute(\"aria-current\");\n      }\n    }\n  }]);\n\n  return Breadcrumb;\n}(FoundationElement);\n\n__decorate([observable], Breadcrumb.prototype, \"slottedBreadcrumbItems\", void 0);","map":{"version":3,"names":["__decorate","observable","BreadcrumbItem","FoundationElement","Breadcrumb","$fastController","isConnected","slottedBreadcrumbItems","undefined","length","lastNode","forEach","item","itemIsLastNode","setItemSeparator","setAriaCurrent","isLastNode","separator","node","_a","_b","childElementCount","querySelector","shadowRoot","childNodeWithHref","findChildWithHref","hasAttribute","setAttribute","removeAttribute","prototype"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/breadcrumb/breadcrumb.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { observable } from \"@microsoft/fast-element\";\nimport { BreadcrumbItem } from \"../breadcrumb-item/breadcrumb-item.js\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A Breadcrumb Custom HTML Element.\n * @slot - The default slot for the breadcrumb items\n * @csspart list - The element wrapping the slotted items\n *\n * @public\n */\nexport class Breadcrumb extends FoundationElement {\n    slottedBreadcrumbItemsChanged() {\n        if (this.$fastController.isConnected) {\n            if (this.slottedBreadcrumbItems === undefined ||\n                this.slottedBreadcrumbItems.length === 0) {\n                return;\n            }\n            const lastNode = this.slottedBreadcrumbItems[this.slottedBreadcrumbItems.length - 1];\n            this.slottedBreadcrumbItems.forEach((item) => {\n                const itemIsLastNode = item === lastNode;\n                this.setItemSeparator(item, itemIsLastNode);\n                this.setAriaCurrent(item, itemIsLastNode);\n            });\n        }\n    }\n    setItemSeparator(item, isLastNode) {\n        if (item instanceof BreadcrumbItem) {\n            item.separator = !isLastNode;\n        }\n    }\n    /**\n     * Finds href on childnodes in the light DOM or shadow DOM.\n     * We look in the shadow DOM because we insert an anchor when breadcrumb-item has an href.\n     */\n    findChildWithHref(node) {\n        var _a, _b;\n        if (node.childElementCount > 0) {\n            return node.querySelector(\"a[href]\");\n        }\n        else if ((_a = node.shadowRoot) === null || _a === void 0 ? void 0 : _a.childElementCount) {\n            return (_b = node.shadowRoot) === null || _b === void 0 ? void 0 : _b.querySelector(\"a[href]\");\n        }\n        else\n            return null;\n    }\n    /**\n     *  Sets ARIA Current for the current node\n     * If child node with an anchor tag and with href is found then set aria-current to correct value for the child node,\n     * otherwise apply aria-current to the host element, with an href\n     */\n    setAriaCurrent(item, isLastNode) {\n        const childNodeWithHref = this.findChildWithHref(item);\n        if (childNodeWithHref === null &&\n            item.hasAttribute(\"href\") &&\n            item instanceof BreadcrumbItem) {\n            isLastNode\n                ? item.setAttribute(\"aria-current\", \"page\")\n                : item.removeAttribute(\"aria-current\");\n        }\n        else if (childNodeWithHref !== null) {\n            isLastNode\n                ? childNodeWithHref.setAttribute(\"aria-current\", \"page\")\n                : childNodeWithHref.removeAttribute(\"aria-current\");\n        }\n    }\n}\n__decorate([\n    observable\n], Breadcrumb.prototype, \"slottedBreadcrumbItems\", void 0);\n"],"mappings":";;;;AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,UAAT,QAA2B,yBAA3B;AACA,SAASC,cAAT,QAA+B,uCAA/B;AACA,SAASC,iBAAT,QAAkC,6CAAlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,WAAaC,UAAb;EAAA;;EAAA;;EAAA;IAAA;;IAAA;EAAA;;EAAA;IAAA;IAAA,OACI,yCAAgC;MAAA;;MAC5B,IAAI,KAAKC,eAAL,CAAqBC,WAAzB,EAAsC;QAClC,IAAI,KAAKC,sBAAL,KAAgCC,SAAhC,IACA,KAAKD,sBAAL,CAA4BE,MAA5B,KAAuC,CAD3C,EAC8C;UAC1C;QACH;;QACD,IAAMC,QAAQ,GAAG,KAAKH,sBAAL,CAA4B,KAAKA,sBAAL,CAA4BE,MAA5B,GAAqC,CAAjE,CAAjB;QACA,KAAKF,sBAAL,CAA4BI,OAA5B,CAAoC,UAACC,IAAD,EAAU;UAC1C,IAAMC,cAAc,GAAGD,IAAI,KAAKF,QAAhC;;UACA,KAAI,CAACI,gBAAL,CAAsBF,IAAtB,EAA4BC,cAA5B;;UACA,KAAI,CAACE,cAAL,CAAoBH,IAApB,EAA0BC,cAA1B;QACH,CAJD;MAKH;IACJ;EAdL;IAAA;IAAA,OAeI,0BAAiBD,IAAjB,EAAuBI,UAAvB,EAAmC;MAC/B,IAAIJ,IAAI,YAAYV,cAApB,EAAoC;QAChCU,IAAI,CAACK,SAAL,GAAiB,CAACD,UAAlB;MACH;IACJ;IACD;AACJ;AACA;AACA;;EAvBA;IAAA;IAAA,OAwBI,2BAAkBE,IAAlB,EAAwB;MACpB,IAAIC,EAAJ,EAAQC,EAAR;;MACA,IAAIF,IAAI,CAACG,iBAAL,GAAyB,CAA7B,EAAgC;QAC5B,OAAOH,IAAI,CAACI,aAAL,CAAmB,SAAnB,CAAP;MACH,CAFD,MAGK,IAAI,CAACH,EAAE,GAAGD,IAAI,CAACK,UAAX,MAA2B,IAA3B,IAAmCJ,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACE,iBAAnE,EAAsF;QACvF,OAAO,CAACD,EAAE,GAAGF,IAAI,CAACK,UAAX,MAA2B,IAA3B,IAAmCH,EAAE,KAAK,KAAK,CAA/C,GAAmD,KAAK,CAAxD,GAA4DA,EAAE,CAACE,aAAH,CAAiB,SAAjB,CAAnE;MACH,CAFI,MAID,OAAO,IAAP;IACP;IACD;AACJ;AACA;AACA;AACA;;EAvCA;IAAA;IAAA,OAwCI,wBAAeV,IAAf,EAAqBI,UAArB,EAAiC;MAC7B,IAAMQ,iBAAiB,GAAG,KAAKC,iBAAL,CAAuBb,IAAvB,CAA1B;;MACA,IAAIY,iBAAiB,KAAK,IAAtB,IACAZ,IAAI,CAACc,YAAL,CAAkB,MAAlB,CADA,IAEAd,IAAI,YAAYV,cAFpB,EAEoC;QAChCc,UAAU,GACJJ,IAAI,CAACe,YAAL,CAAkB,cAAlB,EAAkC,MAAlC,CADI,GAEJf,IAAI,CAACgB,eAAL,CAAqB,cAArB,CAFN;MAGH,CAND,MAOK,IAAIJ,iBAAiB,KAAK,IAA1B,EAAgC;QACjCR,UAAU,GACJQ,iBAAiB,CAACG,YAAlB,CAA+B,cAA/B,EAA+C,MAA/C,CADI,GAEJH,iBAAiB,CAACI,eAAlB,CAAkC,cAAlC,CAFN;MAGH;IACJ;EAtDL;;EAAA;AAAA,EAAgCzB,iBAAhC;;AAwDAH,UAAU,CAAC,CACPC,UADO,CAAD,EAEPG,UAAU,CAACyB,SAFJ,EAEe,wBAFf,EAEyC,KAAK,CAF9C,CAAV"},"metadata":{},"sourceType":"module"}