{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { attr, observable, Observable } from \"@microsoft/fast-element\";\nimport { ArrowKeys, Direction, limit, Orientation } from \"@microsoft/fast-web-utilities\";\nimport { isFocusable } from \"tabbable\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\nimport { ARIAGlobalStatesAndProperties } from \"../patterns/aria-global.js\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { getDirection } from \"../utilities/direction.js\";\n/**\n * A map for directionality derived from keyboard input strings,\n * visual orientation, and text direction.\n *\n * @internal\n */\n\nconst ToolbarArrowKeyMap = Object.freeze({\n  [ArrowKeys.ArrowUp]: {\n    [Orientation.vertical]: -1\n  },\n  [ArrowKeys.ArrowDown]: {\n    [Orientation.vertical]: 1\n  },\n  [ArrowKeys.ArrowLeft]: {\n    [Orientation.horizontal]: {\n      [Direction.ltr]: -1,\n      [Direction.rtl]: 1\n    }\n  },\n  [ArrowKeys.ArrowRight]: {\n    [Orientation.horizontal]: {\n      [Direction.ltr]: 1,\n      [Direction.rtl]: -1\n    }\n  }\n});\n/**\n * A Toolbar Custom HTML Element.\n * Implements the {@link https://w3c.github.io/aria-practices/#Toolbar|ARIA Toolbar}.\n *\n * @slot start - Content which can be provided before the slotted items\n * @slot end - Content which can be provided after the slotted items\n * @slot - The default slot for slotted items\n * @slot label - The toolbar label\n * @csspart positioning-region - The element containing the items, start and end slots\n *\n * @public\n */\n\nexport class Toolbar extends FoundationElement {\n  constructor() {\n    super(...arguments);\n    /**\n     * The internal index of the currently focused element.\n     *\n     * @internal\n     */\n\n    this._activeIndex = 0;\n    /**\n     * The text direction of the toolbar.\n     *\n     * @internal\n     */\n\n    this.direction = Direction.ltr;\n    /**\n     * The orientation of the toolbar.\n     *\n     * @public\n     * @remarks\n     * HTML Attribute: `orientation`\n     */\n\n    this.orientation = Orientation.horizontal;\n  }\n  /**\n   * The index of the currently focused element, clamped between 0 and the last element.\n   *\n   * @internal\n   */\n\n\n  get activeIndex() {\n    Observable.track(this, \"activeIndex\");\n    return this._activeIndex;\n  }\n\n  set activeIndex(value) {\n    if (this.$fastController.isConnected) {\n      this._activeIndex = limit(0, this.focusableElements.length - 1, value);\n      Observable.notify(this, \"activeIndex\");\n    }\n  }\n\n  slottedItemsChanged() {\n    if (this.$fastController.isConnected) {\n      this.reduceFocusableElements();\n    }\n  }\n  /**\n   * Set the activeIndex when a focusable element in the toolbar is clicked.\n   *\n   * @internal\n   */\n\n\n  clickHandler(e) {\n    var _a;\n\n    const activeIndex = (_a = this.focusableElements) === null || _a === void 0 ? void 0 : _a.indexOf(e.target);\n\n    if (activeIndex > -1 && this.activeIndex !== activeIndex) {\n      this.setFocusedElement(activeIndex);\n    }\n\n    return true;\n  }\n\n  childItemsChanged(prev, next) {\n    if (this.$fastController.isConnected) {\n      this.reduceFocusableElements();\n    }\n  }\n  /**\n   * @internal\n   */\n\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.direction = getDirection(this);\n  }\n  /**\n   * When the toolbar receives focus, set the currently active element as focused.\n   *\n   * @internal\n   */\n\n\n  focusinHandler(e) {\n    const relatedTarget = e.relatedTarget;\n\n    if (!relatedTarget || this.contains(relatedTarget)) {\n      return;\n    }\n\n    this.setFocusedElement();\n  }\n  /**\n   * Determines a value that can be used to iterate a list with the arrow keys.\n   *\n   * @param this - An element with an orientation and direction\n   * @param key - The event key value\n   * @internal\n   */\n\n\n  getDirectionalIncrementer(key) {\n    var _a, _b, _c, _d, _e;\n\n    return (_e = (_c = (_b = (_a = ToolbarArrowKeyMap[key]) === null || _a === void 0 ? void 0 : _a[this.orientation]) === null || _b === void 0 ? void 0 : _b[this.direction]) !== null && _c !== void 0 ? _c : (_d = ToolbarArrowKeyMap[key]) === null || _d === void 0 ? void 0 : _d[this.orientation]) !== null && _e !== void 0 ? _e : 0;\n  }\n  /**\n   * Handle keyboard events for the toolbar.\n   *\n   * @internal\n   */\n\n\n  keydownHandler(e) {\n    const key = e.key;\n\n    if (!(key in ArrowKeys) || e.defaultPrevented || e.shiftKey) {\n      return true;\n    }\n\n    const incrementer = this.getDirectionalIncrementer(key);\n\n    if (!incrementer) {\n      return !e.target.closest(\"[role=radiogroup]\");\n    }\n\n    const nextIndex = this.activeIndex + incrementer;\n\n    if (this.focusableElements[nextIndex]) {\n      e.preventDefault();\n    }\n\n    this.setFocusedElement(nextIndex);\n    return true;\n  }\n  /**\n   * get all the slotted elements\n   * @internal\n   */\n\n\n  get allSlottedItems() {\n    return [...this.start.assignedElements(), ...this.slottedItems, ...this.end.assignedElements()];\n  }\n  /**\n   * Prepare the slotted elements which can be focusable.\n   *\n   * @internal\n   */\n\n\n  reduceFocusableElements() {\n    var _a;\n\n    const previousFocusedElement = (_a = this.focusableElements) === null || _a === void 0 ? void 0 : _a[this.activeIndex];\n    this.focusableElements = this.allSlottedItems.reduce(Toolbar.reduceFocusableItems, []); // If the previously active item is still focusable, adjust the active index to the\n    // index of that item.\n\n    const adjustedActiveIndex = this.focusableElements.indexOf(previousFocusedElement);\n    this.activeIndex = Math.max(0, adjustedActiveIndex);\n    this.setFocusableElements();\n  }\n  /**\n   * Set the activeIndex and focus the corresponding control.\n   *\n   * @param activeIndex - The new index to set\n   * @internal\n   */\n\n\n  setFocusedElement() {\n    let activeIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.activeIndex;\n\n    var _a;\n\n    this.activeIndex = activeIndex;\n    this.setFocusableElements();\n    (_a = this.focusableElements[this.activeIndex]) === null || _a === void 0 ? void 0 : _a.focus();\n  }\n  /**\n   * Reduce a collection to only its focusable elements.\n   *\n   * @param elements - Collection of elements to reduce\n   * @param element - The current element\n   *\n   * @internal\n   */\n\n\n  static reduceFocusableItems(elements, element) {\n    var _a, _b, _c, _d;\n\n    const isRoleRadio = element.getAttribute(\"role\") === \"radio\";\n    const isFocusableFastElement = (_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus;\n    const hasFocusableShadow = Array.from((_d = (_c = element.shadowRoot) === null || _c === void 0 ? void 0 : _c.querySelectorAll(\"*\")) !== null && _d !== void 0 ? _d : []).some(x => isFocusable(x));\n\n    if (!element.hasAttribute(\"disabled\") && !element.hasAttribute(\"hidden\") && (isFocusable(element) || isRoleRadio || isFocusableFastElement || hasFocusableShadow)) {\n      elements.push(element);\n      return elements;\n    }\n\n    if (element.childElementCount) {\n      return elements.concat(Array.from(element.children).reduce(Toolbar.reduceFocusableItems, []));\n    }\n\n    return elements;\n  }\n  /**\n   * @internal\n   */\n\n\n  setFocusableElements() {\n    if (this.$fastController.isConnected && this.focusableElements.length > 0) {\n      this.focusableElements.forEach((element, index) => {\n        element.tabIndex = this.activeIndex === index ? 0 : -1;\n      });\n    }\n  }\n\n}\n\n__decorate([observable], Toolbar.prototype, \"direction\", void 0);\n\n__decorate([attr], Toolbar.prototype, \"orientation\", void 0);\n\n__decorate([observable], Toolbar.prototype, \"slottedItems\", void 0);\n\n__decorate([observable], Toolbar.prototype, \"slottedLabel\", void 0);\n\n__decorate([observable], Toolbar.prototype, \"childItems\", void 0);\n/**\n * Includes ARIA states and properties relating to the ARIA toolbar role\n *\n * @public\n */\n\n\nexport class DelegatesARIAToolbar {}\n\n__decorate([attr({\n  attribute: \"aria-labelledby\"\n})], DelegatesARIAToolbar.prototype, \"ariaLabelledby\", void 0);\n\n__decorate([attr({\n  attribute: \"aria-label\"\n})], DelegatesARIAToolbar.prototype, \"ariaLabel\", void 0);\n\napplyMixins(DelegatesARIAToolbar, ARIAGlobalStatesAndProperties);\napplyMixins(Toolbar, StartEnd, DelegatesARIAToolbar);","map":{"version":3,"names":["__decorate","attr","observable","Observable","ArrowKeys","Direction","limit","Orientation","isFocusable","FoundationElement","ARIAGlobalStatesAndProperties","StartEnd","applyMixins","getDirection","ToolbarArrowKeyMap","Object","freeze","ArrowUp","vertical","ArrowDown","ArrowLeft","horizontal","ltr","rtl","ArrowRight","Toolbar","constructor","arguments","_activeIndex","direction","orientation","activeIndex","track","value","$fastController","isConnected","focusableElements","length","notify","slottedItemsChanged","reduceFocusableElements","clickHandler","e","_a","indexOf","target","setFocusedElement","childItemsChanged","prev","next","connectedCallback","focusinHandler","relatedTarget","contains","getDirectionalIncrementer","key","_b","_c","_d","_e","keydownHandler","defaultPrevented","shiftKey","incrementer","closest","nextIndex","preventDefault","allSlottedItems","start","assignedElements","slottedItems","end","previousFocusedElement","reduce","reduceFocusableItems","adjustedActiveIndex","Math","max","setFocusableElements","focus","elements","element","isRoleRadio","getAttribute","isFocusableFastElement","definition","shadowOptions","delegatesFocus","hasFocusableShadow","Array","from","shadowRoot","querySelectorAll","some","x","hasAttribute","push","childElementCount","concat","children","forEach","index","tabIndex","prototype","DelegatesARIAToolbar","attribute"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/toolbar/toolbar.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { attr, observable, Observable } from \"@microsoft/fast-element\";\nimport { ArrowKeys, Direction, limit, Orientation } from \"@microsoft/fast-web-utilities\";\nimport { isFocusable } from \"tabbable\";\nimport { FoundationElement, } from \"../foundation-element/foundation-element.js\";\nimport { ARIAGlobalStatesAndProperties } from \"../patterns/aria-global.js\";\nimport { StartEnd } from \"../patterns/start-end.js\";\nimport { applyMixins } from \"../utilities/apply-mixins.js\";\nimport { getDirection } from \"../utilities/direction.js\";\n/**\n * A map for directionality derived from keyboard input strings,\n * visual orientation, and text direction.\n *\n * @internal\n */\nconst ToolbarArrowKeyMap = Object.freeze({\n    [ArrowKeys.ArrowUp]: {\n        [Orientation.vertical]: -1,\n    },\n    [ArrowKeys.ArrowDown]: {\n        [Orientation.vertical]: 1,\n    },\n    [ArrowKeys.ArrowLeft]: {\n        [Orientation.horizontal]: {\n            [Direction.ltr]: -1,\n            [Direction.rtl]: 1,\n        },\n    },\n    [ArrowKeys.ArrowRight]: {\n        [Orientation.horizontal]: {\n            [Direction.ltr]: 1,\n            [Direction.rtl]: -1,\n        },\n    },\n});\n/**\n * A Toolbar Custom HTML Element.\n * Implements the {@link https://w3c.github.io/aria-practices/#Toolbar|ARIA Toolbar}.\n *\n * @slot start - Content which can be provided before the slotted items\n * @slot end - Content which can be provided after the slotted items\n * @slot - The default slot for slotted items\n * @slot label - The toolbar label\n * @csspart positioning-region - The element containing the items, start and end slots\n *\n * @public\n */\nexport class Toolbar extends FoundationElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * The internal index of the currently focused element.\n         *\n         * @internal\n         */\n        this._activeIndex = 0;\n        /**\n         * The text direction of the toolbar.\n         *\n         * @internal\n         */\n        this.direction = Direction.ltr;\n        /**\n         * The orientation of the toolbar.\n         *\n         * @public\n         * @remarks\n         * HTML Attribute: `orientation`\n         */\n        this.orientation = Orientation.horizontal;\n    }\n    /**\n     * The index of the currently focused element, clamped between 0 and the last element.\n     *\n     * @internal\n     */\n    get activeIndex() {\n        Observable.track(this, \"activeIndex\");\n        return this._activeIndex;\n    }\n    set activeIndex(value) {\n        if (this.$fastController.isConnected) {\n            this._activeIndex = limit(0, this.focusableElements.length - 1, value);\n            Observable.notify(this, \"activeIndex\");\n        }\n    }\n    slottedItemsChanged() {\n        if (this.$fastController.isConnected) {\n            this.reduceFocusableElements();\n        }\n    }\n    /**\n     * Set the activeIndex when a focusable element in the toolbar is clicked.\n     *\n     * @internal\n     */\n    clickHandler(e) {\n        var _a;\n        const activeIndex = (_a = this.focusableElements) === null || _a === void 0 ? void 0 : _a.indexOf(e.target);\n        if (activeIndex > -1 && this.activeIndex !== activeIndex) {\n            this.setFocusedElement(activeIndex);\n        }\n        return true;\n    }\n    childItemsChanged(prev, next) {\n        if (this.$fastController.isConnected) {\n            this.reduceFocusableElements();\n        }\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        this.direction = getDirection(this);\n    }\n    /**\n     * When the toolbar receives focus, set the currently active element as focused.\n     *\n     * @internal\n     */\n    focusinHandler(e) {\n        const relatedTarget = e.relatedTarget;\n        if (!relatedTarget || this.contains(relatedTarget)) {\n            return;\n        }\n        this.setFocusedElement();\n    }\n    /**\n     * Determines a value that can be used to iterate a list with the arrow keys.\n     *\n     * @param this - An element with an orientation and direction\n     * @param key - The event key value\n     * @internal\n     */\n    getDirectionalIncrementer(key) {\n        var _a, _b, _c, _d, _e;\n        return ((_e = (_c = (_b = (_a = ToolbarArrowKeyMap[key]) === null || _a === void 0 ? void 0 : _a[this.orientation]) === null || _b === void 0 ? void 0 : _b[this.direction]) !== null && _c !== void 0 ? _c : (_d = ToolbarArrowKeyMap[key]) === null || _d === void 0 ? void 0 : _d[this.orientation]) !== null && _e !== void 0 ? _e : 0);\n    }\n    /**\n     * Handle keyboard events for the toolbar.\n     *\n     * @internal\n     */\n    keydownHandler(e) {\n        const key = e.key;\n        if (!(key in ArrowKeys) || e.defaultPrevented || e.shiftKey) {\n            return true;\n        }\n        const incrementer = this.getDirectionalIncrementer(key);\n        if (!incrementer) {\n            return !e.target.closest(\"[role=radiogroup]\");\n        }\n        const nextIndex = this.activeIndex + incrementer;\n        if (this.focusableElements[nextIndex]) {\n            e.preventDefault();\n        }\n        this.setFocusedElement(nextIndex);\n        return true;\n    }\n    /**\n     * get all the slotted elements\n     * @internal\n     */\n    get allSlottedItems() {\n        return [\n            ...this.start.assignedElements(),\n            ...this.slottedItems,\n            ...this.end.assignedElements(),\n        ];\n    }\n    /**\n     * Prepare the slotted elements which can be focusable.\n     *\n     * @internal\n     */\n    reduceFocusableElements() {\n        var _a;\n        const previousFocusedElement = (_a = this.focusableElements) === null || _a === void 0 ? void 0 : _a[this.activeIndex];\n        this.focusableElements = this.allSlottedItems.reduce(Toolbar.reduceFocusableItems, []);\n        // If the previously active item is still focusable, adjust the active index to the\n        // index of that item.\n        const adjustedActiveIndex = this.focusableElements.indexOf(previousFocusedElement);\n        this.activeIndex = Math.max(0, adjustedActiveIndex);\n        this.setFocusableElements();\n    }\n    /**\n     * Set the activeIndex and focus the corresponding control.\n     *\n     * @param activeIndex - The new index to set\n     * @internal\n     */\n    setFocusedElement(activeIndex = this.activeIndex) {\n        var _a;\n        this.activeIndex = activeIndex;\n        this.setFocusableElements();\n        (_a = this.focusableElements[this.activeIndex]) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    /**\n     * Reduce a collection to only its focusable elements.\n     *\n     * @param elements - Collection of elements to reduce\n     * @param element - The current element\n     *\n     * @internal\n     */\n    static reduceFocusableItems(elements, element) {\n        var _a, _b, _c, _d;\n        const isRoleRadio = element.getAttribute(\"role\") === \"radio\";\n        const isFocusableFastElement = (_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus;\n        const hasFocusableShadow = Array.from((_d = (_c = element.shadowRoot) === null || _c === void 0 ? void 0 : _c.querySelectorAll(\"*\")) !== null && _d !== void 0 ? _d : []).some(x => isFocusable(x));\n        if (!element.hasAttribute(\"disabled\") &&\n            !element.hasAttribute(\"hidden\") &&\n            (isFocusable(element) ||\n                isRoleRadio ||\n                isFocusableFastElement ||\n                hasFocusableShadow)) {\n            elements.push(element);\n            return elements;\n        }\n        if (element.childElementCount) {\n            return elements.concat(Array.from(element.children).reduce(Toolbar.reduceFocusableItems, []));\n        }\n        return elements;\n    }\n    /**\n     * @internal\n     */\n    setFocusableElements() {\n        if (this.$fastController.isConnected && this.focusableElements.length > 0) {\n            this.focusableElements.forEach((element, index) => {\n                element.tabIndex = this.activeIndex === index ? 0 : -1;\n            });\n        }\n    }\n}\n__decorate([\n    observable\n], Toolbar.prototype, \"direction\", void 0);\n__decorate([\n    attr\n], Toolbar.prototype, \"orientation\", void 0);\n__decorate([\n    observable\n], Toolbar.prototype, \"slottedItems\", void 0);\n__decorate([\n    observable\n], Toolbar.prototype, \"slottedLabel\", void 0);\n__decorate([\n    observable\n], Toolbar.prototype, \"childItems\", void 0);\n/**\n * Includes ARIA states and properties relating to the ARIA toolbar role\n *\n * @public\n */\nexport class DelegatesARIAToolbar {\n}\n__decorate([\n    attr({ attribute: \"aria-labelledby\" })\n], DelegatesARIAToolbar.prototype, \"ariaLabelledby\", void 0);\n__decorate([\n    attr({ attribute: \"aria-label\" })\n], DelegatesARIAToolbar.prototype, \"ariaLabel\", void 0);\napplyMixins(DelegatesARIAToolbar, ARIAGlobalStatesAndProperties);\napplyMixins(Toolbar, StartEnd, DelegatesARIAToolbar);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}