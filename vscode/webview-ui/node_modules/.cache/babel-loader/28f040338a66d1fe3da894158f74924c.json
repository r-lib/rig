{"ast":null,"code":"import { canUseDOM } from \"exenv-es6\";\nimport { Direction } from \"./localization.js\";\n/**\n * Standardize left scroll conversion when direction is rtl\n * inspired by\n * https://github.com/alitaheri/normalize-scroll-left\n */\n\nexport class RtlScrollConverter {\n  /**\n   *  Gets the scrollLeft value of the provided element\n   */\n  static getScrollLeft(scrolledElement, direction) {\n    if (direction === Direction.rtl) {\n      return RtlScrollConverter.getRtlScrollLeftConverter(scrolledElement);\n    }\n\n    return scrolledElement.scrollLeft;\n  }\n  /**\n   * Sets the scrollLeft value of the provided element\n   */\n\n\n  static setScrollLeft(scrolledElement, scrollValue, direction) {\n    if (direction === Direction.rtl) {\n      RtlScrollConverter.setRtlScrollLeftConverter(scrolledElement, scrollValue);\n      return;\n    }\n\n    scrolledElement.scrollLeft = scrollValue;\n  }\n  /**\n   * The initial rtl scroll converter getter function, it calls the browser test to set the correct converter\n   * functions and then invokes the getter\n   */\n\n\n  static initialGetRtlScrollConverter(scrolledElement) {\n    RtlScrollConverter.initializeRtlScrollConverters();\n    return RtlScrollConverter.getRtlScrollLeftConverter(scrolledElement);\n  }\n  /**\n   * The \"direct\" rtl get scroll converter does not need to tamper with the scrollLeft\n   * values as the browser is already doing the right thing.  Content start = 0 and\n   * scrolling left goes negative.\n   */\n\n\n  static directGetRtlScrollConverter(scrolledElement) {\n    return scrolledElement.scrollLeft;\n  }\n  /**\n   * The \"inverted\" get scroll converter is used when the browser reports scroll left\n   * as a positive maximum scroll value at content start and then goes to zero as content\n   * is scrolled left\n   */\n\n\n  static invertedGetRtlScrollConverter(scrolledElement) {\n    return -Math.abs(scrolledElement.scrollLeft);\n  }\n  /**\n   * The \"reverse\" get scroll converter is used when the browser reports scroll left\n   * as 0 at content start and then goes positive as content is scrolled left\n   */\n\n\n  static reverseGetRtlScrollConverter(scrolledElement) {\n    return scrolledElement.scrollLeft - (scrolledElement.scrollWidth - scrolledElement.clientWidth);\n  }\n  /**\n   * The initial rtl scroll converter setter function, it calls the browser test to set the correct converter\n   * functions and then invokes the setter\n   */\n\n\n  static initialSetRtlScrollConverter(scrolledElement, newScrollValue) {\n    RtlScrollConverter.initializeRtlScrollConverters();\n    RtlScrollConverter.setRtlScrollLeftConverter(scrolledElement, newScrollValue);\n  }\n  /**\n   * The \"direct\" rtl set scroll converter does not need to tamper with the scrollLeft\n   * values as the browser is already doing the right thing.  Content start = 0 and\n   * scrolling left goes negative.\n   */\n\n\n  static directSetRtlScrollConverter(scrolledElement, newScrollValue) {\n    scrolledElement.scrollLeft = newScrollValue;\n  }\n  /**\n   * The \"inverted\" set scroll converter is used when the browser reports scroll left\n   * as a positive maximum scroll value at content start and then goes to zero as content\n   * is scrolled left\n   */\n\n\n  static invertedSetRtlScrollConverter(scrolledElement, newScrollValue) {\n    scrolledElement.scrollLeft = Math.abs(newScrollValue);\n  }\n  /**\n   * The \"reverse\" set scroll converter is used when the browser reports scroll left\n   * as 0 at content start and then goes positive as content is scrolled left\n   */\n\n\n  static reverseSetRtlScrollConverter(scrolledElement, newScrollValue) {\n    const maxScroll = scrolledElement.scrollWidth - scrolledElement.clientWidth;\n    scrolledElement.scrollLeft = maxScroll + newScrollValue;\n  }\n  /**\n   * detects the appropriate rtl scroll converter functions and assigns them\n   * should only run once\n   */\n\n\n  static initializeRtlScrollConverters() {\n    if (!canUseDOM()) {\n      RtlScrollConverter.applyDirectScrollConverters();\n      return;\n    }\n\n    const testElement = RtlScrollConverter.getTestElement();\n    document.body.appendChild(testElement);\n    RtlScrollConverter.checkForScrollType(testElement);\n    document.body.removeChild(testElement);\n  }\n  /**\n   * checks the provided test element to determine scroll type\n   * and apply appropriate converters\n   */\n\n\n  static checkForScrollType(testElement) {\n    if (RtlScrollConverter.isReverse(testElement)) {\n      RtlScrollConverter.applyReverseScrollConverters();\n    } else {\n      if (RtlScrollConverter.isDirect(testElement)) {\n        RtlScrollConverter.applyDirectScrollConverters();\n      } else {\n        RtlScrollConverter.applyInvertedScrollConverters();\n      }\n    }\n  }\n  /**\n   * checks test element initial state for rtl \"reverse\" mode\n   */\n\n\n  static isReverse(testElement) {\n    return testElement.scrollLeft > 0;\n  }\n  /**\n   * checks test element for rtl \"direct\" mode\n   */\n\n\n  static isDirect(testElement) {\n    testElement.scrollLeft = -1;\n    return testElement.scrollLeft < 0;\n  }\n  /**\n   * apply direct scroll conververters\n   */\n\n\n  static applyDirectScrollConverters() {\n    RtlScrollConverter.setRtlScrollLeftConverter = RtlScrollConverter.directSetRtlScrollConverter;\n    RtlScrollConverter.getRtlScrollLeftConverter = RtlScrollConverter.directGetRtlScrollConverter;\n  }\n  /**\n   * apply inverted scroll conververters\n   */\n\n\n  static applyInvertedScrollConverters() {\n    RtlScrollConverter.setRtlScrollLeftConverter = RtlScrollConverter.invertedSetRtlScrollConverter;\n    RtlScrollConverter.getRtlScrollLeftConverter = RtlScrollConverter.invertedGetRtlScrollConverter;\n  }\n  /**\n   * apply reverse scroll conververters\n   */\n\n\n  static applyReverseScrollConverters() {\n    RtlScrollConverter.setRtlScrollLeftConverter = RtlScrollConverter.reverseSetRtlScrollConverter;\n    RtlScrollConverter.getRtlScrollLeftConverter = RtlScrollConverter.reverseGetRtlScrollConverter;\n  }\n  /**\n   * generate a test element for rtl testing\n   */\n\n\n  static getTestElement() {\n    const testElement = document.createElement(\"div\");\n    testElement.appendChild(document.createTextNode(\"ABCD\"));\n    testElement.dir = \"rtl\";\n    testElement.style.fontSize = \"14px\";\n    testElement.style.width = \"4px\";\n    testElement.style.height = \"1px\";\n    testElement.style.position = \"absolute\";\n    testElement.style.top = \"-1000px\";\n    testElement.style.overflow = \"scroll\";\n    return testElement;\n  }\n\n}\n/**\n * This variable holds the appropriate converter function to get the scrollLeft value\n * The functions initially assigned triggers a browser check when called which sets\n * the correct converter based on browser and then invokes it\n */\n\nRtlScrollConverter.getRtlScrollLeftConverter = RtlScrollConverter.initialGetRtlScrollConverter;\n/**\n * This variable holds the appropriate converter function to set the scrollLeft value\n * The functions initially assigned triggers a browser check when called which sets\n * the correct function based on browser and then invokes it\n */\n\nRtlScrollConverter.setRtlScrollLeftConverter = RtlScrollConverter.initialSetRtlScrollConverter;","map":{"version":3,"names":["canUseDOM","Direction","RtlScrollConverter","getScrollLeft","scrolledElement","direction","rtl","getRtlScrollLeftConverter","scrollLeft","setScrollLeft","scrollValue","setRtlScrollLeftConverter","initialGetRtlScrollConverter","initializeRtlScrollConverters","directGetRtlScrollConverter","invertedGetRtlScrollConverter","Math","abs","reverseGetRtlScrollConverter","scrollWidth","clientWidth","initialSetRtlScrollConverter","newScrollValue","directSetRtlScrollConverter","invertedSetRtlScrollConverter","reverseSetRtlScrollConverter","maxScroll","applyDirectScrollConverters","testElement","getTestElement","document","body","appendChild","checkForScrollType","removeChild","isReverse","applyReverseScrollConverters","isDirect","applyInvertedScrollConverters","createElement","createTextNode","dir","style","fontSize","width","height","position","top","overflow"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-web-utilities/dist/rtl-scroll-converter.js"],"sourcesContent":["import { canUseDOM } from \"exenv-es6\";\nimport { Direction } from \"./localization.js\";\n/**\n * Standardize left scroll conversion when direction is rtl\n * inspired by\n * https://github.com/alitaheri/normalize-scroll-left\n */\nexport class RtlScrollConverter {\n    /**\n     *  Gets the scrollLeft value of the provided element\n     */\n    static getScrollLeft(scrolledElement, direction) {\n        if (direction === Direction.rtl) {\n            return RtlScrollConverter.getRtlScrollLeftConverter(scrolledElement);\n        }\n        return scrolledElement.scrollLeft;\n    }\n    /**\n     * Sets the scrollLeft value of the provided element\n     */\n    static setScrollLeft(scrolledElement, scrollValue, direction) {\n        if (direction === Direction.rtl) {\n            RtlScrollConverter.setRtlScrollLeftConverter(scrolledElement, scrollValue);\n            return;\n        }\n        scrolledElement.scrollLeft = scrollValue;\n    }\n    /**\n     * The initial rtl scroll converter getter function, it calls the browser test to set the correct converter\n     * functions and then invokes the getter\n     */\n    static initialGetRtlScrollConverter(scrolledElement) {\n        RtlScrollConverter.initializeRtlScrollConverters();\n        return RtlScrollConverter.getRtlScrollLeftConverter(scrolledElement);\n    }\n    /**\n     * The \"direct\" rtl get scroll converter does not need to tamper with the scrollLeft\n     * values as the browser is already doing the right thing.  Content start = 0 and\n     * scrolling left goes negative.\n     */\n    static directGetRtlScrollConverter(scrolledElement) {\n        return scrolledElement.scrollLeft;\n    }\n    /**\n     * The \"inverted\" get scroll converter is used when the browser reports scroll left\n     * as a positive maximum scroll value at content start and then goes to zero as content\n     * is scrolled left\n     */\n    static invertedGetRtlScrollConverter(scrolledElement) {\n        return -Math.abs(scrolledElement.scrollLeft);\n    }\n    /**\n     * The \"reverse\" get scroll converter is used when the browser reports scroll left\n     * as 0 at content start and then goes positive as content is scrolled left\n     */\n    static reverseGetRtlScrollConverter(scrolledElement) {\n        return (scrolledElement.scrollLeft -\n            (scrolledElement.scrollWidth - scrolledElement.clientWidth));\n    }\n    /**\n     * The initial rtl scroll converter setter function, it calls the browser test to set the correct converter\n     * functions and then invokes the setter\n     */\n    static initialSetRtlScrollConverter(scrolledElement, newScrollValue) {\n        RtlScrollConverter.initializeRtlScrollConverters();\n        RtlScrollConverter.setRtlScrollLeftConverter(scrolledElement, newScrollValue);\n    }\n    /**\n     * The \"direct\" rtl set scroll converter does not need to tamper with the scrollLeft\n     * values as the browser is already doing the right thing.  Content start = 0 and\n     * scrolling left goes negative.\n     */\n    static directSetRtlScrollConverter(scrolledElement, newScrollValue) {\n        scrolledElement.scrollLeft = newScrollValue;\n    }\n    /**\n     * The \"inverted\" set scroll converter is used when the browser reports scroll left\n     * as a positive maximum scroll value at content start and then goes to zero as content\n     * is scrolled left\n     */\n    static invertedSetRtlScrollConverter(scrolledElement, newScrollValue) {\n        scrolledElement.scrollLeft = Math.abs(newScrollValue);\n    }\n    /**\n     * The \"reverse\" set scroll converter is used when the browser reports scroll left\n     * as 0 at content start and then goes positive as content is scrolled left\n     */\n    static reverseSetRtlScrollConverter(scrolledElement, newScrollValue) {\n        const maxScroll = scrolledElement.scrollWidth - scrolledElement.clientWidth;\n        scrolledElement.scrollLeft = maxScroll + newScrollValue;\n    }\n    /**\n     * detects the appropriate rtl scroll converter functions and assigns them\n     * should only run once\n     */\n    static initializeRtlScrollConverters() {\n        if (!canUseDOM()) {\n            RtlScrollConverter.applyDirectScrollConverters();\n            return;\n        }\n        const testElement = RtlScrollConverter.getTestElement();\n        document.body.appendChild(testElement);\n        RtlScrollConverter.checkForScrollType(testElement);\n        document.body.removeChild(testElement);\n    }\n    /**\n     * checks the provided test element to determine scroll type\n     * and apply appropriate converters\n     */\n    static checkForScrollType(testElement) {\n        if (RtlScrollConverter.isReverse(testElement)) {\n            RtlScrollConverter.applyReverseScrollConverters();\n        }\n        else {\n            if (RtlScrollConverter.isDirect(testElement)) {\n                RtlScrollConverter.applyDirectScrollConverters();\n            }\n            else {\n                RtlScrollConverter.applyInvertedScrollConverters();\n            }\n        }\n    }\n    /**\n     * checks test element initial state for rtl \"reverse\" mode\n     */\n    static isReverse(testElement) {\n        return testElement.scrollLeft > 0;\n    }\n    /**\n     * checks test element for rtl \"direct\" mode\n     */\n    static isDirect(testElement) {\n        testElement.scrollLeft = -1;\n        return testElement.scrollLeft < 0;\n    }\n    /**\n     * apply direct scroll conververters\n     */\n    static applyDirectScrollConverters() {\n        RtlScrollConverter.setRtlScrollLeftConverter =\n            RtlScrollConverter.directSetRtlScrollConverter;\n        RtlScrollConverter.getRtlScrollLeftConverter =\n            RtlScrollConverter.directGetRtlScrollConverter;\n    }\n    /**\n     * apply inverted scroll conververters\n     */\n    static applyInvertedScrollConverters() {\n        RtlScrollConverter.setRtlScrollLeftConverter =\n            RtlScrollConverter.invertedSetRtlScrollConverter;\n        RtlScrollConverter.getRtlScrollLeftConverter =\n            RtlScrollConverter.invertedGetRtlScrollConverter;\n    }\n    /**\n     * apply reverse scroll conververters\n     */\n    static applyReverseScrollConverters() {\n        RtlScrollConverter.setRtlScrollLeftConverter =\n            RtlScrollConverter.reverseSetRtlScrollConverter;\n        RtlScrollConverter.getRtlScrollLeftConverter =\n            RtlScrollConverter.reverseGetRtlScrollConverter;\n    }\n    /**\n     * generate a test element for rtl testing\n     */\n    static getTestElement() {\n        const testElement = document.createElement(\"div\");\n        testElement.appendChild(document.createTextNode(\"ABCD\"));\n        testElement.dir = \"rtl\";\n        testElement.style.fontSize = \"14px\";\n        testElement.style.width = \"4px\";\n        testElement.style.height = \"1px\";\n        testElement.style.position = \"absolute\";\n        testElement.style.top = \"-1000px\";\n        testElement.style.overflow = \"scroll\";\n        return testElement;\n    }\n}\n/**\n * This variable holds the appropriate converter function to get the scrollLeft value\n * The functions initially assigned triggers a browser check when called which sets\n * the correct converter based on browser and then invokes it\n */\nRtlScrollConverter.getRtlScrollLeftConverter = RtlScrollConverter.initialGetRtlScrollConverter;\n/**\n * This variable holds the appropriate converter function to set the scrollLeft value\n * The functions initially assigned triggers a browser check when called which sets\n * the correct function based on browser and then invokes it\n */\nRtlScrollConverter.setRtlScrollLeftConverter = RtlScrollConverter.initialSetRtlScrollConverter;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}