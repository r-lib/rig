{"ast":null,"code":"import _toConsumableArray from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _get from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { DOM } from \"../dom.js\";\n/**\n * Represents styles that can be applied to a custom element.\n * @public\n */\n\nexport var ElementStyles = /*#__PURE__*/function () {\n  function ElementStyles() {\n    _classCallCheck(this, ElementStyles);\n\n    this.targets = new WeakSet();\n  }\n  /** @internal */\n\n\n  _createClass(ElementStyles, [{\n    key: \"addStylesTo\",\n    value: function addStylesTo(target) {\n      this.targets.add(target);\n    }\n    /** @internal */\n\n  }, {\n    key: \"removeStylesFrom\",\n    value: function removeStylesFrom(target) {\n      this.targets.delete(target);\n    }\n    /** @internal */\n\n  }, {\n    key: \"isAttachedTo\",\n    value: function isAttachedTo(target) {\n      return this.targets.has(target);\n    }\n    /**\n     * Associates behaviors with this set of styles.\n     * @param behaviors - The behaviors to associate.\n     */\n\n  }, {\n    key: \"withBehaviors\",\n    value: function withBehaviors() {\n      for (var _len = arguments.length, behaviors = new Array(_len), _key = 0; _key < _len; _key++) {\n        behaviors[_key] = arguments[_key];\n      }\n\n      this.behaviors = this.behaviors === null ? behaviors : this.behaviors.concat(behaviors);\n      return this;\n    }\n  }]);\n\n  return ElementStyles;\n}();\n/**\n * Create ElementStyles from ComposableStyles.\n */\n\nElementStyles.create = function () {\n  if (DOM.supportsAdoptedStyleSheets) {\n    var styleSheetCache = new Map();\n    return function (styles) {\n      return (// eslint-disable-next-line @typescript-eslint/no-use-before-define\n        new AdoptedStyleSheetsStyles(styles, styleSheetCache)\n      );\n    };\n  } // eslint-disable-next-line @typescript-eslint/no-use-before-define\n\n\n  return function (styles) {\n    return new StyleElementStyles(styles);\n  };\n}();\n\nfunction reduceStyles(styles) {\n  return styles.map(function (x) {\n    return x instanceof ElementStyles ? reduceStyles(x.styles) : [x];\n  }).reduce(function (prev, curr) {\n    return prev.concat(curr);\n  }, []);\n}\n\nfunction reduceBehaviors(styles) {\n  return styles.map(function (x) {\n    return x instanceof ElementStyles ? x.behaviors : null;\n  }).reduce(function (prev, curr) {\n    if (curr === null) {\n      return prev;\n    }\n\n    if (prev === null) {\n      prev = [];\n    }\n\n    return prev.concat(curr);\n  }, null);\n}\n/**\n * https://wicg.github.io/construct-stylesheets/\n * https://developers.google.com/web/updates/2019/02/constructable-stylesheets\n *\n * @internal\n */\n\n\nexport var AdoptedStyleSheetsStyles = /*#__PURE__*/function (_ElementStyles) {\n  _inherits(AdoptedStyleSheetsStyles, _ElementStyles);\n\n  var _super = _createSuper(AdoptedStyleSheetsStyles);\n\n  function AdoptedStyleSheetsStyles(styles, styleSheetCache) {\n    var _this;\n\n    _classCallCheck(this, AdoptedStyleSheetsStyles);\n\n    _this = _super.call(this);\n    _this.styles = styles;\n    _this.styleSheetCache = styleSheetCache;\n    _this._styleSheets = void 0;\n    _this.behaviors = reduceBehaviors(styles);\n    return _this;\n  }\n\n  _createClass(AdoptedStyleSheetsStyles, [{\n    key: \"styleSheets\",\n    get: function get() {\n      if (this._styleSheets === void 0) {\n        var styles = this.styles;\n        var styleSheetCache = this.styleSheetCache;\n        this._styleSheets = reduceStyles(styles).map(function (x) {\n          if (x instanceof CSSStyleSheet) {\n            return x;\n          }\n\n          var sheet = styleSheetCache.get(x);\n\n          if (sheet === void 0) {\n            sheet = new CSSStyleSheet();\n            sheet.replaceSync(x);\n            styleSheetCache.set(x, sheet);\n          }\n\n          return sheet;\n        });\n      }\n\n      return this._styleSheets;\n    }\n  }, {\n    key: \"addStylesTo\",\n    value: function addStylesTo(target) {\n      target.adoptedStyleSheets = [].concat(_toConsumableArray(target.adoptedStyleSheets), _toConsumableArray(this.styleSheets));\n\n      _get(_getPrototypeOf(AdoptedStyleSheetsStyles.prototype), \"addStylesTo\", this).call(this, target);\n    }\n  }, {\n    key: \"removeStylesFrom\",\n    value: function removeStylesFrom(target) {\n      var sourceSheets = this.styleSheets;\n      target.adoptedStyleSheets = target.adoptedStyleSheets.filter(function (x) {\n        return sourceSheets.indexOf(x) === -1;\n      });\n\n      _get(_getPrototypeOf(AdoptedStyleSheetsStyles.prototype), \"removeStylesFrom\", this).call(this, target);\n    }\n  }]);\n\n  return AdoptedStyleSheetsStyles;\n}(ElementStyles);\nvar styleClassId = 0;\n\nfunction getNextStyleClass() {\n  return \"fast-style-class-\".concat(++styleClassId);\n}\n/**\n * @internal\n */\n\n\nexport var StyleElementStyles = /*#__PURE__*/function (_ElementStyles2) {\n  _inherits(StyleElementStyles, _ElementStyles2);\n\n  var _super2 = _createSuper(StyleElementStyles);\n\n  function StyleElementStyles(styles) {\n    var _this2;\n\n    _classCallCheck(this, StyleElementStyles);\n\n    _this2 = _super2.call(this);\n    _this2.styles = styles;\n    _this2.behaviors = null;\n    _this2.behaviors = reduceBehaviors(styles);\n    _this2.styleSheets = reduceStyles(styles);\n    _this2.styleClass = getNextStyleClass();\n    return _this2;\n  }\n\n  _createClass(StyleElementStyles, [{\n    key: \"addStylesTo\",\n    value: function addStylesTo(target) {\n      var styleSheets = this.styleSheets;\n      var styleClass = this.styleClass;\n      target = this.normalizeTarget(target);\n\n      for (var i = 0; i < styleSheets.length; i++) {\n        var element = document.createElement(\"style\");\n        element.innerHTML = styleSheets[i];\n        element.className = styleClass;\n        target.append(element);\n      }\n\n      _get(_getPrototypeOf(StyleElementStyles.prototype), \"addStylesTo\", this).call(this, target);\n    }\n  }, {\n    key: \"removeStylesFrom\",\n    value: function removeStylesFrom(target) {\n      target = this.normalizeTarget(target);\n      var styles = target.querySelectorAll(\".\".concat(this.styleClass));\n\n      for (var i = 0, ii = styles.length; i < ii; ++i) {\n        target.removeChild(styles[i]);\n      }\n\n      _get(_getPrototypeOf(StyleElementStyles.prototype), \"removeStylesFrom\", this).call(this, target);\n    }\n  }, {\n    key: \"isAttachedTo\",\n    value: function isAttachedTo(target) {\n      return _get(_getPrototypeOf(StyleElementStyles.prototype), \"isAttachedTo\", this).call(this, this.normalizeTarget(target));\n    }\n  }, {\n    key: \"normalizeTarget\",\n    value: function normalizeTarget(target) {\n      return target === document ? document.body : target;\n    }\n  }]);\n\n  return StyleElementStyles;\n}(ElementStyles);","map":{"version":3,"names":["DOM","ElementStyles","targets","WeakSet","target","add","delete","has","behaviors","concat","create","supportsAdoptedStyleSheets","styleSheetCache","Map","styles","AdoptedStyleSheetsStyles","StyleElementStyles","reduceStyles","map","x","reduce","prev","curr","reduceBehaviors","_styleSheets","CSSStyleSheet","sheet","get","replaceSync","set","adoptedStyleSheets","styleSheets","sourceSheets","filter","indexOf","styleClassId","getNextStyleClass","styleClass","normalizeTarget","i","length","element","document","createElement","innerHTML","className","append","querySelectorAll","ii","removeChild","body"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-element/dist/esm/styles/element-styles.js"],"sourcesContent":["import { DOM } from \"../dom.js\";\n/**\n * Represents styles that can be applied to a custom element.\n * @public\n */\nexport class ElementStyles {\n    constructor() {\n        this.targets = new WeakSet();\n    }\n    /** @internal */\n    addStylesTo(target) {\n        this.targets.add(target);\n    }\n    /** @internal */\n    removeStylesFrom(target) {\n        this.targets.delete(target);\n    }\n    /** @internal */\n    isAttachedTo(target) {\n        return this.targets.has(target);\n    }\n    /**\n     * Associates behaviors with this set of styles.\n     * @param behaviors - The behaviors to associate.\n     */\n    withBehaviors(...behaviors) {\n        this.behaviors =\n            this.behaviors === null ? behaviors : this.behaviors.concat(behaviors);\n        return this;\n    }\n}\n/**\n * Create ElementStyles from ComposableStyles.\n */\nElementStyles.create = (() => {\n    if (DOM.supportsAdoptedStyleSheets) {\n        const styleSheetCache = new Map();\n        return (styles) => \n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        new AdoptedStyleSheetsStyles(styles, styleSheetCache);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    return (styles) => new StyleElementStyles(styles);\n})();\nfunction reduceStyles(styles) {\n    return styles\n        .map((x) => x instanceof ElementStyles ? reduceStyles(x.styles) : [x])\n        .reduce((prev, curr) => prev.concat(curr), []);\n}\nfunction reduceBehaviors(styles) {\n    return styles\n        .map((x) => (x instanceof ElementStyles ? x.behaviors : null))\n        .reduce((prev, curr) => {\n        if (curr === null) {\n            return prev;\n        }\n        if (prev === null) {\n            prev = [];\n        }\n        return prev.concat(curr);\n    }, null);\n}\n/**\n * https://wicg.github.io/construct-stylesheets/\n * https://developers.google.com/web/updates/2019/02/constructable-stylesheets\n *\n * @internal\n */\nexport class AdoptedStyleSheetsStyles extends ElementStyles {\n    constructor(styles, styleSheetCache) {\n        super();\n        this.styles = styles;\n        this.styleSheetCache = styleSheetCache;\n        this._styleSheets = void 0;\n        this.behaviors = reduceBehaviors(styles);\n    }\n    get styleSheets() {\n        if (this._styleSheets === void 0) {\n            const styles = this.styles;\n            const styleSheetCache = this.styleSheetCache;\n            this._styleSheets = reduceStyles(styles).map((x) => {\n                if (x instanceof CSSStyleSheet) {\n                    return x;\n                }\n                let sheet = styleSheetCache.get(x);\n                if (sheet === void 0) {\n                    sheet = new CSSStyleSheet();\n                    sheet.replaceSync(x);\n                    styleSheetCache.set(x, sheet);\n                }\n                return sheet;\n            });\n        }\n        return this._styleSheets;\n    }\n    addStylesTo(target) {\n        target.adoptedStyleSheets = [...target.adoptedStyleSheets, ...this.styleSheets];\n        super.addStylesTo(target);\n    }\n    removeStylesFrom(target) {\n        const sourceSheets = this.styleSheets;\n        target.adoptedStyleSheets = target.adoptedStyleSheets.filter((x) => sourceSheets.indexOf(x) === -1);\n        super.removeStylesFrom(target);\n    }\n}\nlet styleClassId = 0;\nfunction getNextStyleClass() {\n    return `fast-style-class-${++styleClassId}`;\n}\n/**\n * @internal\n */\nexport class StyleElementStyles extends ElementStyles {\n    constructor(styles) {\n        super();\n        this.styles = styles;\n        this.behaviors = null;\n        this.behaviors = reduceBehaviors(styles);\n        this.styleSheets = reduceStyles(styles);\n        this.styleClass = getNextStyleClass();\n    }\n    addStylesTo(target) {\n        const styleSheets = this.styleSheets;\n        const styleClass = this.styleClass;\n        target = this.normalizeTarget(target);\n        for (let i = 0; i < styleSheets.length; i++) {\n            const element = document.createElement(\"style\");\n            element.innerHTML = styleSheets[i];\n            element.className = styleClass;\n            target.append(element);\n        }\n        super.addStylesTo(target);\n    }\n    removeStylesFrom(target) {\n        target = this.normalizeTarget(target);\n        const styles = target.querySelectorAll(`.${this.styleClass}`);\n        for (let i = 0, ii = styles.length; i < ii; ++i) {\n            target.removeChild(styles[i]);\n        }\n        super.removeStylesFrom(target);\n    }\n    isAttachedTo(target) {\n        return super.isAttachedTo(this.normalizeTarget(target));\n    }\n    normalizeTarget(target) {\n        return target === document ? document.body : target;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}