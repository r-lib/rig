{"ast":null,"code":"var _jsxFileName = \"/Users/gaborcsardi/works/rig/vscode/webview-ui/src/App.tsx\",\n    _s = $RefreshSig$();\n\nimport { vscode } from \"./utilities/vscode\";\nimport { VSCodeButton, VSCodeTextField } from \"@vscode/webview-ui-toolkit/react\";\nimport { useState, useCallback, useEffect } from 'react';\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n;\n\nfunction RVersionList() {\n  _s();\n\n  const [versions, setVersions] = useState();\n  const listener = useCallback(event => {\n    const message = event.data;\n\n    switch (message.command) {\n      case 'versions':\n        setVersions(message.data);\n        break;\n    }\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"message\", listener);\n    return () => {\n      window.removeEventListener(\"message\", listener);\n    };\n  }, [listener]);\n  const listItems = versions === null || versions === void 0 ? void 0 : versions.map(v => /*#__PURE__*/_jsxDEV(\"li\", {\n    children: /*#__PURE__*/_jsxDEV(RVersion, { ...v\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this)\n  }, v.name, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    children: listItems\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RVersionList, \"0Z8FfkytN/NiLeXfPqp+3kXK4o0=\");\n\n_c = RVersionList;\n\nfunction RVersion(version) {\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [version.default ? \"✅\" : \"\", \" \", version.name, \" (R \", version.version, \")\"]\n  }, void 0, true);\n}\n\n_c2 = RVersion;\n\nfunction App() {\n  function refreshClick() {\n    vscode.postMessage({\n      command: \"refresh\"\n    });\n  }\n\n  function installClick() {\n    vscode.postMessage({\n      command: \"install\",\n      version: \"release\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Installalled R versions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(RVersionList, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(VSCodeButton, {\n        onClick: refreshClick,\n        children: \"Refresh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Install another R version\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VSCodeTextField, {\n      children: \"Version\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VSCodeButton, {\n      onClick: installClick,\n      children: \"Install\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_c3 = App;\nexport default App;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"RVersionList\");\n$RefreshReg$(_c2, \"RVersion\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["vscode","VSCodeButton","VSCodeTextField","useState","useCallback","useEffect","RVersionList","versions","setVersions","listener","event","message","data","command","window","addEventListener","removeEventListener","listItems","map","v","name","RVersion","version","default","App","refreshClick","postMessage","installClick"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/src/App.tsx"],"sourcesContent":["import { vscode } from \"./utilities/vscode\";\nimport { VSCodeButton, VSCodeTextField } from \"@vscode/webview-ui-toolkit/react\";\nimport { useState, useCallback, useEffect } from 'react';\nimport \"./App.css\";\n\ninterface IRVersion {\n  name: string;\n  default: boolean;\n  version: string;\n  aliases: Array<string>;\n  path: string;\n};\n\nfunction RVersionList() {\n  const [versions, setVersions] = useState<Array<IRVersion>>();\n\n  const listener = useCallback(event => {\n    const message = event.data;\n    switch (message.command) {\n    case 'versions':\n      setVersions(message.data);\n      break;\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"message\", listener);\n    return () => {\n        window.removeEventListener(\"message\", listener);\n    };\n  }, [listener]);\n\n  const listItems = versions?.map(v =>\n    <li key={v.name}>\n      <RVersion {...v} />\n    </li>\n  );\n\n  return (\n    <ul>{listItems}</ul>\n  );\n}\n\n function RVersion(version: IRVersion) {\n   return <>\n     {version.default ? \"✅\" : \"\"} {version.name} (R {version.version})\n   </>\n }\n\nfunction App() {\n  function refreshClick() {\n    vscode.postMessage({\n      command: \"refresh\"\n    });\n  }\n\n  function installClick() {\n    vscode.postMessage({\n      command: \"install\",\n      version: \"release\"\n    });\n  }\n\n  return (\n    <main>\n      <h1>Installalled R versions</h1>\n      <div>\n        <RVersionList />\n        <VSCodeButton onClick={refreshClick}>Refresh</VSCodeButton>\n      </div>\n      <h1>Install another R version</h1>\n      <VSCodeTextField>Version</VSCodeTextField>\n      <VSCodeButton onClick={installClick}>Install</VSCodeButton>\n    </main>\n  );\n}\n\nexport default App;\n"],"mappings":";;;AAAA,SAASA,MAAT,QAAuB,oBAAvB;AACA,SAASC,YAAT,EAAuBC,eAAvB,QAA8C,kCAA9C;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,SAAhC,QAAiD,OAAjD;AACA,OAAO,WAAP;;;AAQC;;AAED,SAASC,YAAT,GAAwB;EAAA;;EACtB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,EAAxC;EAEA,MAAMM,QAAQ,GAAGL,WAAW,CAACM,KAAK,IAAI;IACpC,MAAMC,OAAO,GAAGD,KAAK,CAACE,IAAtB;;IACA,QAAQD,OAAO,CAACE,OAAhB;MACA,KAAK,UAAL;QACEL,WAAW,CAACG,OAAO,CAACC,IAAT,CAAX;QACA;IAHF;EAKD,CAP2B,EAOzB,EAPyB,CAA5B;EASAP,SAAS,CAAC,MAAM;IACdS,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmCN,QAAnC;IACA,OAAO,MAAM;MACTK,MAAM,CAACE,mBAAP,CAA2B,SAA3B,EAAsCP,QAAtC;IACH,CAFD;EAGD,CALQ,EAKN,CAACA,QAAD,CALM,CAAT;EAOA,MAAMQ,SAAS,GAAGV,QAAH,aAAGA,QAAH,uBAAGA,QAAQ,CAAEW,GAAV,CAAcC,CAAC,iBAC/B;IAAA,uBACE,QAAC,QAAD,OAAcA;IAAd;MAAA;MAAA;MAAA;IAAA;EADF,GAASA,CAAC,CAACC,IAAX;IAAA;IAAA;IAAA;EAAA,QADgB,CAAlB;EAMA,oBACE;IAAA,UAAKH;EAAL;IAAA;IAAA;IAAA;EAAA,QADF;AAGD;;GA5BQX,Y;;KAAAA,Y;;AA8BR,SAASe,QAAT,CAAkBC,OAAlB,EAAsC;EACpC,oBAAO;IAAA,WACJA,OAAO,CAACC,OAAR,GAAkB,GAAlB,GAAwB,EADpB,OACyBD,OAAO,CAACF,IADjC,UAC2CE,OAAO,CAACA,OADnD;EAAA,gBAAP;AAGD;;MAJQD,Q;;AAMV,SAASG,GAAT,GAAe;EACb,SAASC,YAAT,GAAwB;IACtBzB,MAAM,CAAC0B,WAAP,CAAmB;MACjBb,OAAO,EAAE;IADQ,CAAnB;EAGD;;EAED,SAASc,YAAT,GAAwB;IACtB3B,MAAM,CAAC0B,WAAP,CAAmB;MACjBb,OAAO,EAAE,SADQ;MAEjBS,OAAO,EAAE;IAFQ,CAAnB;EAID;;EAED,oBACE;IAAA,wBACE;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE;MAAA,wBACE,QAAC,YAAD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,YAAD;QAAc,OAAO,EAAEG,YAAvB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eAME;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QANF,eAOE,QAAC,eAAD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAPF,eAQE,QAAC,YAAD;MAAc,OAAO,EAAEE,YAAvB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QARF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAYD;;MA1BQH,G;AA4BT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}