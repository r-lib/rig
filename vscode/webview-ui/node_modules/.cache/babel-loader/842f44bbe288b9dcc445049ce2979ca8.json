{"ast":null,"code":"import { DOM } from \"../dom.js\";\nimport { ExecutionContext, Observable } from \"../observation/observable.js\";\nimport { TargetedHTMLDirective } from \"./html-directive.js\";\n\nfunction normalBind(source, context) {\n  this.source = source;\n  this.context = context;\n\n  if (this.bindingObserver === null) {\n    this.bindingObserver = Observable.binding(this.binding, this, this.isBindingVolatile);\n  }\n\n  this.updateTarget(this.bindingObserver.observe(source, context));\n}\n\nfunction triggerBind(source, context) {\n  this.source = source;\n  this.context = context;\n  this.target.addEventListener(this.targetName, this);\n}\n\nfunction normalUnbind() {\n  this.bindingObserver.disconnect();\n  this.source = null;\n  this.context = null;\n}\n\nfunction contentUnbind() {\n  this.bindingObserver.disconnect();\n  this.source = null;\n  this.context = null;\n  const view = this.target.$fastView;\n\n  if (view !== void 0 && view.isComposed) {\n    view.unbind();\n    view.needsBindOnly = true;\n  }\n}\n\nfunction triggerUnbind() {\n  this.target.removeEventListener(this.targetName, this);\n  this.source = null;\n  this.context = null;\n}\n\nfunction updateAttributeTarget(value) {\n  DOM.setAttribute(this.target, this.targetName, value);\n}\n\nfunction updateBooleanAttributeTarget(value) {\n  DOM.setBooleanAttribute(this.target, this.targetName, value);\n}\n\nfunction updateContentTarget(value) {\n  // If there's no actual value, then this equates to the\n  // empty string for the purposes of content bindings.\n  if (value === null || value === undefined) {\n    value = \"\";\n  } // If the value has a \"create\" method, then it's a template-like.\n\n\n  if (value.create) {\n    this.target.textContent = \"\";\n    let view = this.target.$fastView; // If there's no previous view that we might be able to\n    // reuse then create a new view from the template.\n\n    if (view === void 0) {\n      view = value.create();\n    } else {\n      // If there is a previous view, but it wasn't created\n      // from the same template as the new value, then we\n      // need to remove the old view if it's still in the DOM\n      // and create a new view from the template.\n      if (this.target.$fastTemplate !== value) {\n        if (view.isComposed) {\n          view.remove();\n          view.unbind();\n        }\n\n        view = value.create();\n      }\n    } // It's possible that the value is the same as the previous template\n    // and that there's actually no need to compose it.\n\n\n    if (!view.isComposed) {\n      view.isComposed = true;\n      view.bind(this.source, this.context);\n      view.insertBefore(this.target);\n      this.target.$fastView = view;\n      this.target.$fastTemplate = value;\n    } else if (view.needsBindOnly) {\n      view.needsBindOnly = false;\n      view.bind(this.source, this.context);\n    }\n  } else {\n    const view = this.target.$fastView; // If there is a view and it's currently composed into\n    // the DOM, then we need to remove it.\n\n    if (view !== void 0 && view.isComposed) {\n      view.isComposed = false;\n      view.remove();\n\n      if (view.needsBindOnly) {\n        view.needsBindOnly = false;\n      } else {\n        view.unbind();\n      }\n    }\n\n    this.target.textContent = value;\n  }\n}\n\nfunction updatePropertyTarget(value) {\n  this.target[this.targetName] = value;\n}\n\nfunction updateClassTarget(value) {\n  const classVersions = this.classVersions || Object.create(null);\n  const target = this.target;\n  let version = this.version || 0; // Add the classes, tracking the version at which they were added.\n\n  if (value !== null && value !== undefined && value.length) {\n    const names = value.split(/\\s+/);\n\n    for (let i = 0, ii = names.length; i < ii; ++i) {\n      const currentName = names[i];\n\n      if (currentName === \"\") {\n        continue;\n      }\n\n      classVersions[currentName] = version;\n      target.classList.add(currentName);\n    }\n  }\n\n  this.classVersions = classVersions;\n  this.version = version + 1; // If this is the first call to add classes, there's no need to remove old ones.\n\n  if (version === 0) {\n    return;\n  } // Remove classes from the previous version.\n\n\n  version -= 1;\n\n  for (const name in classVersions) {\n    if (classVersions[name] === version) {\n      target.classList.remove(name);\n    }\n  }\n}\n/**\n * A directive that configures data binding to element content and attributes.\n * @public\n */\n\n\nexport class HTMLBindingDirective extends TargetedHTMLDirective {\n  /**\n   * Creates an instance of BindingDirective.\n   * @param binding - A binding that returns the data used to update the DOM.\n   */\n  constructor(binding) {\n    super();\n    this.binding = binding;\n    this.bind = normalBind;\n    this.unbind = normalUnbind;\n    this.updateTarget = updateAttributeTarget;\n    this.isBindingVolatile = Observable.isVolatileBinding(this.binding);\n  }\n  /**\n   * Gets/sets the name of the attribute or property that this\n   * binding is targeting.\n   */\n\n\n  get targetName() {\n    return this.originalTargetName;\n  }\n\n  set targetName(value) {\n    this.originalTargetName = value;\n\n    if (value === void 0) {\n      return;\n    }\n\n    switch (value[0]) {\n      case \":\":\n        this.cleanedTargetName = value.substr(1);\n        this.updateTarget = updatePropertyTarget;\n\n        if (this.cleanedTargetName === \"innerHTML\") {\n          const binding = this.binding;\n\n          this.binding = (s, c) => DOM.createHTML(binding(s, c));\n        }\n\n        break;\n\n      case \"?\":\n        this.cleanedTargetName = value.substr(1);\n        this.updateTarget = updateBooleanAttributeTarget;\n        break;\n\n      case \"@\":\n        this.cleanedTargetName = value.substr(1);\n        this.bind = triggerBind;\n        this.unbind = triggerUnbind;\n        break;\n\n      default:\n        this.cleanedTargetName = value;\n\n        if (value === \"class\") {\n          this.updateTarget = updateClassTarget;\n        }\n\n        break;\n    }\n  }\n  /**\n   * Makes this binding target the content of an element rather than\n   * a particular attribute or property.\n   */\n\n\n  targetAtContent() {\n    this.updateTarget = updateContentTarget;\n    this.unbind = contentUnbind;\n  }\n  /**\n   * Creates the runtime BindingBehavior instance based on the configuration\n   * information stored in the BindingDirective.\n   * @param target - The target node that the binding behavior should attach to.\n   */\n\n\n  createBehavior(target) {\n    /* eslint-disable-next-line @typescript-eslint/no-use-before-define */\n    return new BindingBehavior(target, this.binding, this.isBindingVolatile, this.bind, this.unbind, this.updateTarget, this.cleanedTargetName);\n  }\n\n}\n/**\n * A behavior that updates content and attributes based on a configured\n * BindingDirective.\n * @public\n */\n\nexport class BindingBehavior {\n  /**\n   * Creates an instance of BindingBehavior.\n   * @param target - The target of the data updates.\n   * @param binding - The binding that returns the latest value for an update.\n   * @param isBindingVolatile - Indicates whether the binding has volatile dependencies.\n   * @param bind - The operation to perform during binding.\n   * @param unbind - The operation to perform during unbinding.\n   * @param updateTarget - The operation to perform when updating.\n   * @param targetName - The name of the target attribute or property to update.\n   */\n  constructor(target, binding, isBindingVolatile, bind, unbind, updateTarget, targetName) {\n    /** @internal */\n    this.source = null;\n    /** @internal */\n\n    this.context = null;\n    /** @internal */\n\n    this.bindingObserver = null;\n    this.target = target;\n    this.binding = binding;\n    this.isBindingVolatile = isBindingVolatile;\n    this.bind = bind;\n    this.unbind = unbind;\n    this.updateTarget = updateTarget;\n    this.targetName = targetName;\n  }\n  /** @internal */\n\n\n  handleChange() {\n    this.updateTarget(this.bindingObserver.observe(this.source, this.context));\n  }\n  /** @internal */\n\n\n  handleEvent(event) {\n    ExecutionContext.setEvent(event);\n    const result = this.binding(this.source, this.context);\n    ExecutionContext.setEvent(null);\n\n    if (result !== true) {\n      event.preventDefault();\n    }\n  }\n\n}","map":{"version":3,"names":["DOM","ExecutionContext","Observable","TargetedHTMLDirective","normalBind","source","context","bindingObserver","binding","isBindingVolatile","updateTarget","observe","triggerBind","target","addEventListener","targetName","normalUnbind","disconnect","contentUnbind","view","$fastView","isComposed","unbind","needsBindOnly","triggerUnbind","removeEventListener","updateAttributeTarget","value","setAttribute","updateBooleanAttributeTarget","setBooleanAttribute","updateContentTarget","undefined","create","textContent","$fastTemplate","remove","bind","insertBefore","updatePropertyTarget","updateClassTarget","classVersions","Object","version","length","names","split","i","ii","currentName","classList","add","name","HTMLBindingDirective","constructor","isVolatileBinding","originalTargetName","cleanedTargetName","substr","s","c","createHTML","targetAtContent","createBehavior","BindingBehavior","handleChange","handleEvent","event","setEvent","result","preventDefault"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-element/dist/esm/templating/binding.js"],"sourcesContent":["import { DOM } from \"../dom.js\";\nimport { ExecutionContext, Observable, } from \"../observation/observable.js\";\nimport { TargetedHTMLDirective } from \"./html-directive.js\";\nfunction normalBind(source, context) {\n    this.source = source;\n    this.context = context;\n    if (this.bindingObserver === null) {\n        this.bindingObserver = Observable.binding(this.binding, this, this.isBindingVolatile);\n    }\n    this.updateTarget(this.bindingObserver.observe(source, context));\n}\nfunction triggerBind(source, context) {\n    this.source = source;\n    this.context = context;\n    this.target.addEventListener(this.targetName, this);\n}\nfunction normalUnbind() {\n    this.bindingObserver.disconnect();\n    this.source = null;\n    this.context = null;\n}\nfunction contentUnbind() {\n    this.bindingObserver.disconnect();\n    this.source = null;\n    this.context = null;\n    const view = this.target.$fastView;\n    if (view !== void 0 && view.isComposed) {\n        view.unbind();\n        view.needsBindOnly = true;\n    }\n}\nfunction triggerUnbind() {\n    this.target.removeEventListener(this.targetName, this);\n    this.source = null;\n    this.context = null;\n}\nfunction updateAttributeTarget(value) {\n    DOM.setAttribute(this.target, this.targetName, value);\n}\nfunction updateBooleanAttributeTarget(value) {\n    DOM.setBooleanAttribute(this.target, this.targetName, value);\n}\nfunction updateContentTarget(value) {\n    // If there's no actual value, then this equates to the\n    // empty string for the purposes of content bindings.\n    if (value === null || value === undefined) {\n        value = \"\";\n    }\n    // If the value has a \"create\" method, then it's a template-like.\n    if (value.create) {\n        this.target.textContent = \"\";\n        let view = this.target.$fastView;\n        // If there's no previous view that we might be able to\n        // reuse then create a new view from the template.\n        if (view === void 0) {\n            view = value.create();\n        }\n        else {\n            // If there is a previous view, but it wasn't created\n            // from the same template as the new value, then we\n            // need to remove the old view if it's still in the DOM\n            // and create a new view from the template.\n            if (this.target.$fastTemplate !== value) {\n                if (view.isComposed) {\n                    view.remove();\n                    view.unbind();\n                }\n                view = value.create();\n            }\n        }\n        // It's possible that the value is the same as the previous template\n        // and that there's actually no need to compose it.\n        if (!view.isComposed) {\n            view.isComposed = true;\n            view.bind(this.source, this.context);\n            view.insertBefore(this.target);\n            this.target.$fastView = view;\n            this.target.$fastTemplate = value;\n        }\n        else if (view.needsBindOnly) {\n            view.needsBindOnly = false;\n            view.bind(this.source, this.context);\n        }\n    }\n    else {\n        const view = this.target.$fastView;\n        // If there is a view and it's currently composed into\n        // the DOM, then we need to remove it.\n        if (view !== void 0 && view.isComposed) {\n            view.isComposed = false;\n            view.remove();\n            if (view.needsBindOnly) {\n                view.needsBindOnly = false;\n            }\n            else {\n                view.unbind();\n            }\n        }\n        this.target.textContent = value;\n    }\n}\nfunction updatePropertyTarget(value) {\n    this.target[this.targetName] = value;\n}\nfunction updateClassTarget(value) {\n    const classVersions = this.classVersions || Object.create(null);\n    const target = this.target;\n    let version = this.version || 0;\n    // Add the classes, tracking the version at which they were added.\n    if (value !== null && value !== undefined && value.length) {\n        const names = value.split(/\\s+/);\n        for (let i = 0, ii = names.length; i < ii; ++i) {\n            const currentName = names[i];\n            if (currentName === \"\") {\n                continue;\n            }\n            classVersions[currentName] = version;\n            target.classList.add(currentName);\n        }\n    }\n    this.classVersions = classVersions;\n    this.version = version + 1;\n    // If this is the first call to add classes, there's no need to remove old ones.\n    if (version === 0) {\n        return;\n    }\n    // Remove classes from the previous version.\n    version -= 1;\n    for (const name in classVersions) {\n        if (classVersions[name] === version) {\n            target.classList.remove(name);\n        }\n    }\n}\n/**\n * A directive that configures data binding to element content and attributes.\n * @public\n */\nexport class HTMLBindingDirective extends TargetedHTMLDirective {\n    /**\n     * Creates an instance of BindingDirective.\n     * @param binding - A binding that returns the data used to update the DOM.\n     */\n    constructor(binding) {\n        super();\n        this.binding = binding;\n        this.bind = normalBind;\n        this.unbind = normalUnbind;\n        this.updateTarget = updateAttributeTarget;\n        this.isBindingVolatile = Observable.isVolatileBinding(this.binding);\n    }\n    /**\n     * Gets/sets the name of the attribute or property that this\n     * binding is targeting.\n     */\n    get targetName() {\n        return this.originalTargetName;\n    }\n    set targetName(value) {\n        this.originalTargetName = value;\n        if (value === void 0) {\n            return;\n        }\n        switch (value[0]) {\n            case \":\":\n                this.cleanedTargetName = value.substr(1);\n                this.updateTarget = updatePropertyTarget;\n                if (this.cleanedTargetName === \"innerHTML\") {\n                    const binding = this.binding;\n                    this.binding = (s, c) => DOM.createHTML(binding(s, c));\n                }\n                break;\n            case \"?\":\n                this.cleanedTargetName = value.substr(1);\n                this.updateTarget = updateBooleanAttributeTarget;\n                break;\n            case \"@\":\n                this.cleanedTargetName = value.substr(1);\n                this.bind = triggerBind;\n                this.unbind = triggerUnbind;\n                break;\n            default:\n                this.cleanedTargetName = value;\n                if (value === \"class\") {\n                    this.updateTarget = updateClassTarget;\n                }\n                break;\n        }\n    }\n    /**\n     * Makes this binding target the content of an element rather than\n     * a particular attribute or property.\n     */\n    targetAtContent() {\n        this.updateTarget = updateContentTarget;\n        this.unbind = contentUnbind;\n    }\n    /**\n     * Creates the runtime BindingBehavior instance based on the configuration\n     * information stored in the BindingDirective.\n     * @param target - The target node that the binding behavior should attach to.\n     */\n    createBehavior(target) {\n        /* eslint-disable-next-line @typescript-eslint/no-use-before-define */\n        return new BindingBehavior(target, this.binding, this.isBindingVolatile, this.bind, this.unbind, this.updateTarget, this.cleanedTargetName);\n    }\n}\n/**\n * A behavior that updates content and attributes based on a configured\n * BindingDirective.\n * @public\n */\nexport class BindingBehavior {\n    /**\n     * Creates an instance of BindingBehavior.\n     * @param target - The target of the data updates.\n     * @param binding - The binding that returns the latest value for an update.\n     * @param isBindingVolatile - Indicates whether the binding has volatile dependencies.\n     * @param bind - The operation to perform during binding.\n     * @param unbind - The operation to perform during unbinding.\n     * @param updateTarget - The operation to perform when updating.\n     * @param targetName - The name of the target attribute or property to update.\n     */\n    constructor(target, binding, isBindingVolatile, bind, unbind, updateTarget, targetName) {\n        /** @internal */\n        this.source = null;\n        /** @internal */\n        this.context = null;\n        /** @internal */\n        this.bindingObserver = null;\n        this.target = target;\n        this.binding = binding;\n        this.isBindingVolatile = isBindingVolatile;\n        this.bind = bind;\n        this.unbind = unbind;\n        this.updateTarget = updateTarget;\n        this.targetName = targetName;\n    }\n    /** @internal */\n    handleChange() {\n        this.updateTarget(this.bindingObserver.observe(this.source, this.context));\n    }\n    /** @internal */\n    handleEvent(event) {\n        ExecutionContext.setEvent(event);\n        const result = this.binding(this.source, this.context);\n        ExecutionContext.setEvent(null);\n        if (result !== true) {\n            event.preventDefault();\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}