{"ast":null,"code":"import _classCallCheck from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _get from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/get.js\";\nimport _getPrototypeOf from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _inherits from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport { __decorate } from \"tslib\";\nimport { attr, DOM, Observable } from \"@microsoft/fast-element\";\nimport { keyEscape, keyTab } from \"@microsoft/fast-web-utilities\";\nimport { isTabbable } from \"tabbable\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A Switch Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#dialog | ARIA dialog }.\n *\n * @slot - The default slot for the dialog content\n * @csspart positioning-region - A wrapping element used to center the dialog and position the modal overlay\n * @csspart overlay - The modal dialog overlay\n * @csspart control - The dialog element\n * @fires cancel - Fires a custom 'cancel' event when the modal overlay is clicked\n * @fires close - Fires a custom 'close' event when the dialog is hidden\n *\n * @public\n */\n\nexport var Dialog = /*#__PURE__*/function (_FoundationElement) {\n  _inherits(Dialog, _FoundationElement);\n\n  var _super = _createSuper(Dialog);\n\n  function Dialog() {\n    var _this;\n\n    _classCallCheck(this, Dialog);\n\n    _this = _super.apply(this, arguments);\n    /**\n     * Indicates the element is modal. When modal, user mouse interaction will be limited to the contents of the element by a modal\n     * overlay.  Clicks on the overlay will cause the dialog to emit a \"dismiss\" event.\n     * @public\n     * @defaultValue - true\n     * @remarks\n     * HTML Attribute: modal\n     */\n\n    _this.modal = true;\n    /**\n     * The hidden state of the element.\n     *\n     * @public\n     * @defaultValue - false\n     * @remarks\n     * HTML Attribute: hidden\n     */\n\n    _this.hidden = false;\n    /**\n     * Indicates that the dialog should trap focus.\n     *\n     * @public\n     * @defaultValue - true\n     * @remarks\n     * HTML Attribute: trap-focus\n     */\n\n    _this.trapFocus = true;\n\n    _this.trapFocusChanged = function () {\n      if (_this.$fastController.isConnected) {\n        _this.updateTrapFocus();\n      }\n    };\n    /**\n     * @internal\n     */\n\n\n    _this.isTrappingFocus = false;\n\n    _this.handleDocumentKeydown = function (e) {\n      if (!e.defaultPrevented && !_this.hidden) {\n        switch (e.key) {\n          case keyEscape:\n            _this.dismiss();\n\n            e.preventDefault();\n            break;\n\n          case keyTab:\n            _this.handleTabKeyDown(e);\n\n            break;\n        }\n      }\n    };\n\n    _this.handleDocumentFocus = function (e) {\n      if (!e.defaultPrevented && _this.shouldForceFocus(e.target)) {\n        _this.focusFirstElement();\n\n        e.preventDefault();\n      }\n    };\n\n    _this.handleTabKeyDown = function (e) {\n      if (!_this.trapFocus || _this.hidden) {\n        return;\n      }\n\n      var bounds = _this.getTabQueueBounds();\n\n      if (bounds.length === 0) {\n        return;\n      }\n\n      if (bounds.length === 1) {\n        // keep focus on single element\n        bounds[0].focus();\n        e.preventDefault();\n        return;\n      }\n\n      if (e.shiftKey && e.target === bounds[0]) {\n        bounds[bounds.length - 1].focus();\n        e.preventDefault();\n      } else if (!e.shiftKey && e.target === bounds[bounds.length - 1]) {\n        bounds[0].focus();\n        e.preventDefault();\n      }\n\n      return;\n    };\n\n    _this.getTabQueueBounds = function () {\n      var bounds = [];\n      return Dialog.reduceTabbableItems(bounds, _assertThisInitialized(_this));\n    };\n    /**\n     * focus on first element of tab queue\n     */\n\n\n    _this.focusFirstElement = function () {\n      var bounds = _this.getTabQueueBounds();\n\n      if (bounds.length > 0) {\n        bounds[0].focus();\n      } else {\n        if (_this.dialog instanceof HTMLElement) {\n          _this.dialog.focus();\n        }\n      }\n    };\n    /**\n     * we should only focus if focus has not already been brought to the dialog\n     */\n\n\n    _this.shouldForceFocus = function (currentFocusElement) {\n      return _this.isTrappingFocus && !_this.contains(currentFocusElement);\n    };\n    /**\n     * we should we be active trapping focus\n     */\n\n\n    _this.shouldTrapFocus = function () {\n      return _this.trapFocus && !_this.hidden;\n    };\n    /**\n     *\n     *\n     * @internal\n     */\n\n\n    _this.updateTrapFocus = function (shouldTrapFocusOverride) {\n      var shouldTrapFocus = shouldTrapFocusOverride === undefined ? _this.shouldTrapFocus() : shouldTrapFocusOverride;\n\n      if (shouldTrapFocus && !_this.isTrappingFocus) {\n        _this.isTrappingFocus = true; // Add an event listener for focusin events if we are trapping focus\n\n        document.addEventListener(\"focusin\", _this.handleDocumentFocus);\n        DOM.queueUpdate(function () {\n          if (_this.shouldForceFocus(document.activeElement)) {\n            _this.focusFirstElement();\n          }\n        });\n      } else if (!shouldTrapFocus && _this.isTrappingFocus) {\n        _this.isTrappingFocus = false; // remove event listener if we are not trapping focus\n\n        document.removeEventListener(\"focusin\", _this.handleDocumentFocus);\n      }\n    };\n\n    return _this;\n  }\n  /**\n   * @internal\n   */\n\n\n  _createClass(Dialog, [{\n    key: \"dismiss\",\n    value: function dismiss() {\n      this.$emit(\"dismiss\"); // implement `<dialog>` interface\n\n      this.$emit(\"cancel\");\n    }\n    /**\n     * The method to show the dialog.\n     *\n     * @public\n     */\n\n  }, {\n    key: \"show\",\n    value: function show() {\n      this.hidden = false;\n    }\n    /**\n     * The method to hide the dialog.\n     *\n     * @public\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      this.hidden = true; // implement `<dialog>` interface\n\n      this.$emit(\"close\");\n    }\n    /**\n     * @internal\n     */\n\n  }, {\n    key: \"connectedCallback\",\n    value: function connectedCallback() {\n      _get(_getPrototypeOf(Dialog.prototype), \"connectedCallback\", this).call(this);\n\n      document.addEventListener(\"keydown\", this.handleDocumentKeydown);\n      this.notifier = Observable.getNotifier(this);\n      this.notifier.subscribe(this, \"hidden\");\n      this.updateTrapFocus();\n    }\n    /**\n     * @internal\n     */\n\n  }, {\n    key: \"disconnectedCallback\",\n    value: function disconnectedCallback() {\n      _get(_getPrototypeOf(Dialog.prototype), \"disconnectedCallback\", this).call(this); // remove keydown event listener\n\n\n      document.removeEventListener(\"keydown\", this.handleDocumentKeydown); // if we are trapping focus remove the focusin listener\n\n      this.updateTrapFocus(false);\n      this.notifier.unsubscribe(this, \"hidden\");\n    }\n    /**\n     * @internal\n     */\n\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(source, propertyName) {\n      switch (propertyName) {\n        case \"hidden\":\n          this.updateTrapFocus();\n          break;\n\n        default:\n          break;\n      }\n    }\n    /**\n     * Reduce a collection to only its focusable elements.\n     *\n     * @param elements - Collection of elements to reduce\n     * @param element - The current element\n     *\n     * @internal\n     */\n\n  }], [{\n    key: \"reduceTabbableItems\",\n    value: function reduceTabbableItems(elements, element) {\n      if (element.getAttribute(\"tabindex\") === \"-1\") {\n        return elements;\n      }\n\n      if (isTabbable(element) || Dialog.isFocusableFastElement(element) && Dialog.hasTabbableShadow(element)) {\n        elements.push(element);\n        return elements;\n      }\n\n      if (element.childElementCount) {\n        return elements.concat(Array.from(element.children).reduce(Dialog.reduceTabbableItems, []));\n      }\n\n      return elements;\n    }\n    /**\n     * Test if element is focusable fast element\n     *\n     * @param element - The element to check\n     *\n     * @internal\n     */\n\n  }, {\n    key: \"isFocusableFastElement\",\n    value: function isFocusableFastElement(element) {\n      var _a, _b;\n\n      return !!((_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus);\n    }\n    /**\n     * Test if the element has a focusable shadow\n     *\n     * @param element - The element to check\n     *\n     * @internal\n     */\n\n  }, {\n    key: \"hasTabbableShadow\",\n    value: function hasTabbableShadow(element) {\n      var _a, _b;\n\n      return Array.from((_b = (_a = element.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\"*\")) !== null && _b !== void 0 ? _b : []).some(function (x) {\n        return isTabbable(x);\n      });\n    }\n  }]);\n\n  return Dialog;\n}(FoundationElement);\n\n__decorate([attr({\n  mode: \"boolean\"\n})], Dialog.prototype, \"modal\", void 0);\n\n__decorate([attr({\n  mode: \"boolean\"\n})], Dialog.prototype, \"hidden\", void 0);\n\n__decorate([attr({\n  attribute: \"trap-focus\",\n  mode: \"boolean\"\n})], Dialog.prototype, \"trapFocus\", void 0);\n\n__decorate([attr({\n  attribute: \"aria-describedby\"\n})], Dialog.prototype, \"ariaDescribedby\", void 0);\n\n__decorate([attr({\n  attribute: \"aria-labelledby\"\n})], Dialog.prototype, \"ariaLabelledby\", void 0);\n\n__decorate([attr({\n  attribute: \"aria-label\"\n})], Dialog.prototype, \"ariaLabel\", void 0);","map":{"version":3,"names":["__decorate","attr","DOM","Observable","keyEscape","keyTab","isTabbable","FoundationElement","Dialog","arguments","modal","hidden","trapFocus","trapFocusChanged","$fastController","isConnected","updateTrapFocus","isTrappingFocus","handleDocumentKeydown","e","defaultPrevented","key","dismiss","preventDefault","handleTabKeyDown","handleDocumentFocus","shouldForceFocus","target","focusFirstElement","bounds","getTabQueueBounds","length","focus","shiftKey","reduceTabbableItems","dialog","HTMLElement","currentFocusElement","contains","shouldTrapFocus","shouldTrapFocusOverride","undefined","document","addEventListener","queueUpdate","activeElement","removeEventListener","$emit","notifier","getNotifier","subscribe","unsubscribe","source","propertyName","elements","element","getAttribute","isFocusableFastElement","hasTabbableShadow","push","childElementCount","concat","Array","from","children","reduce","_a","_b","definition","shadowOptions","delegatesFocus","shadowRoot","querySelectorAll","some","x","mode","prototype","attribute"],"sources":["/Users/gaborcsardi/works/rig/vscode/webview-ui/node_modules/@microsoft/fast-foundation/dist/esm/dialog/dialog.js"],"sourcesContent":["import { __decorate } from \"tslib\";\nimport { attr, DOM, Observable } from \"@microsoft/fast-element\";\nimport { keyEscape, keyTab } from \"@microsoft/fast-web-utilities\";\nimport { isTabbable } from \"tabbable\";\nimport { FoundationElement } from \"../foundation-element/foundation-element.js\";\n/**\n * A Switch Custom HTML Element.\n * Implements the {@link https://www.w3.org/TR/wai-aria-1.1/#dialog | ARIA dialog }.\n *\n * @slot - The default slot for the dialog content\n * @csspart positioning-region - A wrapping element used to center the dialog and position the modal overlay\n * @csspart overlay - The modal dialog overlay\n * @csspart control - The dialog element\n * @fires cancel - Fires a custom 'cancel' event when the modal overlay is clicked\n * @fires close - Fires a custom 'close' event when the dialog is hidden\n *\n * @public\n */\nexport class Dialog extends FoundationElement {\n    constructor() {\n        super(...arguments);\n        /**\n         * Indicates the element is modal. When modal, user mouse interaction will be limited to the contents of the element by a modal\n         * overlay.  Clicks on the overlay will cause the dialog to emit a \"dismiss\" event.\n         * @public\n         * @defaultValue - true\n         * @remarks\n         * HTML Attribute: modal\n         */\n        this.modal = true;\n        /**\n         * The hidden state of the element.\n         *\n         * @public\n         * @defaultValue - false\n         * @remarks\n         * HTML Attribute: hidden\n         */\n        this.hidden = false;\n        /**\n         * Indicates that the dialog should trap focus.\n         *\n         * @public\n         * @defaultValue - true\n         * @remarks\n         * HTML Attribute: trap-focus\n         */\n        this.trapFocus = true;\n        this.trapFocusChanged = () => {\n            if (this.$fastController.isConnected) {\n                this.updateTrapFocus();\n            }\n        };\n        /**\n         * @internal\n         */\n        this.isTrappingFocus = false;\n        this.handleDocumentKeydown = (e) => {\n            if (!e.defaultPrevented && !this.hidden) {\n                switch (e.key) {\n                    case keyEscape:\n                        this.dismiss();\n                        e.preventDefault();\n                        break;\n                    case keyTab:\n                        this.handleTabKeyDown(e);\n                        break;\n                }\n            }\n        };\n        this.handleDocumentFocus = (e) => {\n            if (!e.defaultPrevented && this.shouldForceFocus(e.target)) {\n                this.focusFirstElement();\n                e.preventDefault();\n            }\n        };\n        this.handleTabKeyDown = (e) => {\n            if (!this.trapFocus || this.hidden) {\n                return;\n            }\n            const bounds = this.getTabQueueBounds();\n            if (bounds.length === 0) {\n                return;\n            }\n            if (bounds.length === 1) {\n                // keep focus on single element\n                bounds[0].focus();\n                e.preventDefault();\n                return;\n            }\n            if (e.shiftKey && e.target === bounds[0]) {\n                bounds[bounds.length - 1].focus();\n                e.preventDefault();\n            }\n            else if (!e.shiftKey && e.target === bounds[bounds.length - 1]) {\n                bounds[0].focus();\n                e.preventDefault();\n            }\n            return;\n        };\n        this.getTabQueueBounds = () => {\n            const bounds = [];\n            return Dialog.reduceTabbableItems(bounds, this);\n        };\n        /**\n         * focus on first element of tab queue\n         */\n        this.focusFirstElement = () => {\n            const bounds = this.getTabQueueBounds();\n            if (bounds.length > 0) {\n                bounds[0].focus();\n            }\n            else {\n                if (this.dialog instanceof HTMLElement) {\n                    this.dialog.focus();\n                }\n            }\n        };\n        /**\n         * we should only focus if focus has not already been brought to the dialog\n         */\n        this.shouldForceFocus = (currentFocusElement) => {\n            return this.isTrappingFocus && !this.contains(currentFocusElement);\n        };\n        /**\n         * we should we be active trapping focus\n         */\n        this.shouldTrapFocus = () => {\n            return this.trapFocus && !this.hidden;\n        };\n        /**\n         *\n         *\n         * @internal\n         */\n        this.updateTrapFocus = (shouldTrapFocusOverride) => {\n            const shouldTrapFocus = shouldTrapFocusOverride === undefined\n                ? this.shouldTrapFocus()\n                : shouldTrapFocusOverride;\n            if (shouldTrapFocus && !this.isTrappingFocus) {\n                this.isTrappingFocus = true;\n                // Add an event listener for focusin events if we are trapping focus\n                document.addEventListener(\"focusin\", this.handleDocumentFocus);\n                DOM.queueUpdate(() => {\n                    if (this.shouldForceFocus(document.activeElement)) {\n                        this.focusFirstElement();\n                    }\n                });\n            }\n            else if (!shouldTrapFocus && this.isTrappingFocus) {\n                this.isTrappingFocus = false;\n                // remove event listener if we are not trapping focus\n                document.removeEventListener(\"focusin\", this.handleDocumentFocus);\n            }\n        };\n    }\n    /**\n     * @internal\n     */\n    dismiss() {\n        this.$emit(\"dismiss\");\n        // implement `<dialog>` interface\n        this.$emit(\"cancel\");\n    }\n    /**\n     * The method to show the dialog.\n     *\n     * @public\n     */\n    show() {\n        this.hidden = false;\n    }\n    /**\n     * The method to hide the dialog.\n     *\n     * @public\n     */\n    hide() {\n        this.hidden = true;\n        // implement `<dialog>` interface\n        this.$emit(\"close\");\n    }\n    /**\n     * @internal\n     */\n    connectedCallback() {\n        super.connectedCallback();\n        document.addEventListener(\"keydown\", this.handleDocumentKeydown);\n        this.notifier = Observable.getNotifier(this);\n        this.notifier.subscribe(this, \"hidden\");\n        this.updateTrapFocus();\n    }\n    /**\n     * @internal\n     */\n    disconnectedCallback() {\n        super.disconnectedCallback();\n        // remove keydown event listener\n        document.removeEventListener(\"keydown\", this.handleDocumentKeydown);\n        // if we are trapping focus remove the focusin listener\n        this.updateTrapFocus(false);\n        this.notifier.unsubscribe(this, \"hidden\");\n    }\n    /**\n     * @internal\n     */\n    handleChange(source, propertyName) {\n        switch (propertyName) {\n            case \"hidden\":\n                this.updateTrapFocus();\n                break;\n            default:\n                break;\n        }\n    }\n    /**\n     * Reduce a collection to only its focusable elements.\n     *\n     * @param elements - Collection of elements to reduce\n     * @param element - The current element\n     *\n     * @internal\n     */\n    static reduceTabbableItems(elements, element) {\n        if (element.getAttribute(\"tabindex\") === \"-1\") {\n            return elements;\n        }\n        if (isTabbable(element) ||\n            (Dialog.isFocusableFastElement(element) && Dialog.hasTabbableShadow(element))) {\n            elements.push(element);\n            return elements;\n        }\n        if (element.childElementCount) {\n            return elements.concat(Array.from(element.children).reduce(Dialog.reduceTabbableItems, []));\n        }\n        return elements;\n    }\n    /**\n     * Test if element is focusable fast element\n     *\n     * @param element - The element to check\n     *\n     * @internal\n     */\n    static isFocusableFastElement(element) {\n        var _a, _b;\n        return !!((_b = (_a = element.$fastController) === null || _a === void 0 ? void 0 : _a.definition.shadowOptions) === null || _b === void 0 ? void 0 : _b.delegatesFocus);\n    }\n    /**\n     * Test if the element has a focusable shadow\n     *\n     * @param element - The element to check\n     *\n     * @internal\n     */\n    static hasTabbableShadow(element) {\n        var _a, _b;\n        return Array.from((_b = (_a = element.shadowRoot) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\"*\")) !== null && _b !== void 0 ? _b : []).some(x => {\n            return isTabbable(x);\n        });\n    }\n}\n__decorate([\n    attr({ mode: \"boolean\" })\n], Dialog.prototype, \"modal\", void 0);\n__decorate([\n    attr({ mode: \"boolean\" })\n], Dialog.prototype, \"hidden\", void 0);\n__decorate([\n    attr({ attribute: \"trap-focus\", mode: \"boolean\" })\n], Dialog.prototype, \"trapFocus\", void 0);\n__decorate([\n    attr({ attribute: \"aria-describedby\" })\n], Dialog.prototype, \"ariaDescribedby\", void 0);\n__decorate([\n    attr({ attribute: \"aria-labelledby\" })\n], Dialog.prototype, \"ariaLabelledby\", void 0);\n__decorate([\n    attr({ attribute: \"aria-label\" })\n], Dialog.prototype, \"ariaLabel\", void 0);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}